function xv(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function $m(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Um={exports:{}},Eo={},zm={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mi=Symbol.for("react.element"),yv=Symbol.for("react.portal"),vv=Symbol.for("react.fragment"),wv=Symbol.for("react.strict_mode"),bv=Symbol.for("react.profiler"),kv=Symbol.for("react.provider"),jv=Symbol.for("react.context"),_v=Symbol.for("react.forward_ref"),Sv=Symbol.for("react.suspense"),Nv=Symbol.for("react.memo"),Ev=Symbol.for("react.lazy"),fh=Symbol.iterator;function Cv(e){return e===null||typeof e!="object"?null:(e=fh&&e[fh]||e["@@iterator"],typeof e=="function"?e:null)}var Fm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vm=Object.assign,Bm={};function ps(e,t,n){this.props=e,this.context=t,this.refs=Bm,this.updater=n||Fm}ps.prototype.isReactComponent={};ps.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ps.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Wm(){}Wm.prototype=ps.prototype;function Eu(e,t,n){this.props=e,this.context=t,this.refs=Bm,this.updater=n||Fm}var Cu=Eu.prototype=new Wm;Cu.constructor=Eu;Vm(Cu,ps.prototype);Cu.isPureReactComponent=!0;var ph=Array.isArray,qm=Object.prototype.hasOwnProperty,Tu={current:null},Hm={key:!0,ref:!0,__self:!0,__source:!0};function Km(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)qm.call(t,r)&&!Hm.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Mi,type:e,key:i,ref:o,props:s,_owner:Tu.current}}function Tv(e,t){return{$$typeof:Mi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Pu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mi}function Pv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var mh=/\/+/g;function rl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Pv(""+e.key):t.toString(36)}function Sa(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Mi:case yv:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+rl(o,0):r,ph(s)?(n="",e!=null&&(n=e.replace(mh,"$&/")+"/"),Sa(s,t,n,"",function(u){return u})):s!=null&&(Pu(s)&&(s=Tv(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(mh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",ph(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+rl(i,l);o+=Sa(i,t,n,c,s)}else if(c=Cv(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+rl(i,l++),o+=Sa(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Gi(e,t,n){if(e==null)return e;var r=[],s=0;return Sa(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Av(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},Na={transition:null},Rv={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:Na,ReactCurrentOwner:Tu};function Gm(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:Gi,forEach:function(e,t,n){Gi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Gi(e,function(){t++}),t},toArray:function(e){return Gi(e,function(t){return t})||[]},only:function(e){if(!Pu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};K.Component=ps;K.Fragment=vv;K.Profiler=bv;K.PureComponent=Eu;K.StrictMode=wv;K.Suspense=Sv;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rv;K.act=Gm;K.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Vm({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Tu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)qm.call(t,c)&&!Hm.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Mi,type:e.type,key:s,ref:i,props:r,_owner:o}};K.createContext=function(e){return e={$$typeof:jv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:kv,_context:e},e.Consumer=e};K.createElement=Km;K.createFactory=function(e){var t=Km.bind(null,e);return t.type=e,t};K.createRef=function(){return{current:null}};K.forwardRef=function(e){return{$$typeof:_v,render:e}};K.isValidElement=Pu;K.lazy=function(e){return{$$typeof:Ev,_payload:{_status:-1,_result:e},_init:Av}};K.memo=function(e,t){return{$$typeof:Nv,type:e,compare:t===void 0?null:t}};K.startTransition=function(e){var t=Na.transition;Na.transition={};try{e()}finally{Na.transition=t}};K.unstable_act=Gm;K.useCallback=function(e,t){return Be.current.useCallback(e,t)};K.useContext=function(e){return Be.current.useContext(e)};K.useDebugValue=function(){};K.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};K.useEffect=function(e,t){return Be.current.useEffect(e,t)};K.useId=function(){return Be.current.useId()};K.useImperativeHandle=function(e,t,n){return Be.current.useImperativeHandle(e,t,n)};K.useInsertionEffect=function(e,t){return Be.current.useInsertionEffect(e,t)};K.useLayoutEffect=function(e,t){return Be.current.useLayoutEffect(e,t)};K.useMemo=function(e,t){return Be.current.useMemo(e,t)};K.useReducer=function(e,t,n){return Be.current.useReducer(e,t,n)};K.useRef=function(e){return Be.current.useRef(e)};K.useState=function(e){return Be.current.useState(e)};K.useSyncExternalStore=function(e,t,n){return Be.current.useSyncExternalStore(e,t,n)};K.useTransition=function(){return Be.current.useTransition()};K.version="18.3.1";zm.exports=K;var w=zm.exports;const kn=$m(w),Ov=xv({__proto__:null,default:kn},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv=w,Lv=Symbol.for("react.element"),Dv=Symbol.for("react.fragment"),Mv=Object.prototype.hasOwnProperty,$v=Iv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Uv={key:!0,ref:!0,__self:!0,__source:!0};function Ym(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Mv.call(t,r)&&!Uv.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Lv,type:e,key:i,ref:o,props:s,_owner:$v.current}}Eo.Fragment=Dv;Eo.jsx=Ym;Eo.jsxs=Ym;Um.exports=Eo;var a=Um.exports,sc={},Jm={exports:{}},lt={},Qm={exports:{}},Xm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,A){var D=N.length;N.push(A);e:for(;0<D;){var Y=D-1>>>1,de=N[Y];if(0<s(de,A))N[Y]=A,N[D]=de,D=Y;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var A=N[0],D=N.pop();if(D!==A){N[0]=D;e:for(var Y=0,de=N.length,cn=de>>>1;Y<cn;){var Ue=2*(Y+1)-1,Vt=N[Ue],qe=Ue+1,Re=N[qe];if(0>s(Vt,D))qe<de&&0>s(Re,Vt)?(N[Y]=Re,N[qe]=D,Y=qe):(N[Y]=Vt,N[Ue]=D,Y=Ue);else if(qe<de&&0>s(Re,D))N[Y]=Re,N[qe]=D,Y=qe;else break e}}return A}function s(N,A){var D=N.sortIndex-A.sortIndex;return D!==0?D:N.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,x=!1,v=!1,k=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(N){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=N)r(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(u)}}function j(N){if(v=!1,y(N),!x)if(n(c)!==null)x=!0,ie(_);else{var A=n(u);A!==null&&B(j,A.startTime-N)}}function _(N,A){x=!1,v&&(v=!1,g(E),E=-1),p=!0;var D=f;try{for(y(A),h=n(c);h!==null&&(!(h.expirationTime>A)||N&&!H());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,f=h.priorityLevel;var de=Y(h.expirationTime<=A);A=e.unstable_now(),typeof de=="function"?h.callback=de:h===n(c)&&r(c),y(A)}else r(c);h=n(c)}if(h!==null)var cn=!0;else{var Ue=n(u);Ue!==null&&B(j,Ue.startTime-A),cn=!1}return cn}finally{h=null,f=D,p=!1}}var b=!1,S=null,E=-1,T=5,O=-1;function H(){return!(e.unstable_now()-O<T)}function X(){if(S!==null){var N=e.unstable_now();O=N;var A=!0;try{A=S(!0,N)}finally{A?C():(b=!1,S=null)}}else b=!1}var C;if(typeof m=="function")C=function(){m(X)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,se=q.port2;q.port1.onmessage=X,C=function(){se.postMessage(null)}}else C=function(){k(X,0)};function ie(N){S=N,b||(b=!0,C())}function B(N,A){E=k(function(){N(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,ie(_))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(N){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var D=f;f=A;try{return N()}finally{f=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,A){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var D=f;f=N;try{return A()}finally{f=D}},e.unstable_scheduleCallback=function(N,A,D){var Y=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?Y+D:Y):D=Y,N){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=D+de,N={id:d++,callback:A,priorityLevel:N,startTime:D,expirationTime:de,sortIndex:-1},D>Y?(N.sortIndex=D,t(u,N),n(c)===null&&N===n(u)&&(v?(g(E),E=-1):v=!0,B(j,D-Y))):(N.sortIndex=de,t(c,N),x||p||(x=!0,ie(_))),N},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(N){var A=f;return function(){var D=f;f=A;try{return N.apply(this,arguments)}finally{f=D}}}})(Xm);Qm.exports=Xm;var zv=Qm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv=w,at=zv;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zm=new Set,si={};function fr(e,t){rs(e,t),rs(e+"Capture",t)}function rs(e,t){for(si[e]=t,e=0;e<t.length;e++)Zm.add(t[e])}var Zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ic=Object.prototype.hasOwnProperty,Vv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gh={},xh={};function Bv(e){return ic.call(xh,e)?!0:ic.call(gh,e)?!1:Vv.test(e)?xh[e]=!0:(gh[e]=!0,!1)}function Wv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qv(e,t,n,r){if(t===null||typeof t>"u"||Wv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function We(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ae[e]=new We(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ae[t]=new We(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ae[e]=new We(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ae[e]=new We(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ae[e]=new We(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ae[e]=new We(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ae[e]=new We(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ae[e]=new We(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ae[e]=new We(e,5,!1,e.toLowerCase(),null,!1,!1)});var Au=/[\-:]([a-z])/g;function Ru(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Au,Ru);Ae[t]=new We(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Au,Ru);Ae[t]=new We(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Au,Ru);Ae[t]=new We(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ae[e]=new We(e,1,!1,e.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ae[e]=new We(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ou(e,t,n,r){var s=Ae.hasOwnProperty(t)?Ae[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qv(t,n,s,r)&&(n=null),r||s===null?Bv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var sn=Fv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yi=Symbol.for("react.element"),Rr=Symbol.for("react.portal"),Or=Symbol.for("react.fragment"),Iu=Symbol.for("react.strict_mode"),ac=Symbol.for("react.profiler"),e0=Symbol.for("react.provider"),t0=Symbol.for("react.context"),Lu=Symbol.for("react.forward_ref"),oc=Symbol.for("react.suspense"),lc=Symbol.for("react.suspense_list"),Du=Symbol.for("react.memo"),fn=Symbol.for("react.lazy"),n0=Symbol.for("react.offscreen"),yh=Symbol.iterator;function js(e){return e===null||typeof e!="object"?null:(e=yh&&e[yh]||e["@@iterator"],typeof e=="function"?e:null)}var ue=Object.assign,sl;function Is(e){if(sl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);sl=t&&t[1]||""}return`
`+sl+e}var il=!1;function al(e,t){if(!e||il)return"";il=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{il=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Is(e):""}function Hv(e){switch(e.tag){case 5:return Is(e.type);case 16:return Is("Lazy");case 13:return Is("Suspense");case 19:return Is("SuspenseList");case 0:case 2:case 15:return e=al(e.type,!1),e;case 11:return e=al(e.type.render,!1),e;case 1:return e=al(e.type,!0),e;default:return""}}function cc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Or:return"Fragment";case Rr:return"Portal";case ac:return"Profiler";case Iu:return"StrictMode";case oc:return"Suspense";case lc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case t0:return(e.displayName||"Context")+".Consumer";case e0:return(e._context.displayName||"Context")+".Provider";case Lu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Du:return t=e.displayName||null,t!==null?t:cc(e.type)||"Memo";case fn:t=e._payload,e=e._init;try{return cc(e(t))}catch{}}return null}function Kv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cc(t);case 8:return t===Iu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Rn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function r0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Gv(e){var t=r0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ji(e){e._valueTracker||(e._valueTracker=Gv(e))}function s0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=r0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Fa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function uc(e,t){var n=t.checked;return ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function vh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Rn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function i0(e,t){t=t.checked,t!=null&&Ou(e,"checked",t,!1)}function dc(e,t){i0(e,t);var n=Rn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hc(e,t.type,n):t.hasOwnProperty("defaultValue")&&hc(e,t.type,Rn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function hc(e,t,n){(t!=="number"||Fa(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ls=Array.isArray;function Jr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Rn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function fc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(Ls(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Rn(n)}}function a0(e,t){var n=Rn(t.value),r=Rn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function kh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function o0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?o0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qi,l0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qi=Qi||document.createElement("div"),Qi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ii(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yv=["Webkit","ms","Moz","O"];Object.keys(Vs).forEach(function(e){Yv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vs[t]=Vs[e]})});function c0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Vs.hasOwnProperty(e)&&Vs[e]?(""+t).trim():t+"px"}function u0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=c0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Jv=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mc(e,t){if(t){if(Jv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function gc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xc=null;function Mu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yc=null,Qr=null,Xr=null;function jh(e){if(e=zi(e)){if(typeof yc!="function")throw Error(P(280));var t=e.stateNode;t&&(t=Ro(t),yc(e.stateNode,e.type,t))}}function d0(e){Qr?Xr?Xr.push(e):Xr=[e]:Qr=e}function h0(){if(Qr){var e=Qr,t=Xr;if(Xr=Qr=null,jh(e),t)for(e=0;e<t.length;e++)jh(t[e])}}function f0(e,t){return e(t)}function p0(){}var ol=!1;function m0(e,t,n){if(ol)return e(t,n);ol=!0;try{return f0(e,t,n)}finally{ol=!1,(Qr!==null||Xr!==null)&&(p0(),h0())}}function ai(e,t){var n=e.stateNode;if(n===null)return null;var r=Ro(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var vc=!1;if(Zt)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){vc=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{vc=!1}function Qv(e,t,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Bs=!1,Va=null,Ba=!1,wc=null,Xv={onError:function(e){Bs=!0,Va=e}};function Zv(e,t,n,r,s,i,o,l,c){Bs=!1,Va=null,Qv.apply(Xv,arguments)}function ew(e,t,n,r,s,i,o,l,c){if(Zv.apply(this,arguments),Bs){if(Bs){var u=Va;Bs=!1,Va=null}else throw Error(P(198));Ba||(Ba=!0,wc=u)}}function pr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function g0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _h(e){if(pr(e)!==e)throw Error(P(188))}function tw(e){var t=e.alternate;if(!t){if(t=pr(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return _h(s),e;if(i===r)return _h(s),t;i=i.sibling}throw Error(P(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function x0(e){return e=tw(e),e!==null?y0(e):null}function y0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=y0(e);if(t!==null)return t;e=e.sibling}return null}var v0=at.unstable_scheduleCallback,Sh=at.unstable_cancelCallback,nw=at.unstable_shouldYield,rw=at.unstable_requestPaint,ge=at.unstable_now,sw=at.unstable_getCurrentPriorityLevel,$u=at.unstable_ImmediatePriority,w0=at.unstable_UserBlockingPriority,Wa=at.unstable_NormalPriority,iw=at.unstable_LowPriority,b0=at.unstable_IdlePriority,Co=null,Mt=null;function aw(e){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Co,e,void 0,(e.current.flags&128)===128)}catch{}}var Tt=Math.clz32?Math.clz32:cw,ow=Math.log,lw=Math.LN2;function cw(e){return e>>>=0,e===0?32:31-(ow(e)/lw|0)|0}var Xi=64,Zi=4194304;function Ds(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qa(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Ds(l):(i&=o,i!==0&&(r=Ds(i)))}else o=n&~s,o!==0?r=Ds(o):i!==0&&(r=Ds(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Tt(t),s=1<<n,r|=e[n],t&=~s;return r}function uw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Tt(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=uw(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function bc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function k0(){var e=Xi;return Xi<<=1,!(Xi&4194240)&&(Xi=64),e}function ll(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $i(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tt(t),e[t]=n}function hw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Tt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Uu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Tt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var J=0;function j0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _0,zu,S0,N0,E0,kc=!1,ea=[],jn=null,_n=null,Sn=null,oi=new Map,li=new Map,gn=[],fw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nh(e,t){switch(e){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":_n=null;break;case"mouseover":case"mouseout":Sn=null;break;case"pointerover":case"pointerout":oi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":li.delete(t.pointerId)}}function Ss(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=zi(t),t!==null&&zu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function pw(e,t,n,r,s){switch(t){case"focusin":return jn=Ss(jn,e,t,n,r,s),!0;case"dragenter":return _n=Ss(_n,e,t,n,r,s),!0;case"mouseover":return Sn=Ss(Sn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return oi.set(i,Ss(oi.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,li.set(i,Ss(li.get(i)||null,e,t,n,r,s)),!0}return!1}function C0(e){var t=Zn(e.target);if(t!==null){var n=pr(t);if(n!==null){if(t=n.tag,t===13){if(t=g0(n),t!==null){e.blockedOn=t,E0(e.priority,function(){S0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ea(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=jc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);xc=r,n.target.dispatchEvent(r),xc=null}else return t=zi(n),t!==null&&zu(t),e.blockedOn=n,!1;t.shift()}return!0}function Eh(e,t,n){Ea(e)&&n.delete(t)}function mw(){kc=!1,jn!==null&&Ea(jn)&&(jn=null),_n!==null&&Ea(_n)&&(_n=null),Sn!==null&&Ea(Sn)&&(Sn=null),oi.forEach(Eh),li.forEach(Eh)}function Ns(e,t){e.blockedOn===t&&(e.blockedOn=null,kc||(kc=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,mw)))}function ci(e){function t(s){return Ns(s,e)}if(0<ea.length){Ns(ea[0],e);for(var n=1;n<ea.length;n++){var r=ea[n];r.blockedOn===e&&(r.blockedOn=null)}}for(jn!==null&&Ns(jn,e),_n!==null&&Ns(_n,e),Sn!==null&&Ns(Sn,e),oi.forEach(t),li.forEach(t),n=0;n<gn.length;n++)r=gn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<gn.length&&(n=gn[0],n.blockedOn===null);)C0(n),n.blockedOn===null&&gn.shift()}var Zr=sn.ReactCurrentBatchConfig,Ha=!0;function gw(e,t,n,r){var s=J,i=Zr.transition;Zr.transition=null;try{J=1,Fu(e,t,n,r)}finally{J=s,Zr.transition=i}}function xw(e,t,n,r){var s=J,i=Zr.transition;Zr.transition=null;try{J=4,Fu(e,t,n,r)}finally{J=s,Zr.transition=i}}function Fu(e,t,n,r){if(Ha){var s=jc(e,t,n,r);if(s===null)yl(e,t,r,Ka,n),Nh(e,r);else if(pw(s,e,t,n,r))r.stopPropagation();else if(Nh(e,r),t&4&&-1<fw.indexOf(e)){for(;s!==null;){var i=zi(s);if(i!==null&&_0(i),i=jc(e,t,n,r),i===null&&yl(e,t,r,Ka,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else yl(e,t,r,null,n)}}var Ka=null;function jc(e,t,n,r){if(Ka=null,e=Mu(r),e=Zn(e),e!==null)if(t=pr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=g0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ka=e,null}function T0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sw()){case $u:return 1;case w0:return 4;case Wa:case iw:return 16;case b0:return 536870912;default:return 16}default:return 16}}var vn=null,Vu=null,Ca=null;function P0(){if(Ca)return Ca;var e,t=Vu,n=t.length,r,s="value"in vn?vn.value:vn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Ca=s.slice(e,1<r?1-r:void 0)}function Ta(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ta(){return!0}function Ch(){return!1}function ct(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ta:Ch,this.isPropagationStopped=Ch,this}return ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ta)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ta)},persist:function(){},isPersistent:ta}),t}var ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bu=ct(ms),Ui=ue({},ms,{view:0,detail:0}),yw=ct(Ui),cl,ul,Es,To=ue({},Ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Es&&(Es&&e.type==="mousemove"?(cl=e.screenX-Es.screenX,ul=e.screenY-Es.screenY):ul=cl=0,Es=e),cl)},movementY:function(e){return"movementY"in e?e.movementY:ul}}),Th=ct(To),vw=ue({},To,{dataTransfer:0}),ww=ct(vw),bw=ue({},Ui,{relatedTarget:0}),dl=ct(bw),kw=ue({},ms,{animationName:0,elapsedTime:0,pseudoElement:0}),jw=ct(kw),_w=ue({},ms,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sw=ct(_w),Nw=ue({},ms,{data:0}),Ph=ct(Nw),Ew={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Tw[e])?!!t[e]:!1}function Wu(){return Pw}var Aw=ue({},Ui,{key:function(e){if(e.key){var t=Ew[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ta(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wu,charCode:function(e){return e.type==="keypress"?Ta(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ta(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rw=ct(Aw),Ow=ue({},To,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ah=ct(Ow),Iw=ue({},Ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wu}),Lw=ct(Iw),Dw=ue({},ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mw=ct(Dw),$w=ue({},To,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Uw=ct($w),zw=[9,13,27,32],qu=Zt&&"CompositionEvent"in window,Ws=null;Zt&&"documentMode"in document&&(Ws=document.documentMode);var Fw=Zt&&"TextEvent"in window&&!Ws,A0=Zt&&(!qu||Ws&&8<Ws&&11>=Ws),Rh=" ",Oh=!1;function R0(e,t){switch(e){case"keyup":return zw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function O0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ir=!1;function Vw(e,t){switch(e){case"compositionend":return O0(t);case"keypress":return t.which!==32?null:(Oh=!0,Rh);case"textInput":return e=t.data,e===Rh&&Oh?null:e;default:return null}}function Bw(e,t){if(Ir)return e==="compositionend"||!qu&&R0(e,t)?(e=P0(),Ca=Vu=vn=null,Ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return A0&&t.locale!=="ko"?null:t.data;default:return null}}var Ww={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ih(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ww[e.type]:t==="textarea"}function I0(e,t,n,r){d0(r),t=Ga(t,"onChange"),0<t.length&&(n=new Bu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qs=null,ui=null;function qw(e){q0(e,0)}function Po(e){var t=Mr(e);if(s0(t))return e}function Hw(e,t){if(e==="change")return t}var L0=!1;if(Zt){var hl;if(Zt){var fl="oninput"in document;if(!fl){var Lh=document.createElement("div");Lh.setAttribute("oninput","return;"),fl=typeof Lh.oninput=="function"}hl=fl}else hl=!1;L0=hl&&(!document.documentMode||9<document.documentMode)}function Dh(){qs&&(qs.detachEvent("onpropertychange",D0),ui=qs=null)}function D0(e){if(e.propertyName==="value"&&Po(ui)){var t=[];I0(t,ui,e,Mu(e)),m0(qw,t)}}function Kw(e,t,n){e==="focusin"?(Dh(),qs=t,ui=n,qs.attachEvent("onpropertychange",D0)):e==="focusout"&&Dh()}function Gw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Po(ui)}function Yw(e,t){if(e==="click")return Po(t)}function Jw(e,t){if(e==="input"||e==="change")return Po(t)}function Qw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:Qw;function di(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ic.call(t,s)||!At(e[s],t[s]))return!1}return!0}function Mh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $h(e,t){var n=Mh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Mh(n)}}function M0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?M0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $0(){for(var e=window,t=Fa();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Fa(e.document)}return t}function Hu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Xw(e){var t=$0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&M0(n.ownerDocument.documentElement,n)){if(r!==null&&Hu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=$h(n,i);var o=$h(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Zw=Zt&&"documentMode"in document&&11>=document.documentMode,Lr=null,_c=null,Hs=null,Sc=!1;function Uh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sc||Lr==null||Lr!==Fa(r)||(r=Lr,"selectionStart"in r&&Hu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hs&&di(Hs,r)||(Hs=r,r=Ga(_c,"onSelect"),0<r.length&&(t=new Bu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Lr)))}function na(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Dr={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionend:na("Transition","TransitionEnd")},pl={},U0={};Zt&&(U0=document.createElement("div").style,"AnimationEvent"in window||(delete Dr.animationend.animation,delete Dr.animationiteration.animation,delete Dr.animationstart.animation),"TransitionEvent"in window||delete Dr.transitionend.transition);function Ao(e){if(pl[e])return pl[e];if(!Dr[e])return e;var t=Dr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in U0)return pl[e]=t[n];return e}var z0=Ao("animationend"),F0=Ao("animationiteration"),V0=Ao("animationstart"),B0=Ao("transitionend"),W0=new Map,zh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mn(e,t){W0.set(e,t),fr(t,[e])}for(var ml=0;ml<zh.length;ml++){var gl=zh[ml],eb=gl.toLowerCase(),tb=gl[0].toUpperCase()+gl.slice(1);Mn(eb,"on"+tb)}Mn(z0,"onAnimationEnd");Mn(F0,"onAnimationIteration");Mn(V0,"onAnimationStart");Mn("dblclick","onDoubleClick");Mn("focusin","onFocus");Mn("focusout","onBlur");Mn(B0,"onTransitionEnd");rs("onMouseEnter",["mouseout","mouseover"]);rs("onMouseLeave",["mouseout","mouseover"]);rs("onPointerEnter",["pointerout","pointerover"]);rs("onPointerLeave",["pointerout","pointerover"]);fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fr("onBeforeInput",["compositionend","keypress","textInput","paste"]);fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ms));function Fh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ew(r,t,void 0,e),e.currentTarget=null}function q0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Fh(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Fh(s,l,u),i=c}}}if(Ba)throw e=wc,Ba=!1,wc=null,e}function te(e,t){var n=t[Pc];n===void 0&&(n=t[Pc]=new Set);var r=e+"__bubble";n.has(r)||(H0(t,e,2,!1),n.add(r))}function xl(e,t,n){var r=0;t&&(r|=4),H0(n,e,r,t)}var ra="_reactListening"+Math.random().toString(36).slice(2);function hi(e){if(!e[ra]){e[ra]=!0,Zm.forEach(function(n){n!=="selectionchange"&&(nb.has(n)||xl(n,!1,e),xl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ra]||(t[ra]=!0,xl("selectionchange",!1,t))}}function H0(e,t,n,r){switch(T0(t)){case 1:var s=gw;break;case 4:s=xw;break;default:s=Fu}n=s.bind(null,t,n,e),s=void 0,!vc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function yl(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Zn(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}m0(function(){var u=i,d=Mu(n),h=[];e:{var f=W0.get(e);if(f!==void 0){var p=Bu,x=e;switch(e){case"keypress":if(Ta(n)===0)break e;case"keydown":case"keyup":p=Rw;break;case"focusin":x="focus",p=dl;break;case"focusout":x="blur",p=dl;break;case"beforeblur":case"afterblur":p=dl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Th;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ww;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Lw;break;case z0:case F0:case V0:p=jw;break;case B0:p=Mw;break;case"scroll":p=yw;break;case"wheel":p=Uw;break;case"copy":case"cut":case"paste":p=Sw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ah}var v=(t&4)!==0,k=!v&&e==="scroll",g=v?f!==null?f+"Capture":null:f;v=[];for(var m=u,y;m!==null;){y=m;var j=y.stateNode;if(y.tag===5&&j!==null&&(y=j,g!==null&&(j=ai(m,g),j!=null&&v.push(fi(m,j,y)))),k)break;m=m.return}0<v.length&&(f=new p(f,x,null,n,d),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==xc&&(x=n.relatedTarget||n.fromElement)&&(Zn(x)||x[en]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(x=n.relatedTarget||n.toElement,p=u,x=x?Zn(x):null,x!==null&&(k=pr(x),x!==k||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=u),p!==x)){if(v=Th,j="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=Ah,j="onPointerLeave",g="onPointerEnter",m="pointer"),k=p==null?f:Mr(p),y=x==null?f:Mr(x),f=new v(j,m+"leave",p,n,d),f.target=k,f.relatedTarget=y,j=null,Zn(d)===u&&(v=new v(g,m+"enter",x,n,d),v.target=y,v.relatedTarget=k,j=v),k=j,p&&x)t:{for(v=p,g=x,m=0,y=v;y;y=yr(y))m++;for(y=0,j=g;j;j=yr(j))y++;for(;0<m-y;)v=yr(v),m--;for(;0<y-m;)g=yr(g),y--;for(;m--;){if(v===g||g!==null&&v===g.alternate)break t;v=yr(v),g=yr(g)}v=null}else v=null;p!==null&&Vh(h,f,p,v,!1),x!==null&&k!==null&&Vh(h,k,x,v,!0)}}e:{if(f=u?Mr(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=Hw;else if(Ih(f))if(L0)_=Jw;else{_=Gw;var b=Kw}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=Yw);if(_&&(_=_(e,u))){I0(h,_,n,d);break e}b&&b(e,f,u),e==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&hc(f,"number",f.value)}switch(b=u?Mr(u):window,e){case"focusin":(Ih(b)||b.contentEditable==="true")&&(Lr=b,_c=u,Hs=null);break;case"focusout":Hs=_c=Lr=null;break;case"mousedown":Sc=!0;break;case"contextmenu":case"mouseup":case"dragend":Sc=!1,Uh(h,n,d);break;case"selectionchange":if(Zw)break;case"keydown":case"keyup":Uh(h,n,d)}var S;if(qu)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ir?R0(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(A0&&n.locale!=="ko"&&(Ir||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ir&&(S=P0()):(vn=d,Vu="value"in vn?vn.value:vn.textContent,Ir=!0)),b=Ga(u,E),0<b.length&&(E=new Ph(E,e,null,n,d),h.push({event:E,listeners:b}),S?E.data=S:(S=O0(n),S!==null&&(E.data=S)))),(S=Fw?Vw(e,n):Bw(e,n))&&(u=Ga(u,"onBeforeInput"),0<u.length&&(d=new Ph("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=S))}q0(h,t)})}function fi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ga(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ai(e,n),i!=null&&r.unshift(fi(e,i,s)),i=ai(e,t),i!=null&&r.push(fi(e,i,s))),e=e.return}return r}function yr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vh(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=ai(n,i),c!=null&&o.unshift(fi(n,c,l))):s||(c=ai(n,i),c!=null&&o.push(fi(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var rb=/\r\n?/g,sb=/\u0000|\uFFFD/g;function Bh(e){return(typeof e=="string"?e:""+e).replace(rb,`
`).replace(sb,"")}function sa(e,t,n){if(t=Bh(t),Bh(e)!==t&&n)throw Error(P(425))}function Ya(){}var Nc=null,Ec=null;function Cc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tc=typeof setTimeout=="function"?setTimeout:void 0,ib=typeof clearTimeout=="function"?clearTimeout:void 0,Wh=typeof Promise=="function"?Promise:void 0,ab=typeof queueMicrotask=="function"?queueMicrotask:typeof Wh<"u"?function(e){return Wh.resolve(null).then(e).catch(ob)}:Tc;function ob(e){setTimeout(function(){throw e})}function vl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ci(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ci(t)}function Nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var gs=Math.random().toString(36).slice(2),Dt="__reactFiber$"+gs,pi="__reactProps$"+gs,en="__reactContainer$"+gs,Pc="__reactEvents$"+gs,lb="__reactListeners$"+gs,cb="__reactHandles$"+gs;function Zn(e){var t=e[Dt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[en]||n[Dt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qh(e);e!==null;){if(n=e[Dt])return n;e=qh(e)}return t}e=n,n=e.parentNode}return null}function zi(e){return e=e[Dt]||e[en],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function Ro(e){return e[pi]||null}var Ac=[],$r=-1;function $n(e){return{current:e}}function ne(e){0>$r||(e.current=Ac[$r],Ac[$r]=null,$r--)}function ee(e,t){$r++,Ac[$r]=e.current,e.current=t}var On={},$e=$n(On),Je=$n(!1),or=On;function ss(e,t){var n=e.type.contextTypes;if(!n)return On;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Qe(e){return e=e.childContextTypes,e!=null}function Ja(){ne(Je),ne($e)}function Hh(e,t,n){if($e.current!==On)throw Error(P(168));ee($e,t),ee(Je,n)}function K0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(P(108,Kv(e)||"Unknown",s));return ue({},n,r)}function Qa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||On,or=$e.current,ee($e,e),ee(Je,Je.current),!0}function Kh(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=K0(e,t,or),r.__reactInternalMemoizedMergedChildContext=e,ne(Je),ne($e),ee($e,e)):ne(Je),ee(Je,n)}var qt=null,Oo=!1,wl=!1;function G0(e){qt===null?qt=[e]:qt.push(e)}function ub(e){Oo=!0,G0(e)}function Un(){if(!wl&&qt!==null){wl=!0;var e=0,t=J;try{var n=qt;for(J=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}qt=null,Oo=!1}catch(s){throw qt!==null&&(qt=qt.slice(e+1)),v0($u,Un),s}finally{J=t,wl=!1}}return null}var Ur=[],zr=0,Xa=null,Za=0,pt=[],mt=0,lr=null,Ht=1,Kt="";function Hn(e,t){Ur[zr++]=Za,Ur[zr++]=Xa,Xa=e,Za=t}function Y0(e,t,n){pt[mt++]=Ht,pt[mt++]=Kt,pt[mt++]=lr,lr=e;var r=Ht;e=Kt;var s=32-Tt(r)-1;r&=~(1<<s),n+=1;var i=32-Tt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ht=1<<32-Tt(t)+s|n<<s|r,Kt=i+e}else Ht=1<<i|n<<s|r,Kt=e}function Ku(e){e.return!==null&&(Hn(e,1),Y0(e,1,0))}function Gu(e){for(;e===Xa;)Xa=Ur[--zr],Ur[zr]=null,Za=Ur[--zr],Ur[zr]=null;for(;e===lr;)lr=pt[--mt],pt[mt]=null,Kt=pt[--mt],pt[mt]=null,Ht=pt[--mt],pt[mt]=null}var st=null,rt=null,ae=!1,Ct=null;function J0(e,t){var n=gt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Gh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,st=e,rt=Nn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,st=e,rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=lr!==null?{id:Ht,overflow:Kt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=gt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,st=e,rt=null,!0):!1;default:return!1}}function Rc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Oc(e){if(ae){var t=rt;if(t){var n=t;if(!Gh(e,t)){if(Rc(e))throw Error(P(418));t=Nn(n.nextSibling);var r=st;t&&Gh(e,t)?J0(r,n):(e.flags=e.flags&-4097|2,ae=!1,st=e)}}else{if(Rc(e))throw Error(P(418));e.flags=e.flags&-4097|2,ae=!1,st=e}}}function Yh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;st=e}function ia(e){if(e!==st)return!1;if(!ae)return Yh(e),ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Cc(e.type,e.memoizedProps)),t&&(t=rt)){if(Rc(e))throw Q0(),Error(P(418));for(;t;)J0(e,t),t=Nn(t.nextSibling)}if(Yh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){rt=Nn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}rt=null}}else rt=st?Nn(e.stateNode.nextSibling):null;return!0}function Q0(){for(var e=rt;e;)e=Nn(e.nextSibling)}function is(){rt=st=null,ae=!1}function Yu(e){Ct===null?Ct=[e]:Ct.push(e)}var db=sn.ReactCurrentBatchConfig;function Cs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function aa(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jh(e){var t=e._init;return t(e._payload)}function X0(e){function t(g,m){if(e){var y=g.deletions;y===null?(g.deletions=[m],g.flags|=16):y.push(m)}}function n(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=Pn(g,m),g.index=0,g.sibling=null,g}function i(g,m,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<m?(g.flags|=2,m):y):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,m,y,j){return m===null||m.tag!==6?(m=El(y,g.mode,j),m.return=g,m):(m=s(m,y),m.return=g,m)}function c(g,m,y,j){var _=y.type;return _===Or?d(g,m,y.props.children,j,y.key):m!==null&&(m.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===fn&&Jh(_)===m.type)?(j=s(m,y.props),j.ref=Cs(g,m,y),j.return=g,j):(j=Da(y.type,y.key,y.props,null,g.mode,j),j.ref=Cs(g,m,y),j.return=g,j)}function u(g,m,y,j){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=Cl(y,g.mode,j),m.return=g,m):(m=s(m,y.children||[]),m.return=g,m)}function d(g,m,y,j,_){return m===null||m.tag!==7?(m=ir(y,g.mode,j,_),m.return=g,m):(m=s(m,y),m.return=g,m)}function h(g,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=El(""+m,g.mode,y),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Yi:return y=Da(m.type,m.key,m.props,null,g.mode,y),y.ref=Cs(g,null,m),y.return=g,y;case Rr:return m=Cl(m,g.mode,y),m.return=g,m;case fn:var j=m._init;return h(g,j(m._payload),y)}if(Ls(m)||js(m))return m=ir(m,g.mode,y,null),m.return=g,m;aa(g,m)}return null}function f(g,m,y,j){var _=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return _!==null?null:l(g,m,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Yi:return y.key===_?c(g,m,y,j):null;case Rr:return y.key===_?u(g,m,y,j):null;case fn:return _=y._init,f(g,m,_(y._payload),j)}if(Ls(y)||js(y))return _!==null?null:d(g,m,y,j,null);aa(g,y)}return null}function p(g,m,y,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(y)||null,l(m,g,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Yi:return g=g.get(j.key===null?y:j.key)||null,c(m,g,j,_);case Rr:return g=g.get(j.key===null?y:j.key)||null,u(m,g,j,_);case fn:var b=j._init;return p(g,m,y,b(j._payload),_)}if(Ls(j)||js(j))return g=g.get(y)||null,d(m,g,j,_,null);aa(m,j)}return null}function x(g,m,y,j){for(var _=null,b=null,S=m,E=m=0,T=null;S!==null&&E<y.length;E++){S.index>E?(T=S,S=null):T=S.sibling;var O=f(g,S,y[E],j);if(O===null){S===null&&(S=T);break}e&&S&&O.alternate===null&&t(g,S),m=i(O,m,E),b===null?_=O:b.sibling=O,b=O,S=T}if(E===y.length)return n(g,S),ae&&Hn(g,E),_;if(S===null){for(;E<y.length;E++)S=h(g,y[E],j),S!==null&&(m=i(S,m,E),b===null?_=S:b.sibling=S,b=S);return ae&&Hn(g,E),_}for(S=r(g,S);E<y.length;E++)T=p(S,g,E,y[E],j),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?E:T.key),m=i(T,m,E),b===null?_=T:b.sibling=T,b=T);return e&&S.forEach(function(H){return t(g,H)}),ae&&Hn(g,E),_}function v(g,m,y,j){var _=js(y);if(typeof _!="function")throw Error(P(150));if(y=_.call(y),y==null)throw Error(P(151));for(var b=_=null,S=m,E=m=0,T=null,O=y.next();S!==null&&!O.done;E++,O=y.next()){S.index>E?(T=S,S=null):T=S.sibling;var H=f(g,S,O.value,j);if(H===null){S===null&&(S=T);break}e&&S&&H.alternate===null&&t(g,S),m=i(H,m,E),b===null?_=H:b.sibling=H,b=H,S=T}if(O.done)return n(g,S),ae&&Hn(g,E),_;if(S===null){for(;!O.done;E++,O=y.next())O=h(g,O.value,j),O!==null&&(m=i(O,m,E),b===null?_=O:b.sibling=O,b=O);return ae&&Hn(g,E),_}for(S=r(g,S);!O.done;E++,O=y.next())O=p(S,g,E,O.value,j),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?E:O.key),m=i(O,m,E),b===null?_=O:b.sibling=O,b=O);return e&&S.forEach(function(X){return t(g,X)}),ae&&Hn(g,E),_}function k(g,m,y,j){if(typeof y=="object"&&y!==null&&y.type===Or&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Yi:e:{for(var _=y.key,b=m;b!==null;){if(b.key===_){if(_=y.type,_===Or){if(b.tag===7){n(g,b.sibling),m=s(b,y.props.children),m.return=g,g=m;break e}}else if(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===fn&&Jh(_)===b.type){n(g,b.sibling),m=s(b,y.props),m.ref=Cs(g,b,y),m.return=g,g=m;break e}n(g,b);break}else t(g,b);b=b.sibling}y.type===Or?(m=ir(y.props.children,g.mode,j,y.key),m.return=g,g=m):(j=Da(y.type,y.key,y.props,null,g.mode,j),j.ref=Cs(g,m,y),j.return=g,g=j)}return o(g);case Rr:e:{for(b=y.key;m!==null;){if(m.key===b)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(g,m.sibling),m=s(m,y.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else t(g,m);m=m.sibling}m=Cl(y,g.mode,j),m.return=g,g=m}return o(g);case fn:return b=y._init,k(g,m,b(y._payload),j)}if(Ls(y))return x(g,m,y,j);if(js(y))return v(g,m,y,j);aa(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(g,m.sibling),m=s(m,y),m.return=g,g=m):(n(g,m),m=El(y,g.mode,j),m.return=g,g=m),o(g)):n(g,m)}return k}var as=X0(!0),Z0=X0(!1),eo=$n(null),to=null,Fr=null,Ju=null;function Qu(){Ju=Fr=to=null}function Xu(e){var t=eo.current;ne(eo),e._currentValue=t}function Ic(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function es(e,t){to=e,Ju=Fr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ye=!0),e.firstContext=null)}function yt(e){var t=e._currentValue;if(Ju!==e)if(e={context:e,memoizedValue:t,next:null},Fr===null){if(to===null)throw Error(P(308));Fr=e,to.dependencies={lanes:0,firstContext:e}}else Fr=Fr.next=e;return t}var er=null;function Zu(e){er===null?er=[e]:er.push(e)}function eg(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Zu(t)):(n.next=s.next,s.next=n),t.interleaved=n,tn(e,r)}function tn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var pn=!1;function ed(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function En(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,G&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,tn(e,n)}return s=r.interleaved,s===null?(t.next=t,Zu(r)):(t.next=s.next,s.next=t),r.interleaved=t,tn(e,n)}function Pa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Uu(e,n)}}function Qh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function no(e,t,n,r){var s=e.updateQueue;pn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,v=l;switch(f=t,p=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){h=x.call(p,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,f=typeof x=="function"?x.call(p,h,f):x,f==null)break e;h=ue({},h,f);break e;case 2:pn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ur|=o,e.lanes=o,e.memoizedState=h}}function Xh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(P(191,s));s.call(r)}}}var Fi={},$t=$n(Fi),mi=$n(Fi),gi=$n(Fi);function tr(e){if(e===Fi)throw Error(P(174));return e}function td(e,t){switch(ee(gi,t),ee(mi,e),ee($t,Fi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pc(t,e)}ne($t),ee($t,t)}function os(){ne($t),ne(mi),ne(gi)}function ng(e){tr(gi.current);var t=tr($t.current),n=pc(t,e.type);t!==n&&(ee(mi,e),ee($t,n))}function nd(e){mi.current===e&&(ne($t),ne(mi))}var oe=$n(0);function ro(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bl=[];function rd(){for(var e=0;e<bl.length;e++)bl[e]._workInProgressVersionPrimary=null;bl.length=0}var Aa=sn.ReactCurrentDispatcher,kl=sn.ReactCurrentBatchConfig,cr=0,ce=null,be=null,_e=null,so=!1,Ks=!1,xi=0,hb=0;function Oe(){throw Error(P(321))}function sd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!At(e[n],t[n]))return!1;return!0}function id(e,t,n,r,s,i){if(cr=i,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Aa.current=e===null||e.memoizedState===null?gb:xb,e=n(r,s),Ks){i=0;do{if(Ks=!1,xi=0,25<=i)throw Error(P(301));i+=1,_e=be=null,t.updateQueue=null,Aa.current=yb,e=n(r,s)}while(Ks)}if(Aa.current=io,t=be!==null&&be.next!==null,cr=0,_e=be=ce=null,so=!1,t)throw Error(P(300));return e}function ad(){var e=xi!==0;return xi=0,e}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?ce.memoizedState=_e=e:_e=_e.next=e,_e}function vt(){if(be===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var t=_e===null?ce.memoizedState:_e.next;if(t!==null)_e=t,be=e;else{if(e===null)throw Error(P(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},_e===null?ce.memoizedState=_e=e:_e=_e.next=e}return _e}function yi(e,t){return typeof t=="function"?t(e):t}function jl(e){var t=vt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=be,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((cr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,ce.lanes|=d,ur|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,At(r,t.memoizedState)||(Ye=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ce.lanes|=i,ur|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _l(e){var t=vt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);At(i,t.memoizedState)||(Ye=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function rg(){}function sg(e,t){var n=ce,r=vt(),s=t(),i=!At(r.memoizedState,s);if(i&&(r.memoizedState=s,Ye=!0),r=r.queue,od(og.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||_e!==null&&_e.memoizedState.tag&1){if(n.flags|=2048,vi(9,ag.bind(null,n,r,s,t),void 0,null),Se===null)throw Error(P(349));cr&30||ig(n,t,s)}return s}function ig(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ag(e,t,n,r){t.value=n,t.getSnapshot=r,lg(t)&&cg(e)}function og(e,t,n){return n(function(){lg(t)&&cg(e)})}function lg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!At(e,n)}catch{return!0}}function cg(e){var t=tn(e,1);t!==null&&Pt(t,e,1,-1)}function Zh(e){var t=Lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},t.queue=e,e=e.dispatch=mb.bind(null,ce,e),[t.memoizedState,e]}function vi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ug(){return vt().memoizedState}function Ra(e,t,n,r){var s=Lt();ce.flags|=e,s.memoizedState=vi(1|t,n,void 0,r===void 0?null:r)}function Io(e,t,n,r){var s=vt();r=r===void 0?null:r;var i=void 0;if(be!==null){var o=be.memoizedState;if(i=o.destroy,r!==null&&sd(r,o.deps)){s.memoizedState=vi(t,n,i,r);return}}ce.flags|=e,s.memoizedState=vi(1|t,n,i,r)}function ef(e,t){return Ra(8390656,8,e,t)}function od(e,t){return Io(2048,8,e,t)}function dg(e,t){return Io(4,2,e,t)}function hg(e,t){return Io(4,4,e,t)}function fg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pg(e,t,n){return n=n!=null?n.concat([e]):null,Io(4,4,fg.bind(null,t,e),n)}function ld(){}function mg(e,t){var n=vt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&sd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function gg(e,t){var n=vt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&sd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function xg(e,t,n){return cr&21?(At(n,t)||(n=k0(),ce.lanes|=n,ur|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ye=!0),e.memoizedState=n)}function fb(e,t){var n=J;J=n!==0&&4>n?n:4,e(!0);var r=kl.transition;kl.transition={};try{e(!1),t()}finally{J=n,kl.transition=r}}function yg(){return vt().memoizedState}function pb(e,t,n){var r=Tn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vg(e))wg(t,n);else if(n=eg(e,t,n,r),n!==null){var s=Fe();Pt(n,e,r,s),bg(n,t,r)}}function mb(e,t,n){var r=Tn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vg(e))wg(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,At(l,o)){var c=t.interleaved;c===null?(s.next=s,Zu(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=eg(e,t,s,r),n!==null&&(s=Fe(),Pt(n,e,r,s),bg(n,t,r))}}function vg(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function wg(e,t){Ks=so=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Uu(e,n)}}var io={readContext:yt,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},gb={readContext:yt,useCallback:function(e,t){return Lt().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:ef,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ra(4194308,4,fg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ra(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ra(4,2,e,t)},useMemo:function(e,t){var n=Lt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Lt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=pb.bind(null,ce,e),[r.memoizedState,e]},useRef:function(e){var t=Lt();return e={current:e},t.memoizedState=e},useState:Zh,useDebugValue:ld,useDeferredValue:function(e){return Lt().memoizedState=e},useTransition:function(){var e=Zh(!1),t=e[0];return e=fb.bind(null,e[1]),Lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ce,s=Lt();if(ae){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),Se===null)throw Error(P(349));cr&30||ig(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,ef(og.bind(null,r,i,e),[e]),r.flags|=2048,vi(9,ag.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Lt(),t=Se.identifierPrefix;if(ae){var n=Kt,r=Ht;n=(r&~(1<<32-Tt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=xi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=hb++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xb={readContext:yt,useCallback:mg,useContext:yt,useEffect:od,useImperativeHandle:pg,useInsertionEffect:dg,useLayoutEffect:hg,useMemo:gg,useReducer:jl,useRef:ug,useState:function(){return jl(yi)},useDebugValue:ld,useDeferredValue:function(e){var t=vt();return xg(t,be.memoizedState,e)},useTransition:function(){var e=jl(yi)[0],t=vt().memoizedState;return[e,t]},useMutableSource:rg,useSyncExternalStore:sg,useId:yg,unstable_isNewReconciler:!1},yb={readContext:yt,useCallback:mg,useContext:yt,useEffect:od,useImperativeHandle:pg,useInsertionEffect:dg,useLayoutEffect:hg,useMemo:gg,useReducer:_l,useRef:ug,useState:function(){return _l(yi)},useDebugValue:ld,useDeferredValue:function(e){var t=vt();return be===null?t.memoizedState=e:xg(t,be.memoizedState,e)},useTransition:function(){var e=_l(yi)[0],t=vt().memoizedState;return[e,t]},useMutableSource:rg,useSyncExternalStore:sg,useId:yg,unstable_isNewReconciler:!1};function _t(e,t){if(e&&e.defaultProps){t=ue({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Lc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ue({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Lo={isMounted:function(e){return(e=e._reactInternals)?pr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Fe(),s=Tn(e),i=Jt(r,s);i.payload=t,n!=null&&(i.callback=n),t=En(e,i,s),t!==null&&(Pt(t,e,s,r),Pa(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Fe(),s=Tn(e),i=Jt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=En(e,i,s),t!==null&&(Pt(t,e,s,r),Pa(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fe(),r=Tn(e),s=Jt(n,r);s.tag=2,t!=null&&(s.callback=t),t=En(e,s,r),t!==null&&(Pt(t,e,r,n),Pa(t,e,r))}};function tf(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!di(n,r)||!di(s,i):!0}function kg(e,t,n){var r=!1,s=On,i=t.contextType;return typeof i=="object"&&i!==null?i=yt(i):(s=Qe(t)?or:$e.current,r=t.contextTypes,i=(r=r!=null)?ss(e,s):On),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Lo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function nf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Lo.enqueueReplaceState(t,t.state,null)}function Dc(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ed(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=yt(i):(i=Qe(t)?or:$e.current,s.context=ss(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Lc(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Lo.enqueueReplaceState(s,s.state,null),no(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ls(e,t){try{var n="",r=t;do n+=Hv(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Sl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Mc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var vb=typeof WeakMap=="function"?WeakMap:Map;function jg(e,t,n){n=Jt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){oo||(oo=!0,Kc=r),Mc(e,t)},n}function _g(e,t,n){n=Jt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Mc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Mc(e,t),typeof r!="function"&&(Cn===null?Cn=new Set([this]):Cn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function rf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new vb;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Ob.bind(null,e,t,n),t.then(e,e))}function sf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function af(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Jt(-1,1),t.tag=2,En(n,t,1))),n.lanes|=1),e)}var wb=sn.ReactCurrentOwner,Ye=!1;function ze(e,t,n,r){t.child=e===null?Z0(t,null,n,r):as(t,e.child,n,r)}function of(e,t,n,r,s){n=n.render;var i=t.ref;return es(t,s),r=id(e,t,n,r,i,s),n=ad(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,nn(e,t,s)):(ae&&n&&Ku(t),t.flags|=1,ze(e,t,r,s),t.child)}function lf(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!gd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Sg(e,t,i,r,s)):(e=Da(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:di,n(o,r)&&e.ref===t.ref)return nn(e,t,s)}return t.flags|=1,e=Pn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Sg(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(di(i,r)&&e.ref===t.ref)if(Ye=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ye=!0);else return t.lanes=e.lanes,nn(e,t,s)}return $c(e,t,n,r,s)}function Ng(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(Br,tt),tt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(Br,tt),tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ee(Br,tt),tt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ee(Br,tt),tt|=r;return ze(e,t,s,n),t.child}function Eg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $c(e,t,n,r,s){var i=Qe(n)?or:$e.current;return i=ss(t,i),es(t,s),n=id(e,t,n,r,i,s),r=ad(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,nn(e,t,s)):(ae&&r&&Ku(t),t.flags|=1,ze(e,t,n,s),t.child)}function cf(e,t,n,r,s){if(Qe(n)){var i=!0;Qa(t)}else i=!1;if(es(t,s),t.stateNode===null)Oa(e,t),kg(t,n,r),Dc(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=yt(u):(u=Qe(n)?or:$e.current,u=ss(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&nf(t,o,r,u),pn=!1;var f=t.memoizedState;o.state=f,no(t,r,o,s),c=t.memoizedState,l!==r||f!==c||Je.current||pn?(typeof d=="function"&&(Lc(t,n,d,r),c=t.memoizedState),(l=pn||tf(t,n,l,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,tg(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:_t(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=yt(c):(c=Qe(n)?or:$e.current,c=ss(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&nf(t,o,r,c),pn=!1,f=t.memoizedState,o.state=f,no(t,r,o,s);var x=t.memoizedState;l!==h||f!==x||Je.current||pn?(typeof p=="function"&&(Lc(t,n,p,r),x=t.memoizedState),(u=pn||tf(t,n,u,r,f,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Uc(e,t,n,r,i,s)}function Uc(e,t,n,r,s,i){Eg(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Kh(t,n,!1),nn(e,t,i);r=t.stateNode,wb.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=as(t,e.child,null,i),t.child=as(t,null,l,i)):ze(e,t,l,i),t.memoizedState=r.state,s&&Kh(t,n,!0),t.child}function Cg(e){var t=e.stateNode;t.pendingContext?Hh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Hh(e,t.context,!1),td(e,t.containerInfo)}function uf(e,t,n,r,s){return is(),Yu(s),t.flags|=256,ze(e,t,n,r),t.child}var zc={dehydrated:null,treeContext:null,retryLane:0};function Fc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Tg(e,t,n){var r=t.pendingProps,s=oe.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ee(oe,s&1),e===null)return Oc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=$o(o,r,0,null),e=ir(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Fc(n),t.memoizedState=zc,e):cd(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return bb(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Pn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Pn(l,i):(i=ir(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Fc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=zc,r}return i=e.child,e=i.sibling,r=Pn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function cd(e,t){return t=$o({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function oa(e,t,n,r){return r!==null&&Yu(r),as(t,e.child,null,n),e=cd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bb(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Sl(Error(P(422))),oa(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=$o({mode:"visible",children:r.children},s,0,null),i=ir(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&as(t,e.child,null,o),t.child.memoizedState=Fc(o),t.memoizedState=zc,i);if(!(t.mode&1))return oa(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(P(419)),r=Sl(i,r,void 0),oa(e,t,o,r)}if(l=(o&e.childLanes)!==0,Ye||l){if(r=Se,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,tn(e,s),Pt(r,e,s,-1))}return md(),r=Sl(Error(P(421))),oa(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Ib.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,rt=Nn(s.nextSibling),st=t,ae=!0,Ct=null,e!==null&&(pt[mt++]=Ht,pt[mt++]=Kt,pt[mt++]=lr,Ht=e.id,Kt=e.overflow,lr=t),t=cd(t,r.children),t.flags|=4096,t)}function df(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ic(e.return,t,n)}function Nl(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Pg(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(ze(e,t,r.children,n),r=oe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&df(e,n,t);else if(e.tag===19)df(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ee(oe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ro(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Nl(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ro(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Nl(t,!0,n,null,i);break;case"together":Nl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Oa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function nn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ur|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=Pn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function kb(e,t,n){switch(t.tag){case 3:Cg(t),is();break;case 5:ng(t);break;case 1:Qe(t.type)&&Qa(t);break;case 4:td(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ee(eo,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ee(oe,oe.current&1),t.flags|=128,null):n&t.child.childLanes?Tg(e,t,n):(ee(oe,oe.current&1),e=nn(e,t,n),e!==null?e.sibling:null);ee(oe,oe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Pg(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ee(oe,oe.current),r)break;return null;case 22:case 23:return t.lanes=0,Ng(e,t,n)}return nn(e,t,n)}var Ag,Vc,Rg,Og;Ag=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vc=function(){};Rg=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,tr($t.current);var i=null;switch(n){case"input":s=uc(e,s),r=uc(e,r),i=[];break;case"select":s=ue({},s,{value:void 0}),r=ue({},r,{value:void 0}),i=[];break;case"textarea":s=fc(e,s),r=fc(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ya)}mc(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(si.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(si.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&te("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Og=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ts(e,t){if(!ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function jb(e,t,n){var r=t.pendingProps;switch(Gu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return Qe(t.type)&&Ja(),Ie(t),null;case 3:return r=t.stateNode,os(),ne(Je),ne($e),rd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ia(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ct!==null&&(Jc(Ct),Ct=null))),Vc(e,t),Ie(t),null;case 5:nd(t);var s=tr(gi.current);if(n=t.type,e!==null&&t.stateNode!=null)Rg(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return Ie(t),null}if(e=tr($t.current),ia(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Dt]=t,r[pi]=i,e=(t.mode&1)!==0,n){case"dialog":te("cancel",r),te("close",r);break;case"iframe":case"object":case"embed":te("load",r);break;case"video":case"audio":for(s=0;s<Ms.length;s++)te(Ms[s],r);break;case"source":te("error",r);break;case"img":case"image":case"link":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"input":vh(r,i),te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},te("invalid",r);break;case"textarea":bh(r,i),te("invalid",r)}mc(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&sa(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&sa(r.textContent,l,e),s=["children",""+l]):si.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&te("scroll",r)}switch(n){case"input":Ji(r),wh(r,i,!0);break;case"textarea":Ji(r),kh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ya)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=o0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Dt]=t,e[pi]=r,Ag(e,t,!1,!1),t.stateNode=e;e:{switch(o=gc(n,r),n){case"dialog":te("cancel",e),te("close",e),s=r;break;case"iframe":case"object":case"embed":te("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ms.length;s++)te(Ms[s],e);s=r;break;case"source":te("error",e),s=r;break;case"img":case"image":case"link":te("error",e),te("load",e),s=r;break;case"details":te("toggle",e),s=r;break;case"input":vh(e,r),s=uc(e,r),te("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ue({},r,{value:void 0}),te("invalid",e);break;case"textarea":bh(e,r),s=fc(e,r),te("invalid",e);break;default:s=r}mc(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?u0(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&l0(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ii(e,c):typeof c=="number"&&ii(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(si.hasOwnProperty(i)?c!=null&&i==="onScroll"&&te("scroll",e):c!=null&&Ou(e,i,c,o))}switch(n){case"input":Ji(e),wh(e,r,!1);break;case"textarea":Ji(e),kh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Rn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Jr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Jr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ya)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ie(t),null;case 6:if(e&&t.stateNode!=null)Og(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=tr(gi.current),tr($t.current),ia(t)){if(r=t.stateNode,n=t.memoizedProps,r[Dt]=t,(i=r.nodeValue!==n)&&(e=st,e!==null))switch(e.tag){case 3:sa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sa(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dt]=t,t.stateNode=r}return Ie(t),null;case 13:if(ne(oe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ae&&rt!==null&&t.mode&1&&!(t.flags&128))Q0(),is(),t.flags|=98560,i=!1;else if(i=ia(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(P(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[Dt]=t}else is(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ie(t),i=!1}else Ct!==null&&(Jc(Ct),Ct=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||oe.current&1?ke===0&&(ke=3):md())),t.updateQueue!==null&&(t.flags|=4),Ie(t),null);case 4:return os(),Vc(e,t),e===null&&hi(t.stateNode.containerInfo),Ie(t),null;case 10:return Xu(t.type._context),Ie(t),null;case 17:return Qe(t.type)&&Ja(),Ie(t),null;case 19:if(ne(oe),i=t.memoizedState,i===null)return Ie(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Ts(i,!1);else{if(ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ro(e),o!==null){for(t.flags|=128,Ts(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ee(oe,oe.current&1|2),t.child}e=e.sibling}i.tail!==null&&ge()>cs&&(t.flags|=128,r=!0,Ts(i,!1),t.lanes=4194304)}else{if(!r)if(e=ro(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ts(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ae)return Ie(t),null}else 2*ge()-i.renderingStartTime>cs&&n!==1073741824&&(t.flags|=128,r=!0,Ts(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ge(),t.sibling=null,n=oe.current,ee(oe,r?n&1|2:n&1),t):(Ie(t),null);case 22:case 23:return pd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?tt&1073741824&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function _b(e,t){switch(Gu(t),t.tag){case 1:return Qe(t.type)&&Ja(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return os(),ne(Je),ne($e),rd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return nd(t),null;case 13:if(ne(oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));is()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ne(oe),null;case 4:return os(),null;case 10:return Xu(t.type._context),null;case 22:case 23:return pd(),null;case 24:return null;default:return null}}var la=!1,De=!1,Sb=typeof WeakSet=="function"?WeakSet:Set,I=null;function Vr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pe(e,t,r)}else n.current=null}function Bc(e,t,n){try{n()}catch(r){pe(e,t,r)}}var hf=!1;function Nb(e,t){if(Nc=Ha,e=$0(),Hu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=o),f===i&&++d===r&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ec={focusedElem:e,selectionRange:n},Ha=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,k=x.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:_t(t.type,v),k);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(j){pe(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return x=hf,hf=!1,x}function Gs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Bc(t,n,i)}s=s.next}while(s!==r)}}function Do(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Wc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ig(e){var t=e.alternate;t!==null&&(e.alternate=null,Ig(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Dt],delete t[pi],delete t[Pc],delete t[lb],delete t[cb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Lg(e){return e.tag===5||e.tag===3||e.tag===4}function ff(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Lg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ya));else if(r!==4&&(e=e.child,e!==null))for(qc(e,t,n),e=e.sibling;e!==null;)qc(e,t,n),e=e.sibling}function Hc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Hc(e,t,n),e=e.sibling;e!==null;)Hc(e,t,n),e=e.sibling}var Ce=null,Nt=!1;function un(e,t,n){for(n=n.child;n!==null;)Dg(e,t,n),n=n.sibling}function Dg(e,t,n){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Co,n)}catch{}switch(n.tag){case 5:De||Vr(n,t);case 6:var r=Ce,s=Nt;Ce=null,un(e,t,n),Ce=r,Nt=s,Ce!==null&&(Nt?(e=Ce,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ce.removeChild(n.stateNode));break;case 18:Ce!==null&&(Nt?(e=Ce,n=n.stateNode,e.nodeType===8?vl(e.parentNode,n):e.nodeType===1&&vl(e,n),ci(e)):vl(Ce,n.stateNode));break;case 4:r=Ce,s=Nt,Ce=n.stateNode.containerInfo,Nt=!0,un(e,t,n),Ce=r,Nt=s;break;case 0:case 11:case 14:case 15:if(!De&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Bc(n,t,o),s=s.next}while(s!==r)}un(e,t,n);break;case 1:if(!De&&(Vr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){pe(n,t,l)}un(e,t,n);break;case 21:un(e,t,n);break;case 22:n.mode&1?(De=(r=De)||n.memoizedState!==null,un(e,t,n),De=r):un(e,t,n);break;default:un(e,t,n)}}function pf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Sb),t.forEach(function(r){var s=Lb.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function bt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ce=l.stateNode,Nt=!1;break e;case 3:Ce=l.stateNode.containerInfo,Nt=!0;break e;case 4:Ce=l.stateNode.containerInfo,Nt=!0;break e}l=l.return}if(Ce===null)throw Error(P(160));Dg(i,o,s),Ce=null,Nt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){pe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Mg(t,e),t=t.sibling}function Mg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bt(t,e),It(e),r&4){try{Gs(3,e,e.return),Do(3,e)}catch(v){pe(e,e.return,v)}try{Gs(5,e,e.return)}catch(v){pe(e,e.return,v)}}break;case 1:bt(t,e),It(e),r&512&&n!==null&&Vr(n,n.return);break;case 5:if(bt(t,e),It(e),r&512&&n!==null&&Vr(n,n.return),e.flags&32){var s=e.stateNode;try{ii(s,"")}catch(v){pe(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&i0(s,i),gc(l,o);var u=gc(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?u0(s,h):d==="dangerouslySetInnerHTML"?l0(s,h):d==="children"?ii(s,h):Ou(s,d,h,u)}switch(l){case"input":dc(s,i);break;case"textarea":a0(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Jr(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Jr(s,!!i.multiple,i.defaultValue,!0):Jr(s,!!i.multiple,i.multiple?[]:"",!1))}s[pi]=i}catch(v){pe(e,e.return,v)}}break;case 6:if(bt(t,e),It(e),r&4){if(e.stateNode===null)throw Error(P(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){pe(e,e.return,v)}}break;case 3:if(bt(t,e),It(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ci(t.containerInfo)}catch(v){pe(e,e.return,v)}break;case 4:bt(t,e),It(e);break;case 13:bt(t,e),It(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(hd=ge())),r&4&&pf(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(De=(u=De)||d,bt(t,e),De=u):bt(t,e),It(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(I=e,d=e.child;d!==null;){for(h=I=d;I!==null;){switch(f=I,p=f.child,f.tag){case 0:case 11:case 14:case 15:Gs(4,f,f.return);break;case 1:Vr(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){pe(r,n,v)}}break;case 5:Vr(f,f.return);break;case 22:if(f.memoizedState!==null){gf(h);continue}}p!==null?(p.return=f,I=p):gf(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=c0("display",o))}catch(v){pe(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){pe(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:bt(t,e),It(e),r&4&&pf(e);break;case 21:break;default:bt(t,e),It(e)}}function It(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Lg(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ii(s,""),r.flags&=-33);var i=ff(e);Hc(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=ff(e);qc(e,l,o);break;default:throw Error(P(161))}}catch(c){pe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Eb(e,t,n){I=e,$g(e)}function $g(e,t,n){for(var r=(e.mode&1)!==0;I!==null;){var s=I,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||la;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||De;l=la;var u=De;if(la=o,(De=c)&&!u)for(I=s;I!==null;)o=I,c=o.child,o.tag===22&&o.memoizedState!==null?xf(s):c!==null?(c.return=o,I=c):xf(s);for(;i!==null;)I=i,$g(i),i=i.sibling;I=s,la=l,De=u}mf(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,I=i):mf(e)}}function mf(e){for(;I!==null;){var t=I;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:De||Do(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!De)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:_t(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Xh(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Xh(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ci(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}De||t.flags&512&&Wc(t)}catch(f){pe(t,t.return,f)}}if(t===e){I=null;break}if(n=t.sibling,n!==null){n.return=t.return,I=n;break}I=t.return}}function gf(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var n=t.sibling;if(n!==null){n.return=t.return,I=n;break}I=t.return}}function xf(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Do(4,t)}catch(c){pe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){pe(t,s,c)}}var i=t.return;try{Wc(t)}catch(c){pe(t,i,c)}break;case 5:var o=t.return;try{Wc(t)}catch(c){pe(t,o,c)}}}catch(c){pe(t,t.return,c)}if(t===e){I=null;break}var l=t.sibling;if(l!==null){l.return=t.return,I=l;break}I=t.return}}var Cb=Math.ceil,ao=sn.ReactCurrentDispatcher,ud=sn.ReactCurrentOwner,xt=sn.ReactCurrentBatchConfig,G=0,Se=null,ve=null,Pe=0,tt=0,Br=$n(0),ke=0,wi=null,ur=0,Mo=0,dd=0,Ys=null,Ge=null,hd=0,cs=1/0,Bt=null,oo=!1,Kc=null,Cn=null,ca=!1,wn=null,lo=0,Js=0,Gc=null,Ia=-1,La=0;function Fe(){return G&6?ge():Ia!==-1?Ia:Ia=ge()}function Tn(e){return e.mode&1?G&2&&Pe!==0?Pe&-Pe:db.transition!==null?(La===0&&(La=k0()),La):(e=J,e!==0||(e=window.event,e=e===void 0?16:T0(e.type)),e):1}function Pt(e,t,n,r){if(50<Js)throw Js=0,Gc=null,Error(P(185));$i(e,n,r),(!(G&2)||e!==Se)&&(e===Se&&(!(G&2)&&(Mo|=n),ke===4&&xn(e,Pe)),Xe(e,r),n===1&&G===0&&!(t.mode&1)&&(cs=ge()+500,Oo&&Un()))}function Xe(e,t){var n=e.callbackNode;dw(e,t);var r=qa(e,e===Se?Pe:0);if(r===0)n!==null&&Sh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Sh(n),t===1)e.tag===0?ub(yf.bind(null,e)):G0(yf.bind(null,e)),ab(function(){!(G&6)&&Un()}),n=null;else{switch(j0(r)){case 1:n=$u;break;case 4:n=w0;break;case 16:n=Wa;break;case 536870912:n=b0;break;default:n=Wa}n=Hg(n,Ug.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ug(e,t){if(Ia=-1,La=0,G&6)throw Error(P(327));var n=e.callbackNode;if(ts()&&e.callbackNode!==n)return null;var r=qa(e,e===Se?Pe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=co(e,r);else{t=r;var s=G;G|=2;var i=Fg();(Se!==e||Pe!==t)&&(Bt=null,cs=ge()+500,sr(e,t));do try{Ab();break}catch(l){zg(e,l)}while(!0);Qu(),ao.current=i,G=s,ve!==null?t=0:(Se=null,Pe=0,t=ke)}if(t!==0){if(t===2&&(s=bc(e),s!==0&&(r=s,t=Yc(e,s))),t===1)throw n=wi,sr(e,0),xn(e,r),Xe(e,ge()),n;if(t===6)xn(e,r);else{if(s=e.current.alternate,!(r&30)&&!Tb(s)&&(t=co(e,r),t===2&&(i=bc(e),i!==0&&(r=i,t=Yc(e,i))),t===1))throw n=wi,sr(e,0),xn(e,r),Xe(e,ge()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:Kn(e,Ge,Bt);break;case 3:if(xn(e,r),(r&130023424)===r&&(t=hd+500-ge(),10<t)){if(qa(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Fe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Tc(Kn.bind(null,e,Ge,Bt),t);break}Kn(e,Ge,Bt);break;case 4:if(xn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Tt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cb(r/1960))-r,10<r){e.timeoutHandle=Tc(Kn.bind(null,e,Ge,Bt),r);break}Kn(e,Ge,Bt);break;case 5:Kn(e,Ge,Bt);break;default:throw Error(P(329))}}}return Xe(e,ge()),e.callbackNode===n?Ug.bind(null,e):null}function Yc(e,t){var n=Ys;return e.current.memoizedState.isDehydrated&&(sr(e,t).flags|=256),e=co(e,t),e!==2&&(t=Ge,Ge=n,t!==null&&Jc(t)),e}function Jc(e){Ge===null?Ge=e:Ge.push.apply(Ge,e)}function Tb(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!At(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xn(e,t){for(t&=~dd,t&=~Mo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Tt(t),r=1<<n;e[n]=-1,t&=~r}}function yf(e){if(G&6)throw Error(P(327));ts();var t=qa(e,0);if(!(t&1))return Xe(e,ge()),null;var n=co(e,t);if(e.tag!==0&&n===2){var r=bc(e);r!==0&&(t=r,n=Yc(e,r))}if(n===1)throw n=wi,sr(e,0),xn(e,t),Xe(e,ge()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kn(e,Ge,Bt),Xe(e,ge()),null}function fd(e,t){var n=G;G|=1;try{return e(t)}finally{G=n,G===0&&(cs=ge()+500,Oo&&Un())}}function dr(e){wn!==null&&wn.tag===0&&!(G&6)&&ts();var t=G;G|=1;var n=xt.transition,r=J;try{if(xt.transition=null,J=1,e)return e()}finally{J=r,xt.transition=n,G=t,!(G&6)&&Un()}}function pd(){tt=Br.current,ne(Br)}function sr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ib(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(Gu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ja();break;case 3:os(),ne(Je),ne($e),rd();break;case 5:nd(r);break;case 4:os();break;case 13:ne(oe);break;case 19:ne(oe);break;case 10:Xu(r.type._context);break;case 22:case 23:pd()}n=n.return}if(Se=e,ve=e=Pn(e.current,null),Pe=tt=t,ke=0,wi=null,dd=Mo=ur=0,Ge=Ys=null,er!==null){for(t=0;t<er.length;t++)if(n=er[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}er=null}return e}function zg(e,t){do{var n=ve;try{if(Qu(),Aa.current=io,so){for(var r=ce.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}so=!1}if(cr=0,_e=be=ce=null,Ks=!1,xi=0,ud.current=null,n===null||n.return===null){ke=1,wi=t,ve=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Pe,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=sf(o);if(p!==null){p.flags&=-257,af(p,o,l,i,t),p.mode&1&&rf(i,u,t),t=p,c=u;var x=t.updateQueue;if(x===null){var v=new Set;v.add(c),t.updateQueue=v}else x.add(c);break e}else{if(!(t&1)){rf(i,u,t),md();break e}c=Error(P(426))}}else if(ae&&l.mode&1){var k=sf(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),af(k,o,l,i,t),Yu(ls(c,l));break e}}i=c=ls(c,l),ke!==4&&(ke=2),Ys===null?Ys=[i]:Ys.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=jg(i,c,t);Qh(i,g);break e;case 1:l=c;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Cn===null||!Cn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=_g(i,l,t);Qh(i,j);break e}}i=i.return}while(i!==null)}Bg(n)}catch(_){t=_,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(!0)}function Fg(){var e=ao.current;return ao.current=io,e===null?io:e}function md(){(ke===0||ke===3||ke===2)&&(ke=4),Se===null||!(ur&268435455)&&!(Mo&268435455)||xn(Se,Pe)}function co(e,t){var n=G;G|=2;var r=Fg();(Se!==e||Pe!==t)&&(Bt=null,sr(e,t));do try{Pb();break}catch(s){zg(e,s)}while(!0);if(Qu(),G=n,ao.current=r,ve!==null)throw Error(P(261));return Se=null,Pe=0,ke}function Pb(){for(;ve!==null;)Vg(ve)}function Ab(){for(;ve!==null&&!nw();)Vg(ve)}function Vg(e){var t=qg(e.alternate,e,tt);e.memoizedProps=e.pendingProps,t===null?Bg(e):ve=t,ud.current=null}function Bg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=_b(n,t),n!==null){n.flags&=32767,ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ke=6,ve=null;return}}else if(n=jb(n,t,tt),n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);ke===0&&(ke=5)}function Kn(e,t,n){var r=J,s=xt.transition;try{xt.transition=null,J=1,Rb(e,t,n,r)}finally{xt.transition=s,J=r}return null}function Rb(e,t,n,r){do ts();while(wn!==null);if(G&6)throw Error(P(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(hw(e,i),e===Se&&(ve=Se=null,Pe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ca||(ca=!0,Hg(Wa,function(){return ts(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=xt.transition,xt.transition=null;var o=J;J=1;var l=G;G|=4,ud.current=null,Nb(e,n),Mg(n,e),Xw(Ec),Ha=!!Nc,Ec=Nc=null,e.current=n,Eb(n),rw(),G=l,J=o,xt.transition=i}else e.current=n;if(ca&&(ca=!1,wn=e,lo=s),i=e.pendingLanes,i===0&&(Cn=null),aw(n.stateNode),Xe(e,ge()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(oo)throw oo=!1,e=Kc,Kc=null,e;return lo&1&&e.tag!==0&&ts(),i=e.pendingLanes,i&1?e===Gc?Js++:(Js=0,Gc=e):Js=0,Un(),null}function ts(){if(wn!==null){var e=j0(lo),t=xt.transition,n=J;try{if(xt.transition=null,J=16>e?16:e,wn===null)var r=!1;else{if(e=wn,wn=null,lo=0,G&6)throw Error(P(331));var s=G;for(G|=4,I=e.current;I!==null;){var i=I,o=i.child;if(I.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(I=u;I!==null;){var d=I;switch(d.tag){case 0:case 11:case 15:Gs(8,d,i)}var h=d.child;if(h!==null)h.return=d,I=h;else for(;I!==null;){d=I;var f=d.sibling,p=d.return;if(Ig(d),d===u){I=null;break}if(f!==null){f.return=p,I=f;break}I=p}}}var x=i.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var k=v.sibling;v.sibling=null,v=k}while(v!==null)}}I=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,I=o;else e:for(;I!==null;){if(i=I,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Gs(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,I=g;break e}I=i.return}}var m=e.current;for(I=m;I!==null;){o=I;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,I=y;else e:for(o=m;I!==null;){if(l=I,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Do(9,l)}}catch(_){pe(l,l.return,_)}if(l===o){I=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,I=j;break e}I=l.return}}if(G=s,Un(),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Co,e)}catch{}r=!0}return r}finally{J=n,xt.transition=t}}return!1}function vf(e,t,n){t=ls(n,t),t=jg(e,t,1),e=En(e,t,1),t=Fe(),e!==null&&($i(e,1,t),Xe(e,t))}function pe(e,t,n){if(e.tag===3)vf(e,e,n);else for(;t!==null;){if(t.tag===3){vf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cn===null||!Cn.has(r))){e=ls(n,e),e=_g(t,e,1),t=En(t,e,1),e=Fe(),t!==null&&($i(t,1,e),Xe(t,e));break}}t=t.return}}function Ob(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Fe(),e.pingedLanes|=e.suspendedLanes&n,Se===e&&(Pe&n)===n&&(ke===4||ke===3&&(Pe&130023424)===Pe&&500>ge()-hd?sr(e,0):dd|=n),Xe(e,t)}function Wg(e,t){t===0&&(e.mode&1?(t=Zi,Zi<<=1,!(Zi&130023424)&&(Zi=4194304)):t=1);var n=Fe();e=tn(e,t),e!==null&&($i(e,t,n),Xe(e,n))}function Ib(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Wg(e,n)}function Lb(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),Wg(e,n)}var qg;qg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)Ye=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ye=!1,kb(e,t,n);Ye=!!(e.flags&131072)}else Ye=!1,ae&&t.flags&1048576&&Y0(t,Za,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Oa(e,t),e=t.pendingProps;var s=ss(t,$e.current);es(t,n),s=id(null,t,r,e,s,n);var i=ad();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qe(r)?(i=!0,Qa(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ed(t),s.updater=Lo,t.stateNode=s,s._reactInternals=t,Dc(t,r,e,n),t=Uc(null,t,r,!0,i,n)):(t.tag=0,ae&&i&&Ku(t),ze(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Oa(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Mb(r),e=_t(r,e),s){case 0:t=$c(null,t,r,e,n);break e;case 1:t=cf(null,t,r,e,n);break e;case 11:t=of(null,t,r,e,n);break e;case 14:t=lf(null,t,r,_t(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_t(r,s),$c(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_t(r,s),cf(e,t,r,s,n);case 3:e:{if(Cg(t),e===null)throw Error(P(387));r=t.pendingProps,i=t.memoizedState,s=i.element,tg(e,t),no(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ls(Error(P(423)),t),t=uf(e,t,r,n,s);break e}else if(r!==s){s=ls(Error(P(424)),t),t=uf(e,t,r,n,s);break e}else for(rt=Nn(t.stateNode.containerInfo.firstChild),st=t,ae=!0,Ct=null,n=Z0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(is(),r===s){t=nn(e,t,n);break e}ze(e,t,r,n)}t=t.child}return t;case 5:return ng(t),e===null&&Oc(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Cc(r,s)?o=null:i!==null&&Cc(r,i)&&(t.flags|=32),Eg(e,t),ze(e,t,o,n),t.child;case 6:return e===null&&Oc(t),null;case 13:return Tg(e,t,n);case 4:return td(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=as(t,null,r,n):ze(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_t(r,s),of(e,t,r,s,n);case 7:return ze(e,t,t.pendingProps,n),t.child;case 8:return ze(e,t,t.pendingProps.children,n),t.child;case 12:return ze(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ee(eo,r._currentValue),r._currentValue=o,i!==null)if(At(i.value,o)){if(i.children===s.children&&!Je.current){t=nn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Jt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Ic(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(P(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ic(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ze(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,es(t,n),s=yt(s),r=r(s),t.flags|=1,ze(e,t,r,n),t.child;case 14:return r=t.type,s=_t(r,t.pendingProps),s=_t(r.type,s),lf(e,t,r,s,n);case 15:return Sg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_t(r,s),Oa(e,t),t.tag=1,Qe(r)?(e=!0,Qa(t)):e=!1,es(t,n),kg(t,r,s),Dc(t,r,s,n),Uc(null,t,r,!0,e,n);case 19:return Pg(e,t,n);case 22:return Ng(e,t,n)}throw Error(P(156,t.tag))};function Hg(e,t){return v0(e,t)}function Db(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(e,t,n,r){return new Db(e,t,n,r)}function gd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mb(e){if(typeof e=="function")return gd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Lu)return 11;if(e===Du)return 14}return 2}function Pn(e,t){var n=e.alternate;return n===null?(n=gt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Da(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")gd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Or:return ir(n.children,s,i,t);case Iu:o=8,s|=8;break;case ac:return e=gt(12,n,t,s|2),e.elementType=ac,e.lanes=i,e;case oc:return e=gt(13,n,t,s),e.elementType=oc,e.lanes=i,e;case lc:return e=gt(19,n,t,s),e.elementType=lc,e.lanes=i,e;case n0:return $o(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case e0:o=10;break e;case t0:o=9;break e;case Lu:o=11;break e;case Du:o=14;break e;case fn:o=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=gt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function ir(e,t,n,r){return e=gt(7,e,r,t),e.lanes=n,e}function $o(e,t,n,r){return e=gt(22,e,r,t),e.elementType=n0,e.lanes=n,e.stateNode={isHidden:!1},e}function El(e,t,n){return e=gt(6,e,null,t),e.lanes=n,e}function Cl(e,t,n){return t=gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $b(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ll(0),this.expirationTimes=ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ll(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function xd(e,t,n,r,s,i,o,l,c){return e=new $b(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=gt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ed(i),e}function Ub(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Kg(e){if(!e)return On;e=e._reactInternals;e:{if(pr(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(Qe(n))return K0(e,n,t)}return t}function Gg(e,t,n,r,s,i,o,l,c){return e=xd(n,r,!0,e,s,i,o,l,c),e.context=Kg(null),n=e.current,r=Fe(),s=Tn(n),i=Jt(r,s),i.callback=t??null,En(n,i,s),e.current.lanes=s,$i(e,s,r),Xe(e,r),e}function Uo(e,t,n,r){var s=t.current,i=Fe(),o=Tn(s);return n=Kg(n),t.context===null?t.context=n:t.pendingContext=n,t=Jt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=En(s,t,o),e!==null&&(Pt(e,s,o,i),Pa(e,s,o)),o}function uo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function yd(e,t){wf(e,t),(e=e.alternate)&&wf(e,t)}function zb(){return null}var Yg=typeof reportError=="function"?reportError:function(e){console.error(e)};function vd(e){this._internalRoot=e}zo.prototype.render=vd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));Uo(e,t,null,null)};zo.prototype.unmount=vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dr(function(){Uo(null,e,null,null)}),t[en]=null}};function zo(e){this._internalRoot=e}zo.prototype.unstable_scheduleHydration=function(e){if(e){var t=N0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gn.length&&t!==0&&t<gn[n].priority;n++);gn.splice(n,0,e),n===0&&C0(e)}};function wd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bf(){}function Fb(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=uo(o);i.call(u)}}var o=Gg(t,r,e,0,null,!1,!1,"",bf);return e._reactRootContainer=o,e[en]=o.current,hi(e.nodeType===8?e.parentNode:e),dr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=uo(c);l.call(u)}}var c=xd(e,0,!1,null,null,!1,!1,"",bf);return e._reactRootContainer=c,e[en]=c.current,hi(e.nodeType===8?e.parentNode:e),dr(function(){Uo(t,c,n,r)}),c}function Vo(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=uo(o);l.call(c)}}Uo(t,o,e,s)}else o=Fb(n,t,e,s,r);return uo(o)}_0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ds(t.pendingLanes);n!==0&&(Uu(t,n|1),Xe(t,ge()),!(G&6)&&(cs=ge()+500,Un()))}break;case 13:dr(function(){var r=tn(e,1);if(r!==null){var s=Fe();Pt(r,e,1,s)}}),yd(e,1)}};zu=function(e){if(e.tag===13){var t=tn(e,134217728);if(t!==null){var n=Fe();Pt(t,e,134217728,n)}yd(e,134217728)}};S0=function(e){if(e.tag===13){var t=Tn(e),n=tn(e,t);if(n!==null){var r=Fe();Pt(n,e,t,r)}yd(e,t)}};N0=function(){return J};E0=function(e,t){var n=J;try{return J=e,t()}finally{J=n}};yc=function(e,t,n){switch(t){case"input":if(dc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ro(r);if(!s)throw Error(P(90));s0(r),dc(r,s)}}}break;case"textarea":a0(e,n);break;case"select":t=n.value,t!=null&&Jr(e,!!n.multiple,t,!1)}};f0=fd;p0=dr;var Vb={usingClientEntryPoint:!1,Events:[zi,Mr,Ro,d0,h0,fd]},Ps={findFiberByHostInstance:Zn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bb={bundleType:Ps.bundleType,version:Ps.version,rendererPackageName:Ps.rendererPackageName,rendererConfig:Ps.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=x0(e),e===null?null:e.stateNode},findFiberByHostInstance:Ps.findFiberByHostInstance||zb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ua=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ua.isDisabled&&ua.supportsFiber)try{Co=ua.inject(Bb),Mt=ua}catch{}}lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vb;lt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wd(t))throw Error(P(200));return Ub(e,t,null,n)};lt.createRoot=function(e,t){if(!wd(e))throw Error(P(299));var n=!1,r="",s=Yg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=xd(e,1,!1,null,null,n,!1,r,s),e[en]=t.current,hi(e.nodeType===8?e.parentNode:e),new vd(t)};lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=x0(t),e=e===null?null:e.stateNode,e};lt.flushSync=function(e){return dr(e)};lt.hydrate=function(e,t,n){if(!Fo(t))throw Error(P(200));return Vo(null,e,t,!0,n)};lt.hydrateRoot=function(e,t,n){if(!wd(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Yg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Gg(t,null,e,1,n??null,s,!1,i,o),e[en]=t.current,hi(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new zo(t)};lt.render=function(e,t,n){if(!Fo(t))throw Error(P(200));return Vo(null,e,t,!1,n)};lt.unmountComponentAtNode=function(e){if(!Fo(e))throw Error(P(40));return e._reactRootContainer?(dr(function(){Vo(null,null,e,!1,function(){e._reactRootContainer=null,e[en]=null})}),!0):!1};lt.unstable_batchedUpdates=fd;lt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Fo(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return Vo(e,t,n,!1,r)};lt.version="18.3.1-next-f1338f8080-20240426";function Jg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jg)}catch(e){console.error(e)}}Jg(),Jm.exports=lt;var Qg=Jm.exports,kf=Qg;sc.createRoot=kf.createRoot,sc.hydrateRoot=kf.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bi(){return bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bi.apply(this,arguments)}var bn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(bn||(bn={}));const jf="popstate";function Wb(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:l}=r.location;return Qc("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ho(s)}return Hb(t,n,null,e)}function xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qb(){return Math.random().toString(36).substr(2,8)}function _f(e,t){return{usr:e.state,key:e.key,idx:t}}function Qc(e,t,n,r){return n===void 0&&(n=null),bi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?xs(t):t,{state:n,key:t&&t.key||r||qb()})}function ho(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function xs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Hb(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=bn.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(bi({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=bn.Pop;let k=d(),g=k==null?null:k-u;u=k,c&&c({action:l,location:v.location,delta:g})}function f(k,g){l=bn.Push;let m=Qc(v.location,k,g);u=d()+1;let y=_f(m,u),j=v.createHref(m);try{o.pushState(y,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(j)}i&&c&&c({action:l,location:v.location,delta:1})}function p(k,g){l=bn.Replace;let m=Qc(v.location,k,g);u=d();let y=_f(m,u),j=v.createHref(m);o.replaceState(y,"",j),i&&c&&c({action:l,location:v.location,delta:0})}function x(k){let g=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof k=="string"?k:ho(k);return m=m.replace(/ $/,"%20"),xe(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let v={get action(){return l},get location(){return e(s,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(jf,h),c=k,()=>{s.removeEventListener(jf,h),c=null}},createHref(k){return t(s,k)},createURL:x,encodeLocation(k){let g=x(k);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(k){return o.go(k)}};return v}var Sf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Sf||(Sf={}));function Kb(e,t,n){return n===void 0&&(n="/"),Gb(e,t,n)}function Gb(e,t,n,r){let s=typeof t=="string"?xs(t):t,i=kd(s.pathname||"/",n);if(i==null)return null;let o=Xg(e);Yb(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=o1(i);l=s1(o[c],u)}return l}function Xg(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(xe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=An([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(xe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Xg(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:n1(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of Zg(i.path))s(i,o,c)}),t}function Zg(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Zg(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Yb(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:r1(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Jb=/^:[\w-]+$/,Qb=3,Xb=2,Zb=1,e1=10,t1=-2,Nf=e=>e==="*";function n1(e,t){let n=e.split("/"),r=n.length;return n.some(Nf)&&(r+=t1),t&&(r+=Xb),n.filter(s=>!Nf(s)).reduce((s,i)=>s+(Jb.test(i)?Qb:i===""?Zb:e1),r)}function r1(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function s1(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=i1({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:An([i,h.pathname]),pathnameBase:h1(An([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=An([i,h.pathnameBase]))}return o}function i1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=a1(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let v=l[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const x=l[h];return p&&!x?u[f]=void 0:u[f]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function a1(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),bd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function o1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return bd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function kd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const l1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,c1=e=>l1.test(e);function u1(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?xs(e):e,i;if(n)if(c1(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),bd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?i=Ef(n.substring(1),"/"):i=Ef(n,t)}else i=t;return{pathname:i,search:f1(r),hash:p1(s)}}function Ef(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Tl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function d1(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function jd(e,t){let n=d1(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function _d(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=xs(e):(s=bi({},e),xe(!s.pathname||!s.pathname.includes("?"),Tl("?","pathname","search",s)),xe(!s.pathname||!s.pathname.includes("#"),Tl("#","pathname","hash",s)),xe(!s.search||!s.search.includes("#"),Tl("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=u1(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const An=e=>e.join("/").replace(/\/\/+/g,"/"),h1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),f1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,p1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function m1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ex=["post","put","patch","delete"];new Set(ex);const g1=["get",...ex];new Set(g1);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ki(){return ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ki.apply(this,arguments)}const Sd=w.createContext(null),x1=w.createContext(null),zn=w.createContext(null),Bo=w.createContext(null),an=w.createContext({outlet:null,matches:[],isDataRoute:!1}),tx=w.createContext(null);function y1(e,t){let{relative:n}=t===void 0?{}:t;ys()||xe(!1);let{basename:r,navigator:s}=w.useContext(zn),{hash:i,pathname:o,search:l}=rx(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:An([r,o])),s.createHref({pathname:c,search:l,hash:i})}function ys(){return w.useContext(Bo)!=null}function Fn(){return ys()||xe(!1),w.useContext(Bo).location}function nx(e){w.useContext(zn).static||w.useLayoutEffect(e)}function Ft(){let{isDataRoute:e}=w.useContext(an);return e?R1():v1()}function v1(){ys()||xe(!1);let e=w.useContext(Sd),{basename:t,future:n,navigator:r}=w.useContext(zn),{matches:s}=w.useContext(an),{pathname:i}=Fn(),o=JSON.stringify(jd(s,n.v7_relativeSplatPath)),l=w.useRef(!1);return nx(()=>{l.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=_d(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:An([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,i,e])}function w1(){let{matches:e}=w.useContext(an),t=e[e.length-1];return t?t.params:{}}function rx(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=w.useContext(zn),{matches:s}=w.useContext(an),{pathname:i}=Fn(),o=JSON.stringify(jd(s,r.v7_relativeSplatPath));return w.useMemo(()=>_d(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function b1(e,t){return k1(e,t)}function k1(e,t,n,r){ys()||xe(!1);let{navigator:s}=w.useContext(zn),{matches:i}=w.useContext(an),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Fn(),d;if(t){var h;let k=typeof t=="string"?xs(t):t;c==="/"||(h=k.pathname)!=null&&h.startsWith(c)||xe(!1),d=k}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let k=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(k.length).join("/")}let x=Kb(e,{pathname:p}),v=E1(x&&x.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:An([c,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:An([c,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,n,r);return t&&v?w.createElement(Bo.Provider,{value:{location:ki({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:bn.Pop}},v):v}function j1(){let e=A1(),t=m1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:s},n):null,null)}const _1=w.createElement(j1,null);class S1 extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(an.Provider,{value:this.props.routeContext},w.createElement(tx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function N1(e){let{routeContext:t,match:n,children:r}=e,s=w.useContext(Sd);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(an.Provider,{value:t},r)}function E1(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||xe(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,x=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,x=!1,v=null,k=null;n&&(p=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||_1,c&&(u<0&&f===0?(O1("route-fallback"),x=!0,k=null):u===f&&(x=!0,k=h.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,f+1)),m=()=>{let y;return p?y=v:x?y=k:h.route.Component?y=w.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=d,w.createElement(N1,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?w.createElement(S1,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var sx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(sx||{}),ix=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ix||{});function C1(e){let t=w.useContext(Sd);return t||xe(!1),t}function T1(e){let t=w.useContext(x1);return t||xe(!1),t}function P1(e){let t=w.useContext(an);return t||xe(!1),t}function ax(e){let t=P1(),n=t.matches[t.matches.length-1];return n.route.id||xe(!1),n.route.id}function A1(){var e;let t=w.useContext(tx),n=T1(),r=ax();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function R1(){let{router:e}=C1(sx.UseNavigateStable),t=ax(ix.UseNavigateStable),n=w.useRef(!1);return nx(()=>{n.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ki({fromRouteId:t},i)))},[e,t])}const Cf={};function O1(e,t,n){Cf[e]||(Cf[e]=!0)}function I1(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ox(e){let{to:t,replace:n,state:r,relative:s}=e;ys()||xe(!1);let{future:i,static:o}=w.useContext(zn),{matches:l}=w.useContext(an),{pathname:c}=Fn(),u=Ft(),d=_d(t,jd(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function Ke(e){xe(!1)}function L1(e){let{basename:t="/",children:n=null,location:r,navigationType:s=bn.Pop,navigator:i,static:o=!1,future:l}=e;ys()&&xe(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:i,static:o,future:ki({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=xs(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:x="default"}=r,v=w.useMemo(()=>{let k=kd(d,c);return k==null?null:{location:{pathname:k,search:h,hash:f,state:p,key:x},navigationType:s}},[c,d,h,f,p,x,s]);return v==null?null:w.createElement(zn.Provider,{value:u},w.createElement(Bo.Provider,{children:n,value:v}))}function Tf(e){let{children:t,location:n}=e;return b1(Xc(t),n)}new Promise(()=>{});function Xc(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,s)=>{if(!w.isValidElement(r))return;let i=[...t,s];if(r.type===w.Fragment){n.push.apply(n,Xc(r.props.children,i));return}r.type!==Ke&&xe(!1),!r.props.index||!r.props.children||xe(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Xc(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zc(){return Zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zc.apply(this,arguments)}function D1(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function M1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $1(e,t){return e.button===0&&(!t||t==="_self")&&!M1(e)}const U1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],z1="6";try{window.__reactRouterVersion=z1}catch{}const F1="startTransition",Pf=Ov[F1];function V1(e){let{basename:t,children:n,future:r,window:s}=e,i=w.useRef();i.current==null&&(i.current=Wb({window:s,v5Compat:!0}));let o=i.current,[l,c]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=w.useCallback(h=>{u&&Pf?Pf(()=>c(h)):c(h)},[c,u]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.useEffect(()=>I1(r),[r]),w.createElement(L1,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const B1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",W1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Q=w.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=D1(t,U1),{basename:p}=w.useContext(zn),x,v=!1;if(typeof u=="string"&&W1.test(u)&&(x=u,B1))try{let y=new URL(window.location.href),j=u.startsWith("//")?new URL(y.protocol+u):new URL(u),_=kd(j.pathname,p);j.origin===y.origin&&_!=null?u=_+j.search+j.hash:v=!0}catch{}let k=y1(u,{relative:s}),g=q1(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function m(y){r&&r(y),y.defaultPrevented||g(y)}return w.createElement("a",Zc({},f,{href:x||k,onClick:v||i?r:m,ref:n,target:c}))});var Af;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Af||(Af={}));var Rf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Rf||(Rf={}));function q1(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Ft(),u=Fn(),d=rx(e,{relative:o});return w.useCallback(h=>{if($1(h,n)){h.preventDefault();let f=r!==void 0?r:ho(u)===ho(d);c(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,r,s,n,e,i,o,l])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var H1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),F=(e,t)=>{const n=w.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>w.createElement("svg",{ref:d,...H1,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${K1(e)}`,l].join(" "),...u},[...t.map(([h,f])=>w.createElement(h,f)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=F("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=F("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=F("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=F("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=F("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=F("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=F("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=F("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=F("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=F("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=F("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=F("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=F("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=F("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=F("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=F("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=F("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=F("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=F("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=F("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=F("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=F("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=F("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=F("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=F("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=F("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=F("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=F("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=F("MoveRight",[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=F("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=F("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=F("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=F("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=F("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=F("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=F("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=F("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=F("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=F("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=F("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=F("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=F("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=F("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=F("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=F("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=F("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=F("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=F("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=F("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Ad=w.createContext({});function Rd(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ho=w.createContext(null),Od=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class ok extends w.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function lk({children:e,isPresent:t}){const n=w.useId(),r=w.useRef(null),s=w.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=w.useContext(Od);return w.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=s.current;if(t||!r.current||!o||!l)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),a.jsx(ok,{isPresent:t,childRef:r,sizeRef:s,children:w.cloneElement(e,{ref:r})})}const ck=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const l=Rd(uk),c=w.useId(),u=w.useCallback(h=>{l.set(h,!0);for(const f of l.values())if(!f)return;r&&r()},[l,r]),d=w.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:u,register:h=>(l.set(h,!1),()=>l.delete(h))}),i?[Math.random(),u]:[n,u]);return w.useMemo(()=>{l.forEach((h,f)=>l.set(f,!1))},[n]),w.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=a.jsx(lk,{isPresent:n,children:e})),a.jsx(Ho.Provider,{value:d,children:e})};function uk(){return new Map}function wx(e=!0){const t=w.useContext(Ho);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=w.useId();w.useEffect(()=>{e&&s(i)},[e]);const o=w.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const da=e=>e.key||"";function Lf(e){const t=[];return w.Children.forEach(e,n=>{w.isValidElement(n)&&t.push(n)}),t}const Id=typeof window<"u",bx=Id?w.useLayoutEffect:w.useEffect,je=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[l,c]=wx(o),u=w.useMemo(()=>Lf(e),[e]),d=o&&!l?[]:u.map(da),h=w.useRef(!0),f=w.useRef(u),p=Rd(()=>new Map),[x,v]=w.useState(u),[k,g]=w.useState(u);bx(()=>{h.current=!1,f.current=u;for(let j=0;j<k.length;j++){const _=da(k[j]);d.includes(_)?p.delete(_):p.get(_)!==!0&&p.set(_,!1)}},[k,d.length,d.join("-")]);const m=[];if(u!==x){let j=[...u];for(let _=0;_<k.length;_++){const b=k[_],S=da(b);d.includes(S)||(j.splice(_,0,b),m.push(b))}i==="wait"&&m.length&&(j=m),g(Lf(j)),v(u);return}const{forceRender:y}=w.useContext(Ad);return a.jsx(a.Fragment,{children:k.map(j=>{const _=da(j),b=o&&!l?!1:u===k||d.includes(_),S=()=>{if(p.has(_))p.set(_,!0);else return;let E=!0;p.forEach(T=>{T||(E=!1)}),E&&(y==null||y(),g(f.current),o&&(c==null||c()),r&&r())};return a.jsx(ck,{isPresent:b,initial:!h.current||n?void 0:!1,custom:b?void 0:t,presenceAffectsLayout:s,mode:i,onExitComplete:b?void 0:S,children:j},_)})})},it=e=>e;let kx=it;function Ld(e){let t;return()=>(t===void 0&&(t=e()),t)}const us=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Qt=e=>e*1e3,Xt=e=>e/1e3,dk={useManualTiming:!1};function hk(e){let t=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,d=!1,h=!1)=>{const p=h&&r?t:n;return d&&i.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(o=u,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(l),t.clear(),r=!1,s&&(s=!1,c.process(u))}};return c}const ha=["read","resolveKeyframes","update","preRender","render","postRender"],fk=40;function jx(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=ha.reduce((g,m)=>(g[m]=hk(i),g),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:f}=o,p=()=>{const g=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(g-s.timestamp,fk),1),s.timestamp=g,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(p))},x=()=>{n=!0,r=!0,s.isProcessing||e(p)};return{schedule:ha.reduce((g,m)=>{const y=o[m];return g[m]=(j,_=!1,b=!1)=>(n||x(),y.schedule(j,_,b)),g},{}),cancel:g=>{for(let m=0;m<ha.length;m++)o[ha[m]].cancel(g)},state:s,steps:o}}const{schedule:re,cancel:Ln,state:Te,steps:Al}=jx(typeof requestAnimationFrame<"u"?requestAnimationFrame:it,!0),_x=w.createContext({strict:!1}),Df={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ds={};for(const e in Df)ds[e]={isEnabled:t=>Df[e].some(n=>!!t[n])};function pk(e){for(const t in e)ds[t]={...ds[t],...e[t]}}const mk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function go(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||mk.has(e)}let Sx=e=>!go(e);function gk(e){e&&(Sx=t=>t.startsWith("on")?!go(t):e(t))}try{gk(require("@emotion/is-prop-valid").default)}catch{}function xk(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(Sx(s)||n===!0&&go(s)||!t&&!go(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function yk(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const Ko=w.createContext({});function Si(e){return typeof e=="string"||Array.isArray(e)}function Go(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Dd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Md=["initial",...Dd];function Yo(e){return Go(e.animate)||Md.some(t=>Si(e[t]))}function Nx(e){return!!(Yo(e)||e.variants)}function vk(e,t){if(Yo(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Si(n)?n:void 0,animate:Si(r)?r:void 0}}return e.inherit!==!1?t:{}}function wk(e){const{initial:t,animate:n}=vk(e,w.useContext(Ko));return w.useMemo(()=>({initial:t,animate:n}),[Mf(t),Mf(n)])}function Mf(e){return Array.isArray(e)?e.join(" "):e}const bk=Symbol.for("motionComponentSymbol");function Wr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function kk(e,t,n){return w.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Wr(n)&&(n.current=r))},[t])}const $d=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jk="framerAppearId",Ex="data-"+$d(jk),{schedule:Ud}=jx(queueMicrotask,!1),Cx=w.createContext({});function _k(e,t,n,r,s){var i,o;const{visualElement:l}=w.useContext(Ko),c=w.useContext(_x),u=w.useContext(Ho),d=w.useContext(Od).reducedMotion,h=w.useRef(null);r=r||c.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,p=w.useContext(Cx);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&Sk(h.current,n,s,p);const x=w.useRef(!1);w.useInsertionEffect(()=>{f&&x.current&&f.update(n,u)});const v=n[Ex],k=w.useRef(!!v&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,v))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,v)));return bx(()=>{f&&(x.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Ud.render(f.render),k.current&&f.animationState&&f.animationState.animateChanges())}),w.useEffect(()=>{f&&(!k.current&&f.animationState&&f.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,v)}),k.current=!1))}),f}function Sk(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Tx(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&Wr(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function Tx(e){if(e)return e.options.allowProjection!==!1?e.projection:Tx(e.parent)}function Nk({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){var i,o;e&&pk(e);function l(u,d){let h;const f={...w.useContext(Od),...u,layoutId:Ek(u)},{isStatic:p}=f,x=wk(u),v=r(u,p);if(!p&&Id){Ck();const k=Tk(f);h=k.MeasureLayout,x.visualElement=_k(s,v,f,t,k.ProjectionNode)}return a.jsxs(Ko.Provider,{value:x,children:[h&&x.visualElement?a.jsx(h,{visualElement:x.visualElement,...f}):null,n(s,u,kk(v,x.visualElement,d),v,p,x.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const c=w.forwardRef(l);return c[bk]=s,c}function Ek({layoutId:e}){const t=w.useContext(Ad).id;return t&&e!==void 0?t+"-"+e:e}function Ck(e,t){w.useContext(_x).strict}function Tk(e){const{drag:t,layout:n}=ds;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Pk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zd(e){return typeof e!="string"||e.includes("-")?!1:!!(Pk.indexOf(e)>-1||/[A-Z]/u.test(e))}function $f(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Fd(e,t,n,r){if(typeof t=="function"){const[s,i]=$f(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=$f(r);t=t(n!==void 0?n:e.custom,s,i)}return t}const eu=e=>Array.isArray(e),Ak=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Rk=e=>eu(e)?e[e.length-1]||0:e,Me=e=>!!(e&&e.getVelocity);function $a(e){const t=Me(e)?e.get():e;return Ak(t)?t.toValue():t}function Ok({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,s,i){const o={latestValues:Ik(r,s,i,e),renderState:t()};return n&&(o.onMount=l=>n({props:r,current:l,...o}),o.onUpdate=l=>n(l)),o}const Px=e=>(t,n)=>{const r=w.useContext(Ko),s=w.useContext(Ho),i=()=>Ok(e,t,r,s);return n?i():Rd(i)};function Ik(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=$a(i[f]);let{initial:o,animate:l}=e;const c=Yo(e),u=Nx(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!Go(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const x=Fd(e,f[p]);if(x){const{transitionEnd:v,transition:k,...g}=x;for(const m in g){let y=g[m];if(Array.isArray(y)){const j=d?y.length-1:0;y=y[j]}y!==null&&(s[m]=y)}for(const m in v)s[m]=v[m]}}}return s}const vs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mr=new Set(vs),Ax=e=>t=>typeof t=="string"&&t.startsWith(e),Rx=Ax("--"),Lk=Ax("var(--"),Vd=e=>Lk(e)?Dk.test(e.split("/*")[0].trim()):!1,Dk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ox=(e,t)=>t&&typeof e=="number"?t.transform(e):e,rn=(e,t,n)=>n>t?t:n<e?e:n,ws={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ni={...ws,transform:e=>rn(0,1,e)},fa={...ws,default:1},Bi=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),hn=Bi("deg"),Ut=Bi("%"),U=Bi("px"),Mk=Bi("vh"),$k=Bi("vw"),Uf={...Ut,parse:e=>Ut.parse(e)/100,transform:e=>Ut.transform(e*100)},Uk={borderWidth:U,borderTopWidth:U,borderRightWidth:U,borderBottomWidth:U,borderLeftWidth:U,borderRadius:U,radius:U,borderTopLeftRadius:U,borderTopRightRadius:U,borderBottomRightRadius:U,borderBottomLeftRadius:U,width:U,maxWidth:U,height:U,maxHeight:U,top:U,right:U,bottom:U,left:U,padding:U,paddingTop:U,paddingRight:U,paddingBottom:U,paddingLeft:U,margin:U,marginTop:U,marginRight:U,marginBottom:U,marginLeft:U,backgroundPositionX:U,backgroundPositionY:U},zk={rotate:hn,rotateX:hn,rotateY:hn,rotateZ:hn,scale:fa,scaleX:fa,scaleY:fa,scaleZ:fa,skew:hn,skewX:hn,skewY:hn,distance:U,translateX:U,translateY:U,translateZ:U,x:U,y:U,z:U,perspective:U,transformPerspective:U,opacity:Ni,originX:Uf,originY:Uf,originZ:U},zf={...ws,transform:Math.round},Bd={...Uk,...zk,zIndex:zf,size:U,fillOpacity:Ni,strokeOpacity:Ni,numOctaves:zf},Fk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Vk=vs.length;function Bk(e,t,n){let r="",s=!0;for(let i=0;i<Vk;i++){const o=vs[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=Ox(l,Bd[o]);if(!c){s=!1;const d=Fk[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function Wd(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(mr.has(c)){o=!0;continue}else if(Rx(c)){s[c]=u;continue}else{const d=Ox(u,Bd[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(t.transform||(o||n?r.transform=Bk(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const Wk={offset:"stroke-dashoffset",array:"stroke-dasharray"},qk={offset:"strokeDashoffset",array:"strokeDasharray"};function Hk(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?Wk:qk;e[i.offset]=U.transform(-r);const o=U.transform(t),l=U.transform(n);e[i.array]=`${o} ${l}`}function Ff(e,t,n){return typeof e=="string"?e:U.transform(t+n*e)}function Kk(e,t,n){const r=Ff(t,e.x,e.width),s=Ff(n,e.y,e.height);return`${r} ${s}`}function qd(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,h){if(Wd(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:x}=e;f.transform&&(x&&(p.transform=f.transform),delete f.transform),x&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=Kk(x,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&Hk(f,o,l,c,!1)}const Hd=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Ix=()=>({...Hd(),attrs:{}}),Kd=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Lx(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const Dx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Mx(e,t,n,r){Lx(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(Dx.has(s)?s:$d(s),t.attrs[s])}const xo={};function Gk(e){Object.assign(xo,e)}function $x(e,{layout:t,layoutId:n}){return mr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!xo[e]||e==="opacity")}function Gd(e,t,n){var r;const{style:s}=e,i={};for(const o in s)(Me(s[o])||t.style&&Me(t.style[o])||$x(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function Ux(e,t,n){const r=Gd(e,t,n);for(const s in e)if(Me(e[s])||Me(t[s])){const i=vs.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}function Yk(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Vf=["x","y","width","height","cx","cy","r"],Jk={useVisualState:Px({scrapeMotionValuesFromProps:Ux,createRenderState:Ix,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!e.drag;if(!i){for(const l in s)if(mr.has(l)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let l=0;l<Vf.length;l++){const c=Vf[l];e[c]!==t[c]&&(o=!0)}o&&re.read(()=>{Yk(n,r),re.render(()=>{qd(r,s,Kd(n.tagName),e.transformTemplate),Mx(n,r)})})}})},Qk={useVisualState:Px({scrapeMotionValuesFromProps:Gd,createRenderState:Hd})};function zx(e,t,n){for(const r in t)!Me(t[r])&&!$x(r,n)&&(e[r]=t[r])}function Xk({transformTemplate:e},t){return w.useMemo(()=>{const n=Hd();return Wd(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Zk(e,t){const n=e.style||{},r={};return zx(r,n,e),Object.assign(r,Xk(e,t)),r}function ej(e,t){const n={},r=Zk(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function tj(e,t,n,r){const s=w.useMemo(()=>{const i=Ix();return qd(i,t,Kd(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};zx(i,e.style,e),s.style={...i,...s.style}}return s}function nj(e=!1){return(n,r,s,{latestValues:i},o)=>{const c=(zd(n)?tj:ej)(r,i,o,n),u=xk(r,typeof n=="string",e),d=n!==w.Fragment?{...u,...c,ref:s}:{},{children:h}=r,f=w.useMemo(()=>Me(h)?h.get():h,[h]);return w.createElement(n,{...d,children:f})}}function rj(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...zd(r)?Jk:Qk,preloadedFeatures:e,useRender:nj(s),createVisualElement:t,Component:r};return Nk(o)}}function Fx(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Jo(e,t,n){const r=e.getProps();return Fd(r,t,n!==void 0?n:r.custom,e)}const sj=Ld(()=>window.ScrollTimeline!==void 0);class ij{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>{if(sj()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class aj extends ij{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function Yd(e,t){return e?e[t]||e.default||e:void 0}const tu=2e4;function Vx(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<tu;)t+=n,r=e.next(t);return t>=tu?1/0:t}function Jd(e){return typeof e=="function"}function Bf(e,t){e.timeline=t,e.onfinish=null}const Qd=e=>Array.isArray(e)&&typeof e[0]=="number",oj={linearEasing:void 0};function lj(e,t){const n=Ld(e);return()=>{var r;return(r=oj[t])!==null&&r!==void 0?r:n()}}const yo=lj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Bx=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(us(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function Wx(e){return!!(typeof e=="function"&&yo()||!e||typeof e=="string"&&(e in nu||yo())||Qd(e)||Array.isArray(e)&&e.every(Wx))}const $s=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,nu={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$s([0,.65,.55,1]),circOut:$s([.55,0,1,.45]),backIn:$s([.31,.01,.66,-.59]),backOut:$s([.33,1.53,.69,.99])};function qx(e,t){if(e)return typeof e=="function"&&yo()?Bx(e,t):Qd(e)?$s(e):Array.isArray(e)?e.map(n=>qx(n,t)||nu.easeOut):nu[e]}const jt={x:!1,y:!1};function Hx(){return jt.x||jt.y}function cj(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function Kx(e,t){const n=cj(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function Wf(e){return t=>{t.pointerType==="touch"||Hx()||e(t)}}function uj(e,t,n={}){const[r,s,i]=Kx(e,n),o=Wf(l=>{const{target:c}=l,u=t(l);if(typeof u!="function"||!c)return;const d=Wf(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const Gx=(e,t)=>t?e===t?!0:Gx(e,t.parentElement):!1,Xd=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,dj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hj(e){return dj.has(e.tagName)||e.tabIndex!==-1}const Us=new WeakSet;function qf(e){return t=>{t.key==="Enter"&&e(t)}}function Rl(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const fj=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=qf(()=>{if(Us.has(n))return;Rl(n,"down");const s=qf(()=>{Rl(n,"up")}),i=()=>Rl(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Hf(e){return Xd(e)&&!Hx()}function pj(e,t,n={}){const[r,s,i]=Kx(e,n),o=l=>{const c=l.currentTarget;if(!Hf(l)||Us.has(c))return;Us.add(c);const u=t(l),d=(p,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!Hf(p)||!Us.has(c))&&(Us.delete(c),typeof u=="function"&&u(p,{success:x}))},h=p=>{d(p,n.useGlobalTarget||Gx(c,p.target))},f=p=>{d(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(l=>{!hj(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l.addEventListener("focus",u=>fj(u,s),s)}),i}function mj(e){return e==="x"||e==="y"?jt[e]?null:(jt[e]=!0,()=>{jt[e]=!1}):jt.x||jt.y?null:(jt.x=jt.y=!0,()=>{jt.x=jt.y=!1})}const Yx=new Set(["width","height","top","left","right","bottom",...vs]);let Ua;function gj(){Ua=void 0}const zt={now:()=>(Ua===void 0&&zt.set(Te.isProcessing||dk.useManualTiming?Te.timestamp:performance.now()),Ua),set:e=>{Ua=e,queueMicrotask(gj)}};function Zd(e,t){e.indexOf(t)===-1&&e.push(t)}function eh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class th{constructor(){this.subscriptions=[]}add(t){return Zd(this.subscriptions,t),()=>eh(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Jx(e,t){return t?e*(1e3/t):0}const Kf=30,xj=e=>!isNaN(parseFloat(e));class yj{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=zt.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=zt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=xj(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new th);const r=this.events[t].add(n);return t==="change"?()=>{r(),re.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=zt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Kf)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Kf);return Jx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ei(e,t){return new yj(e,t)}function vj(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ei(n))}function wj(e,t){const n=Jo(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const l=Rk(i[o]);vj(e,o,l)}}function bj(e){return!!(Me(e)&&e.add)}function ru(e,t){const n=e.getValue("willChange");if(bj(n))return n.add(t)}function Qx(e){return e.props[Ex]}const Xx=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,kj=1e-7,jj=12;function _j(e,t,n,r,s){let i,o,l=0;do o=t+(n-t)/2,i=Xx(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>kj&&++l<jj);return o}function Wi(e,t,n,r){if(e===t&&n===r)return it;const s=i=>_j(i,0,1,e,n);return i=>i===0||i===1?i:Xx(s(i),t,r)}const Zx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ey=e=>t=>1-e(1-t),ty=Wi(.33,1.53,.69,.99),nh=ey(ty),ny=Zx(nh),ry=e=>(e*=2)<1?.5*nh(e):.5*(2-Math.pow(2,-10*(e-1))),rh=e=>1-Math.sin(Math.acos(e)),sy=ey(rh),iy=Zx(rh),ay=e=>/^0[^.\s]+$/u.test(e);function Sj(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ay(e):!0}const Xs=e=>Math.round(e*1e5)/1e5,sh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Nj(e){return e==null}const Ej=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ih=(e,t)=>n=>!!(typeof n=="string"&&Ej.test(n)&&n.startsWith(e)||t&&!Nj(n)&&Object.prototype.hasOwnProperty.call(n,t)),oy=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,l]=r.match(sh);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Cj=e=>rn(0,255,e),Ol={...ws,transform:e=>Math.round(Cj(e))},nr={test:ih("rgb","red"),parse:oy("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ol.transform(e)+", "+Ol.transform(t)+", "+Ol.transform(n)+", "+Xs(Ni.transform(r))+")"};function Tj(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const su={test:ih("#"),parse:Tj,transform:nr.transform},qr={test:ih("hsl","hue"),parse:oy("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ut.transform(Xs(t))+", "+Ut.transform(Xs(n))+", "+Xs(Ni.transform(r))+")"},Le={test:e=>nr.test(e)||su.test(e)||qr.test(e),parse:e=>nr.test(e)?nr.parse(e):qr.test(e)?qr.parse(e):su.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?nr.transform(e):qr.transform(e)},Pj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Aj(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(sh))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Pj))===null||n===void 0?void 0:n.length)||0)>0}const ly="number",cy="color",Rj="var",Oj="var(",Gf="${}",Ij=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ci(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(Ij,c=>(Le.test(c)?(r.color.push(i),s.push(cy),n.push(Le.parse(c))):c.startsWith(Oj)?(r.var.push(i),s.push(Rj),n.push(c)):(r.number.push(i),s.push(ly),n.push(parseFloat(c))),++i,Gf)).split(Gf);return{values:n,split:l,indexes:r,types:s}}function uy(e){return Ci(e).values}function dy(e){const{split:t,types:n}=Ci(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const l=n[o];l===ly?i+=Xs(s[o]):l===cy?i+=Le.transform(s[o]):i+=s[o]}return i}}const Lj=e=>typeof e=="number"?0:e;function Dj(e){const t=uy(e);return dy(e)(t.map(Lj))}const Dn={test:Aj,parse:uy,createTransformer:dy,getAnimatableNone:Dj},Mj=new Set(["brightness","contrast","saturate","opacity"]);function $j(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(sh)||[];if(!r)return e;const s=n.replace(r,"");let i=Mj.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const Uj=/\b([a-z-]*)\(.*?\)/gu,iu={...Dn,getAnimatableNone:e=>{const t=e.match(Uj);return t?t.map($j).join(" "):e}},zj={...Bd,color:Le,backgroundColor:Le,outlineColor:Le,fill:Le,stroke:Le,borderColor:Le,borderTopColor:Le,borderRightColor:Le,borderBottomColor:Le,borderLeftColor:Le,filter:iu,WebkitFilter:iu},ah=e=>zj[e];function hy(e,t){let n=ah(e);return n!==iu&&(n=Dn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Fj=new Set(["auto","none","0"]);function Vj(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!Fj.has(i)&&Ci(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=hy(n,s)}const Yf=e=>e===ws||e===U,Jf=(e,t)=>parseFloat(e.split(", ")[t]),Qf=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Jf(s[1],t);{const i=r.match(/^matrix\((.+)\)$/u);return i?Jf(i[1],e):0}},Bj=new Set(["x","y","z"]),Wj=vs.filter(e=>!Bj.has(e));function qj(e){const t=[];return Wj.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const hs={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Qf(4,13),y:Qf(5,14)};hs.translateX=hs.x;hs.translateY=hs.y;const ar=new Set;let au=!1,ou=!1;function fy(){if(ou){const e=Array.from(ar).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=qj(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var l;(l=r.getValue(i))===null||l===void 0||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ou=!1,au=!1,ar.forEach(e=>e.complete()),ar.clear()}function py(){ar.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ou=!0)})}function Hj(){py(),fy()}class oh{constructor(t,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ar.add(this),au||(au=!0,re.read(py),re.resolveKeyframes(fy))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=s==null?void 0:s.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ar.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ar.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const my=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Kj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Gj(e){const t=Kj.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function gy(e,t,n=1){const[r,s]=Gj(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return my(o)?parseFloat(o):o}return Vd(s)?gy(s,t,n+1):s}const xy=e=>t=>t.test(e),Yj={test:e=>e==="auto",parse:e=>e},yy=[ws,U,Ut,hn,$k,Mk,Yj],Xf=e=>yy.find(xy(e));class vy extends oh{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),Vd(u))){const d=gy(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Yx.has(r)||t.length!==2)return;const[s,i]=t,o=Xf(s),l=Xf(i);if(o!==l)if(Yf(o)&&Yf(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)Sj(t[s])&&r.push(s);r.length&&Vj(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hs[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=hs[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const Zf=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Dn.test(e)||e==="0")&&!e.startsWith("url("));function Jj(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Qj(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=Zf(s,t),l=Zf(i,t);return!o||!l?!1:Jj(e)||(n==="spring"||Jd(n))&&r}const Xj=e=>e!==null;function Qo(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(Xj),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const Zj=40;class wy{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=zt.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Zj?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Hj(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=zt.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!Qj(t,r,s,i))if(o)this.options.duration=0;else{c&&c(Qo(t,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const le=(e,t,n)=>e+(t-e)*n;function Il(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function e_({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=Il(c,l,e+1/3),i=Il(c,l,e),o=Il(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function vo(e,t){return n=>n>0?t:e}const Ll=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},t_=[su,nr,qr],n_=e=>t_.find(t=>t.test(e));function ep(e){const t=n_(e);if(!t)return!1;let n=t.parse(e);return t===qr&&(n=e_(n)),n}const tp=(e,t)=>{const n=ep(e),r=ep(t);if(!n||!r)return vo(e,t);const s={...n};return i=>(s.red=Ll(n.red,r.red,i),s.green=Ll(n.green,r.green,i),s.blue=Ll(n.blue,r.blue,i),s.alpha=le(n.alpha,r.alpha,i),nr.transform(s))},r_=(e,t)=>n=>t(e(n)),qi=(...e)=>e.reduce(r_),lu=new Set(["none","hidden"]);function s_(e,t){return lu.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function i_(e,t){return n=>le(e,t,n)}function lh(e){return typeof e=="number"?i_:typeof e=="string"?Vd(e)?vo:Le.test(e)?tp:l_:Array.isArray(e)?by:typeof e=="object"?Le.test(e)?tp:a_:vo}function by(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>lh(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function a_(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=lh(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function o_(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][s[o]],c=(n=e.values[l])!==null&&n!==void 0?n:0;r[i]=c,s[o]++}return r}const l_=(e,t)=>{const n=Dn.createTransformer(t),r=Ci(e),s=Ci(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?lu.has(e)&&!s.values.length||lu.has(t)&&!r.values.length?s_(e,t):qi(by(o_(r,s),s.values),n):vo(e,t)};function ky(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?le(e,t,n):lh(e)(e,t)}const c_=5;function jy(e,t,n){const r=Math.max(t-c_,0);return Jx(n-e(r),t-r)}const fe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Dl=.001;function u_({duration:e=fe.duration,bounce:t=fe.bounce,velocity:n=fe.velocity,mass:r=fe.mass}){let s,i,o=1-t;o=rn(fe.minDamping,fe.maxDamping,o),e=rn(fe.minDuration,fe.maxDuration,Xt(e)),o<1?(s=u=>{const d=u*o,h=d*e,f=d-n,p=cu(u,o),x=Math.exp(-h);return Dl-f/p*x},i=u=>{const h=u*o*e,f=h*n+n,p=Math.pow(o,2)*Math.pow(u,2)*e,x=Math.exp(-h),v=cu(Math.pow(u,2),o);return(-s(u)+Dl>0?-1:1)*((f-p)*x)/v}):(s=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-Dl+d*h},i=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const l=5/e,c=h_(s,i,l);if(e=Qt(e),isNaN(c))return{stiffness:fe.stiffness,damping:fe.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const d_=12;function h_(e,t,n){let r=n;for(let s=1;s<d_;s++)r=r-e(r)/t(r);return r}function cu(e,t){return e*Math.sqrt(1-t*t)}const f_=["duration","bounce"],p_=["stiffness","damping","mass"];function np(e,t){return t.some(n=>e[n]!==void 0)}function m_(e){let t={velocity:fe.velocity,stiffness:fe.stiffness,damping:fe.damping,mass:fe.mass,isResolvedFromDuration:!1,...e};if(!np(e,p_)&&np(e,f_))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*rn(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:fe.mass,stiffness:s,damping:i}}else{const n=u_(e);t={...t,...n,mass:fe.mass},t.isResolvedFromDuration=!0}return t}function _y(e=fe.visualDuration,t=fe.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=m_({...n,velocity:-Xt(n.velocity||0)}),x=f||0,v=u/(2*Math.sqrt(c*d)),k=o-i,g=Xt(Math.sqrt(c/d)),m=Math.abs(k)<5;r||(r=m?fe.restSpeed.granular:fe.restSpeed.default),s||(s=m?fe.restDelta.granular:fe.restDelta.default);let y;if(v<1){const _=cu(g,v);y=b=>{const S=Math.exp(-v*g*b);return o-S*((x+v*g*k)/_*Math.sin(_*b)+k*Math.cos(_*b))}}else if(v===1)y=_=>o-Math.exp(-g*_)*(k+(x+g*k)*_);else{const _=g*Math.sqrt(v*v-1);y=b=>{const S=Math.exp(-v*g*b),E=Math.min(_*b,300);return o-S*((x+v*g*k)*Math.sinh(E)+_*k*Math.cosh(E))/_}}const j={calculatedDuration:p&&h||null,next:_=>{const b=y(_);if(p)l.done=_>=h;else{let S=0;v<1&&(S=_===0?Qt(x):jy(y,_,b));const E=Math.abs(S)<=r,T=Math.abs(o-b)<=s;l.done=E&&T}return l.value=l.done?o:b,l},toString:()=>{const _=Math.min(Vx(j),tu),b=Bx(S=>j.next(_*S).value,_,30);return _+"ms "+b}};return j}function rp({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},p=E=>l!==void 0&&E<l||c!==void 0&&E>c,x=E=>l===void 0?c:c===void 0||Math.abs(l-E)<Math.abs(c-E)?l:c;let v=n*t;const k=h+v,g=o===void 0?k:o(k);g!==k&&(v=g-h);const m=E=>-v*Math.exp(-E/r),y=E=>g+m(E),j=E=>{const T=m(E),O=y(E);f.done=Math.abs(T)<=u,f.value=f.done?g:O};let _,b;const S=E=>{p(f.value)&&(_=E,b=_y({keyframes:[f.value,x(f.value)],velocity:jy(y,E,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:E=>{let T=!1;return!b&&_===void 0&&(T=!0,j(E),S(E)),_!==void 0&&E>=_?b.next(E-_):(!T&&j(E),f)}}}const g_=Wi(.42,0,1,1),x_=Wi(0,0,.58,1),Sy=Wi(.42,0,.58,1),y_=e=>Array.isArray(e)&&typeof e[0]!="number",v_={linear:it,easeIn:g_,easeInOut:Sy,easeOut:x_,circIn:rh,circInOut:iy,circOut:sy,backIn:nh,backInOut:ny,backOut:ty,anticipate:ry},sp=e=>{if(Qd(e)){kx(e.length===4);const[t,n,r,s]=e;return Wi(t,n,r,s)}else if(typeof e=="string")return v_[e];return e};function w_(e,t,n){const r=[],s=n||ky,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||it:t;l=qi(c,l)}r.push(l)}return r}function b_(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(kx(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=w_(t,r,s),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=us(e[h],e[h+1],d);return l[h](f)};return n?d=>u(rn(e[0],e[i-1],d)):u}function k_(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=us(0,t,r);e.push(le(n,1,s))}}function j_(e){const t=[0];return k_(t,e.length-1),t}function __(e,t){return e.map(n=>n*t)}function S_(e,t){return e.map(()=>t||Sy).splice(0,e.length-1)}function wo({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=y_(r)?r.map(sp):sp(r),i={done:!1,value:t[0]},o=__(n&&n.length===t.length?n:j_(t),e),l=b_(o,t,{ease:Array.isArray(s)?s:S_(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const N_=e=>{const t=({timestamp:n})=>e(n);return{start:()=>re.update(t,!0),stop:()=>Ln(t),now:()=>Te.isProcessing?Te.timestamp:zt.now()}},E_={decay:rp,inertia:rp,tween:wo,keyframes:wo,spring:_y},C_=e=>e/100;class ch extends wy{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||oh,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(i,l,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,l=Jd(n)?n:E_[n]||wo;let c,u;l!==wo&&typeof t[0]!="number"&&(c=qi(C_,ky(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});i==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=Vx(d));const{calculatedDuration:h}=d,f=h+s,p=f*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:p,repeatType:x,repeatDelay:v,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const g=this.currentTime-f*(this.speed>=0?1:-1),m=this.speed>=0?g<0:g>d;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let y=this.currentTime,j=i;if(p){const E=Math.min(this.currentTime,d)/h;let T=Math.floor(E),O=E%1;!O&&E>=1&&(O=1),O===1&&T--,T=Math.min(T,p+1),!!(T%2)&&(x==="reverse"?(O=1-O,v&&(O-=v/h)):x==="mirror"&&(j=o)),y=rn(0,1,O)*h}const _=m?{done:!1,value:c[0]}:j.next(y);l&&(_.value=l(_.value));let{done:b}=_;!m&&u!==null&&(b=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&b);return S&&s!==void 0&&(_.value=Qo(c,this.options,s)),k&&k(_.value),S&&this.finish(),_}get duration(){const{resolved:t}=this;return t?Xt(t.calculatedDuration):0}get time(){return Xt(this.currentTime)}set time(t){t=Qt(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Xt(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=N_,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const T_=new Set(["opacity","clipPath","filter","transform"]);function P_(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=qx(l,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const A_=Ld(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),bo=10,R_=2e4;function O_(e){return Jd(e.type)||e.type==="spring"||!Wx(e.ease)}function I_(e,t){const n=new ch({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let i=0;for(;!r.done&&i<R_;)r=n.sample(i),s.push(r.value),i+=bo;return{times:void 0,keyframes:s,duration:i-bo,ease:"linear"}}const Ny={anticipate:ry,backInOut:ny,circInOut:iy};function L_(e){return e in Ny}class ip extends wy{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new vy(i,(o,l)=>this.onKeyframesResolved(o,l),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&yo()&&L_(i)&&(i=Ny[i]),O_(this.options)){const{onComplete:h,onUpdate:f,motionValue:p,element:x,...v}=this.options,k=I_(t,v);t=k.keyframes,t.length===1&&(t[1]=t[0]),r=k.duration,s=k.times,i=k.ease,o="keyframes"}const d=P_(l.owner.current,c,t,{...this.options,duration:r,times:s,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(Bf(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(Qo(t,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:o,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Xt(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Xt(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Qt(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return it;const{animation:r}=n;Bf(r,t)}return it}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...p}=this.options,x=new ch({...p,keyframes:r,duration:s,type:i,ease:o,times:l,isGenerator:!0}),v=Qt(this.time);u.setWithVelocity(x.sample(v-bo).value,x.sample(v).value,bo)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:l}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return A_()&&r&&T_.has(r)&&!c&&!u&&!s&&i!=="mirror"&&o!==0&&l!=="inertia"}}const D_={type:"spring",stiffness:500,damping:25,restSpeed:10},M_=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),$_={type:"keyframes",duration:.8},U_={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},z_=(e,{keyframes:t})=>t.length>2?$_:mr.has(e)?e.startsWith("scale")?M_(t[1]):D_:U_;function F_({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const uh=(e,t,n,r={},s,i)=>o=>{const l=Yd(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Qt(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};F_(l)||(d={...d,...z_(e,d)}),d.duration&&(d.duration=Qt(d.duration)),d.repeatDelay&&(d.repeatDelay=Qt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&t.get()!==void 0){const f=Qo(d.keyframes,l);if(f!==void 0)return re.update(()=>{d.onUpdate(f),d.onComplete()}),new aj([])}return!i&&ip.supports(d)?new ip(d):new ch(d)};function V_({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Ey(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;r&&(o=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in c){const f=e.getValue(h,(i=e.latestValues[h])!==null&&i!==void 0?i:null),p=c[h];if(p===void 0||d&&V_(d,h))continue;const x={delay:n,...Yd(o||{},h)};let v=!1;if(window.MotionHandoffAnimation){const g=Qx(e);if(g){const m=window.MotionHandoffAnimation(g,h,re);m!==null&&(x.startTime=m,v=!0)}}ru(e,h),f.start(uh(h,f,p,e.shouldReduceMotion&&Yx.has(h)?{type:!1}:x,e,v));const k=f.animation;k&&u.push(k)}return l&&Promise.all(u).then(()=>{re.update(()=>{l&&wj(e,l)})}),u}function uu(e,t,n={}){var r;const s=Jo(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(Ey(e,s,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return B_(e,t,d+u,h,f,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(n.delay)])}function B_(e,t,n=0,r=0,s=1,i){const o=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(W_).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(uu(u,t,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function W_(e,t){return e.sortNodePosition(t)}function q_(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>uu(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=uu(e,t,n);else{const s=typeof t=="function"?Jo(e,t,n.custom):t;r=Promise.all(Ey(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const H_=Md.length;function Cy(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Cy(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<H_;n++){const r=Md[n],s=e.props[r];(Si(s)||s===!1)&&(t[r]=s)}return t}const K_=[...Dd].reverse(),G_=Dd.length;function Y_(e){return t=>Promise.all(t.map(({animation:n,options:r})=>q_(e,n,r)))}function J_(e){let t=Y_(e),n=ap(),r=!0;const s=c=>(u,d)=>{var h;const f=Jo(e,d,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:x,...v}=f;u={...u,...v,...x}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=Cy(e.parent)||{},h=[],f=new Set;let p={},x=1/0;for(let k=0;k<G_;k++){const g=K_[k],m=n[g],y=u[g]!==void 0?u[g]:d[g],j=Si(y),_=g===c?m.isActive:null;_===!1&&(x=k);let b=y===d[g]&&y!==u[g]&&j;if(b&&r&&e.manuallyAnimateOnMount&&(b=!1),m.protectedKeys={...p},!m.isActive&&_===null||!y&&!m.prevProp||Go(y)||typeof y=="boolean")continue;const S=Q_(m.prevProp,y);let E=S||g===c&&m.isActive&&!b&&j||k>x&&j,T=!1;const O=Array.isArray(y)?y:[y];let H=O.reduce(s(g),{});_===!1&&(H={});const{prevResolvedValues:X={}}=m,C={...X,...H},q=B=>{E=!0,f.has(B)&&(T=!0,f.delete(B)),m.needsAnimating[B]=!0;const N=e.getValue(B);N&&(N.liveStyle=!1)};for(const B in C){const N=H[B],A=X[B];if(p.hasOwnProperty(B))continue;let D=!1;eu(N)&&eu(A)?D=!Fx(N,A):D=N!==A,D?N!=null?q(B):f.add(B):N!==void 0&&f.has(B)?q(B):m.protectedKeys[B]=!0}m.prevProp=y,m.prevResolvedValues=H,m.isActive&&(p={...p,...H}),r&&e.blockInitialAnimation&&(E=!1),E&&(!(b&&S)||T)&&h.push(...O.map(B=>({animation:B,options:{type:g}})))}if(f.size){const k={};f.forEach(g=>{const m=e.getBaseTarget(g),y=e.getValue(g);y&&(y.liveStyle=!0),k[g]=m??null}),h.push({animation:k})}let v=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(h):Promise.resolve()}function l(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),n[c].isActive=u;const h=o(c);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=ap(),r=!0}}}function Q_(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Fx(t,e):!1}function Bn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ap(){return{animate:Bn(!0),whileInView:Bn(),whileHover:Bn(),whileTap:Bn(),whileDrag:Bn(),whileFocus:Bn(),exit:Bn()}}class Vn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class X_ extends Vn{constructor(t){super(t),t.animationState||(t.animationState=J_(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Go(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Z_=0;class eS extends Vn{constructor(){super(...arguments),this.id=Z_++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const tS={animation:{Feature:X_},exit:{Feature:eS}};function Ti(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Hi(e){return{point:{x:e.pageX,y:e.pageY}}}const nS=e=>t=>Xd(t)&&e(t,Hi(t));function Zs(e,t,n,r){return Ti(e,t,nS(n),r)}const op=(e,t)=>Math.abs(e-t);function rS(e,t){const n=op(e.x,t.x),r=op(e.y,t.y);return Math.sqrt(n**2+r**2)}class Ty{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=$l(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=rS(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:x}=h,{timestamp:v}=Te;this.history.push({...x,timestamp:v});const{onStart:k,onMove:g}=this.handlers;f||(k&&k(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Ml(f,this.transformPagePoint),re.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:x,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=$l(h.type==="pointercancel"?this.lastMoveEventInfo:Ml(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,k),x&&x(h,k)},!Xd(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Hi(t),l=Ml(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Te;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,$l(l,this.history)),this.removeListeners=qi(Zs(this.contextWindow,"pointermove",this.handlePointerMove),Zs(this.contextWindow,"pointerup",this.handlePointerUp),Zs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ln(this.updatePoint)}}function Ml(e,t){return t?{point:t(e.point)}:e}function lp(e,t){return{x:e.x-t.x,y:e.y-t.y}}function $l({point:e},t){return{point:e,delta:lp(e,Py(t)),offset:lp(e,sS(t)),velocity:iS(t,.1)}}function sS(e){return e[0]}function Py(e){return e[e.length-1]}function iS(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=Py(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Qt(t)));)n--;if(!r)return{x:0,y:0};const i=Xt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const Ay=1e-4,aS=1-Ay,oS=1+Ay,Ry=.01,lS=0-Ry,cS=0+Ry;function ot(e){return e.max-e.min}function uS(e,t,n){return Math.abs(e-t)<=n}function cp(e,t,n,r=.5){e.origin=r,e.originPoint=le(t.min,t.max,e.origin),e.scale=ot(n)/ot(t),e.translate=le(n.min,n.max,e.origin)-e.originPoint,(e.scale>=aS&&e.scale<=oS||isNaN(e.scale))&&(e.scale=1),(e.translate>=lS&&e.translate<=cS||isNaN(e.translate))&&(e.translate=0)}function ei(e,t,n,r){cp(e.x,t.x,n.x,r?r.originX:void 0),cp(e.y,t.y,n.y,r?r.originY:void 0)}function up(e,t,n){e.min=n.min+t.min,e.max=e.min+ot(t)}function dS(e,t,n){up(e.x,t.x,n.x),up(e.y,t.y,n.y)}function dp(e,t,n){e.min=t.min-n.min,e.max=e.min+ot(t)}function ti(e,t,n){dp(e.x,t.x,n.x),dp(e.y,t.y,n.y)}function hS(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?le(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?le(n,e,r.max):Math.min(e,n)),e}function hp(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function fS(e,{top:t,left:n,bottom:r,right:s}){return{x:hp(e.x,n,s),y:hp(e.y,t,r)}}function fp(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function pS(e,t){return{x:fp(e.x,t.x),y:fp(e.y,t.y)}}function mS(e,t){let n=.5;const r=ot(e),s=ot(t);return s>r?n=us(t.min,t.max-r,e.min):r>s&&(n=us(e.min,e.max-s,t.min)),rn(0,1,n)}function gS(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const du=.35;function xS(e=du){return e===!1?e=0:e===!0&&(e=du),{x:pp(e,"left","right"),y:pp(e,"top","bottom")}}function pp(e,t,n){return{min:mp(e,t),max:mp(e,n)}}function mp(e,t){return typeof e=="number"?e:e[t]||0}const gp=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hr=()=>({x:gp(),y:gp()}),xp=()=>({min:0,max:0}),me=()=>({x:xp(),y:xp()});function ht(e){return[e("x"),e("y")]}function Oy({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function yS({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function vS(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ul(e){return e===void 0||e===1}function hu({scale:e,scaleX:t,scaleY:n}){return!Ul(e)||!Ul(t)||!Ul(n)}function Gn(e){return hu(e)||Iy(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Iy(e){return yp(e.x)||yp(e.y)}function yp(e){return e&&e!=="0%"}function ko(e,t,n){const r=e-n,s=t*r;return n+s}function vp(e,t,n,r,s){return s!==void 0&&(e=ko(e,s,r)),ko(e,n,r)+t}function fu(e,t=0,n=1,r,s){e.min=vp(e.min,t,n,r,s),e.max=vp(e.max,t,n,r,s)}function Ly(e,{x:t,y:n}){fu(e.x,t.translate,t.scale,t.originPoint),fu(e.y,n.translate,n.scale,n.originPoint)}const wp=.999999999999,bp=1.0000000000001;function wS(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Gr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Ly(e,o)),r&&Gn(i.latestValues)&&Gr(e,i.latestValues))}t.x<bp&&t.x>wp&&(t.x=1),t.y<bp&&t.y>wp&&(t.y=1)}function Kr(e,t){e.min=e.min+t,e.max=e.max+t}function kp(e,t,n,r,s=.5){const i=le(e.min,e.max,s);fu(e,t,n,i,r)}function Gr(e,t){kp(e.x,t.x,t.scaleX,t.scale,t.originX),kp(e.y,t.y,t.scaleY,t.scale,t.originY)}function Dy(e,t){return Oy(vS(e.getBoundingClientRect(),t))}function bS(e,t,n){const r=Dy(e,n),{scroll:s}=t;return s&&(Kr(r.x,s.offset.x),Kr(r.y,s.offset.y)),r}const My=({current:e})=>e?e.ownerDocument.defaultView:null,kS=new WeakMap;class jS{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=me(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Hi(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:x}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mj(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ht(k=>{let g=this.getAxisMotionValue(k).get()||0;if(Ut.test(g)){const{projection:m}=this.visualElement;if(m&&m.layout){const y=m.layout.layoutBox[k];y&&(g=ot(y)*(parseFloat(g)/100))}}this.originPoint[k]=g}),x&&re.postRender(()=>x(d,h)),ru(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:x,onDrag:v}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:k}=h;if(p&&this.currentDirection===null){this.currentDirection=_S(k),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,k),this.updateAxis("y",h.point,k),this.visualElement.render(),v&&v(d,h)},l=(d,h)=>this.stop(d,h),c=()=>ht(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Ty(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:My(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&re.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!pa(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=hS(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Wr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=fS(s.layoutBox,n):this.constraints=!1,this.elastic=xS(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ht(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=gS(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Wr(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=bS(r,s.root,this.visualElement.getTransformPagePoint());let o=pS(s.layout.layoutBox,i);if(n){const l=n(yS(o));this.hasMutatedConstraints=!!l,l&&(o=Oy(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ht(d=>{if(!pa(d,n,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,x={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return ru(this.visualElement,t),r.start(uh(t,r,0,n,this.visualElement,!1))}stopAnimation(){ht(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ht(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ht(n=>{const{drag:r}=this.getProps();if(!pa(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(t[n]-le(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Wr(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ht(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=mS({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ht(o=>{if(!pa(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(le(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;kS.set(this.visualElement,this);const t=this.visualElement.current,n=Zs(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Wr(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),re.read(r);const o=Ti(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ht(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=du,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function pa(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function _S(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class SS extends Vn{constructor(t){super(t),this.removeGroupControls=it,this.removeListeners=it,this.controls=new jS(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||it}unmount(){this.removeGroupControls(),this.removeListeners()}}const jp=e=>(t,n)=>{e&&re.postRender(()=>e(t,n))};class NS extends Vn{constructor(){super(...arguments),this.removePointerDownListener=it}onPointerDown(t){this.session=new Ty(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:My(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:jp(t),onStart:jp(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&re.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Zs(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const za={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _p(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const As={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(U.test(e))e=parseFloat(e);else return e;const n=_p(e,t.target.x),r=_p(e,t.target.y);return`${n}% ${r}%`}},ES={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Dn.parse(e);if(s.length>5)return r;const i=Dn.createTransformer(e),o=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=le(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class CS extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;Gk(TS),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),za.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||re.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ud.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function $y(e){const[t,n]=wx(),r=w.useContext(Ad);return a.jsx(CS,{...e,layoutGroup:r,switchLayoutGroup:w.useContext(Cx),isPresent:t,safeToRemove:n})}const TS={borderRadius:{...As,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:As,borderTopRightRadius:As,borderBottomLeftRadius:As,borderBottomRightRadius:As,boxShadow:ES};function PS(e,t,n){const r=Me(e)?e:Ei(e);return r.start(uh("",r,t,n)),r.animation}function AS(e){return e instanceof SVGElement&&e.tagName!=="svg"}const RS=(e,t)=>e.depth-t.depth;class OS{constructor(){this.children=[],this.isDirty=!1}add(t){Zd(this.children,t),this.isDirty=!0}remove(t){eh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(RS),this.isDirty=!1,this.children.forEach(t)}}function IS(e,t){const n=zt.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(Ln(r),e(i-t))};return re.read(r,!0),()=>Ln(r)}const Uy=["TopLeft","TopRight","BottomLeft","BottomRight"],LS=Uy.length,Sp=e=>typeof e=="string"?parseFloat(e):e,Np=e=>typeof e=="number"||U.test(e);function DS(e,t,n,r,s,i){s?(e.opacity=le(0,n.opacity!==void 0?n.opacity:1,MS(r)),e.opacityExit=le(t.opacity!==void 0?t.opacity:1,0,$S(r))):i&&(e.opacity=le(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<LS;o++){const l=`border${Uy[o]}Radius`;let c=Ep(t,l),u=Ep(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Np(c)===Np(u)?(e[l]=Math.max(le(Sp(c),Sp(u),r),0),(Ut.test(u)||Ut.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=le(t.rotate||0,n.rotate||0,r))}function Ep(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const MS=zy(0,.5,sy),$S=zy(.5,.95,it);function zy(e,t,n){return r=>r<e?0:r>t?1:n(us(e,t,r))}function Cp(e,t){e.min=t.min,e.max=t.max}function ut(e,t){Cp(e.x,t.x),Cp(e.y,t.y)}function Tp(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Pp(e,t,n,r,s){return e-=t,e=ko(e,1/n,r),s!==void 0&&(e=ko(e,1/s,r)),e}function US(e,t=0,n=1,r=.5,s,i=e,o=e){if(Ut.test(t)&&(t=parseFloat(t),t=le(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=le(i.min,i.max,r);e===i&&(l-=t),e.min=Pp(e.min,t,n,l,s),e.max=Pp(e.max,t,n,l,s)}function Ap(e,t,[n,r,s],i,o){US(e,t[n],t[r],t[s],t.scale,i,o)}const zS=["x","scaleX","originX"],FS=["y","scaleY","originY"];function Rp(e,t,n,r){Ap(e.x,t,zS,n?n.x:void 0,r?r.x:void 0),Ap(e.y,t,FS,n?n.y:void 0,r?r.y:void 0)}function Op(e){return e.translate===0&&e.scale===1}function Fy(e){return Op(e.x)&&Op(e.y)}function Ip(e,t){return e.min===t.min&&e.max===t.max}function VS(e,t){return Ip(e.x,t.x)&&Ip(e.y,t.y)}function Lp(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Vy(e,t){return Lp(e.x,t.x)&&Lp(e.y,t.y)}function Dp(e){return ot(e.x)/ot(e.y)}function Mp(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class BS{constructor(){this.members=[]}add(t){Zd(this.members,t),t.scheduleRender()}remove(t){if(eh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function WS(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Yn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},zs=typeof window<"u"&&window.MotionDebug!==void 0,zl=["","X","Y","Z"],qS={visibility:"hidden"},$p=1e3;let HS=0;function Fl(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function By(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Qx(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",re,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&By(r)}function Wy({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=HS++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,zs&&(Yn.totalNodes=Yn.resolvedTargetDeltas=Yn.recalculatedProjection=0),this.nodes.forEach(YS),this.nodes.forEach(e2),this.nodes.forEach(t2),this.nodes.forEach(JS),zs&&window.MotionDebug.record(Yn)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new OS)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new th),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=AS(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=IS(f,250),za.hasAnimatedSinceResize&&(za.hasAnimatedSinceResize=!1,this.nodes.forEach(zp))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||a2,{onLayoutAnimationStart:k,onLayoutAnimationComplete:g}=d.getProps(),m=!this.targetLayout||!Vy(this.targetLayout,x)||p,y=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||f&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,y);const j={...Yd(v,"layout"),onPlay:k,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else f||zp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ln(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(n2),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&By(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Up);return}this.isUpdating||this.nodes.forEach(XS),this.isUpdating=!1,this.nodes.forEach(ZS),this.nodes.forEach(KS),this.nodes.forEach(GS),this.clearAllSnapshots();const l=zt.now();Te.delta=rn(0,1e3/60,l-Te.timestamp),Te.timestamp=l,Te.isProcessing=!0,Al.update.process(Te),Al.preRender.process(Te),Al.render.process(Te),Te.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ud.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(QS),this.sharedNodes.forEach(r2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=me(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Fy(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||Gn(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),o2(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return me();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(l2))){const{scroll:d}=this.root;d&&(Kr(c.x,d.offset.x),Kr(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=me();if(ut(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&ut(c,o),Kr(c.x,h.offset.x),Kr(c.y,h.offset.y))}return c}applyTransform(o,l=!1){const c=me();ut(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Gr(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Gn(d.latestValues)&&Gr(c,d.latestValues)}return Gn(this.latestValues)&&Gr(c,this.latestValues),c}removeTransform(o){const l=me();ut(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Gn(u.latestValues))continue;hu(u.latestValues)&&u.updateSnapshot();const d=me(),h=u.measurePageBox();ut(d,h),Rp(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Gn(this.latestValues)&&Rp(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Te.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Te.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=me(),this.relativeTargetOrigin=me(),ti(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ut(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=me(),this.targetWithTransforms=me()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),dS(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ut(this.target,this.layout.layoutBox),Ly(this.target,this.targetDelta)):ut(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=me(),this.relativeTargetOrigin=me(),ti(this.relativeTargetOrigin,this.target,p.target),ut(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}zs&&Yn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hu(this.parent.latestValues)||Iy(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Te.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;ut(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;wS(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=me());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Tp(this.prevProjectionDelta.x,this.projectionDelta.x),Tp(this.prevProjectionDelta.y,this.projectionDelta.y)),ei(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!Mp(this.projectionDelta.x,this.prevProjectionDelta.x)||!Mp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),zs&&Yn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Hr(),this.projectionDelta=Hr(),this.projectionDeltaWithTransform=Hr()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Hr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=me(),p=c?c.source:void 0,x=this.layout?this.layout.source:void 0,v=p!==x,k=this.getStack(),g=!k||k.members.length<=1,m=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(i2));this.animationProgress=0;let y;this.mixTargetDelta=j=>{const _=j/1e3;Fp(h.x,o.x,_),Fp(h.y,o.y,_),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ti(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),s2(this.relativeTarget,this.relativeTargetOrigin,f,_),y&&VS(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=me()),ut(y,this.relativeTarget)),v&&(this.animationValues=d,DS(d,u,this.latestValues,_,m,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ln(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=re.update(()=>{za.hasAnimatedSinceResize=!0,this.currentAnimation=PS(0,$p,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($p),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&qy(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||me();const h=ot(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=ot(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}ut(l,c),Gr(l,d),ei(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new BS),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Fl("z",o,u,this.animationValues);for(let d=0;d<zl.length;d++)Fl(`rotate${zl[d]}`,o,u,this.animationValues),Fl(`skew${zl[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return qS;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=$a(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=$a(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Gn(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=WS(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:p,y:x}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${x.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in xo){if(f[v]===void 0)continue;const{correct:k,applyTo:g}=xo[v],m=u.transform==="none"?f[v]:k(f[v],h);if(g){const y=g.length;for(let j=0;j<y;j++)u[g[j]]=m}else u[v]=m}return this.options.layoutId&&(u.pointerEvents=h===this?$a(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Up),this.root.sharedNodes.clear()}}}function KS(e){e.updateLayout()}function GS(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?ht(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=ot(f);f.min=r[h].min,f.max=f.min+p}):qy(i,n.layoutBox,r)&&ht(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=ot(r[h]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const l=Hr();ei(l,r,n.layoutBox);const c=Hr();o?ei(c,e.applyTransform(s,!0),n.measuredBox):ei(c,r,n.layoutBox);const u=!Fy(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const x=me();ti(x,n.layoutBox,f.layoutBox);const v=me();ti(v,r,p.layoutBox),Vy(x,v)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function YS(e){zs&&Yn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function JS(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function QS(e){e.clearSnapshot()}function Up(e){e.clearMeasurements()}function XS(e){e.isLayoutDirty=!1}function ZS(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function zp(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function e2(e){e.resolveTargetDelta()}function t2(e){e.calcProjection()}function n2(e){e.resetSkewAndRotation()}function r2(e){e.removeLeadSnapshot()}function Fp(e,t,n){e.translate=le(t.translate,0,n),e.scale=le(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Vp(e,t,n,r){e.min=le(t.min,n.min,r),e.max=le(t.max,n.max,r)}function s2(e,t,n,r){Vp(e.x,t.x,n.x,r),Vp(e.y,t.y,n.y,r)}function i2(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const a2={duration:.45,ease:[.4,0,.1,1]},Bp=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Wp=Bp("applewebkit/")&&!Bp("chrome/")?Math.round:it;function qp(e){e.min=Wp(e.min),e.max=Wp(e.max)}function o2(e){qp(e.x),qp(e.y)}function qy(e,t,n){return e==="position"||e==="preserve-aspect"&&!uS(Dp(t),Dp(n),.2)}function l2(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const c2=Wy({attachResizeListener:(e,t)=>Ti(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vl={current:void 0},Hy=Wy({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Vl.current){const e=new c2({});e.mount(window),e.setOptions({layoutScroll:!0}),Vl.current=e}return Vl.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),u2={pan:{Feature:NS},drag:{Feature:SS,ProjectionNode:Hy,MeasureLayout:$y}};function Hp(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&re.postRender(()=>i(t,Hi(t)))}class d2 extends Vn{mount(){const{current:t}=this.node;t&&(this.unmount=uj(t,n=>(Hp(this.node,n,"Start"),r=>Hp(this.node,r,"End"))))}unmount(){}}class h2 extends Vn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qi(Ti(this.node.current,"focus",()=>this.onFocus()),Ti(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Kp(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&re.postRender(()=>i(t,Hi(t)))}class f2 extends Vn{mount(){const{current:t}=this.node;t&&(this.unmount=pj(t,n=>(Kp(this.node,n,"Start"),(r,{success:s})=>Kp(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const pu=new WeakMap,Bl=new WeakMap,p2=e=>{const t=pu.get(e.target);t&&t(e)},m2=e=>{e.forEach(p2)};function g2({root:e,...t}){const n=e||document;Bl.has(n)||Bl.set(n,{});const r=Bl.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(m2,{root:e,...t})),r[s]}function x2(e,t,n){const r=g2(t);return pu.set(e,n),r.observe(e),()=>{pu.delete(e),r.unobserve(e)}}const y2={some:0,all:1};class v2 extends Vn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:y2[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return x2(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(w2(t,n))&&this.startObserver()}unmount(){}}function w2({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const b2={inView:{Feature:v2},tap:{Feature:f2},focus:{Feature:h2},hover:{Feature:d2}},k2={layout:{ProjectionNode:Hy,MeasureLayout:$y}},mu={current:null},Ky={current:!1};function j2(){if(Ky.current=!0,!!Id)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>mu.current=e.matches;e.addListener(t),t()}else mu.current=!1}const _2=[...yy,Le,Dn],S2=e=>_2.find(xy(e)),Gp=new WeakMap;function N2(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Me(s))e.addValue(r,s);else if(Me(i))e.addValue(r,Ei(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Ei(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Yp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class E2{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=oh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=zt.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,re.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Yo(n),this.isVariantNode=Nx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const x=f[p];c[p]!==void 0&&Me(x)&&x.set(c[p],!1)}}mount(t){this.current=t,Gp.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Ky.current||j2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:mu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Gp.delete(this.current),this.projection&&this.projection.unmount(),Ln(this.notifyUpdate),Ln(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=mr.has(t),s=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&re.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ds){const n=ds[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):me()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Yp.length;r++){const s=Yp[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=N2(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ei(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(my(s)||ay(s))?s=parseFloat(s):!S2(s)&&Dn.test(n)&&(s=hy(t,n)),this.setBaseTarget(t,Me(s)?s.get():s)),Me(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=Fd(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[t])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Me(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new th),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Gy extends E2{constructor(){super(...arguments),this.KeyframeResolver=vy}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Me(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function C2(e){return window.getComputedStyle(e)}class T2 extends Gy{constructor(){super(...arguments),this.type="html",this.renderInstance=Lx}readValueFromInstance(t,n){if(mr.has(n)){const r=ah(n);return r&&r.default||0}else{const r=C2(t),s=(Rx(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Dy(t,n)}build(t,n,r){Wd(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Gd(t,n,r)}}class P2 extends Gy{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=me}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(mr.has(n)){const r=ah(n);return r&&r.default||0}return n=Dx.has(n)?n:$d(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Ux(t,n,r)}build(t,n,r){qd(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){Mx(t,n,r,s)}mount(t){this.isSVGTag=Kd(t.tagName),super.mount(t)}}const A2=(e,t)=>zd(e)?new P2(t):new T2(t,{allowProjection:e!==w.Fragment}),R2=rj({...tS,...b2,...u2,...k2},A2),z=yk(R2),O2={},Jp=e=>{let t;const n=new Set,r=(d,h)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const p=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(x=>x(t,p))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(O2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,c);return c},I2=e=>e?Jp(e):Jp;var Yy={exports:{}},Jy={},Qy={exports:{}},Xy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fs=w;function L2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var D2=typeof Object.is=="function"?Object.is:L2,M2=fs.useState,$2=fs.useEffect,U2=fs.useLayoutEffect,z2=fs.useDebugValue;function F2(e,t){var n=t(),r=M2({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return U2(function(){s.value=n,s.getSnapshot=t,Wl(s)&&i({inst:s})},[e,n,t]),$2(function(){return Wl(s)&&i({inst:s}),e(function(){Wl(s)&&i({inst:s})})},[e]),z2(n),n}function Wl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!D2(e,n)}catch{return!0}}function V2(e,t){return t()}var B2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?V2:F2;Xy.useSyncExternalStore=fs.useSyncExternalStore!==void 0?fs.useSyncExternalStore:B2;Qy.exports=Xy;var W2=Qy.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xo=w,q2=W2;function H2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var K2=typeof Object.is=="function"?Object.is:H2,G2=q2.useSyncExternalStore,Y2=Xo.useRef,J2=Xo.useEffect,Q2=Xo.useMemo,X2=Xo.useDebugValue;Jy.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=Y2(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Q2(function(){function c(p){if(!u){if(u=!0,d=p,p=r(p),s!==void 0&&o.hasValue){var x=o.value;if(s(x,p))return h=x}return h=p}if(x=h,K2(d,p))return x;var v=r(p);return s!==void 0&&s(x,v)?(d=p,x):(d=p,h=v)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,n,r,s]);var l=G2(e,i[0],i[1]);return J2(function(){o.hasValue=!0,o.value=l},[l]),X2(l),l};Yy.exports=Jy;var Z2=Yy.exports;const eN=$m(Z2),Zy={},{useDebugValue:tN}=kn,{useSyncExternalStoreWithSelector:nN}=eN;let Qp=!1;const rN=e=>e;function sN(e,t=rN,n){(Zy?"production":void 0)!=="production"&&n&&!Qp&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Qp=!0);const r=nN(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return tN(r),r}const Xp=e=>{(Zy?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?I2(e):e,n=(r,s)=>sN(t,r,s);return Object.assign(n,t),n},ev=e=>e?Xp(e):Xp;function Zo(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function iN(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})}const aN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class dh extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class oN extends dh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Zp extends dh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class em extends dh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var gu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(gu||(gu={}));class lN{constructor(t,{headers:n={},customFetch:r,region:s=gu.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=aN(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return iN(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=r;let f={},{region:p}=r;p||(p=this.region);const x=new URL(`${this.url}/${n}`);p&&p!=="any"&&(f["x-region"]=p,x.searchParams.set("forceFunctionRegion",p));let v;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(f["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(f["Content-Type"]="application/json",v=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?v=JSON.stringify(u):v=u;let k=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(k=o.signal,d.addEventListener("abort",()=>o.abort())):k=o.signal);const g=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:v,signal:k}).catch(_=>{throw new oN(_)}),m=g.headers.get("x-relay-error");if(m&&m==="true")throw new Zp(g);if(!g.ok)throw new em(g);let y=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),j;return y==="application/json"?j=yield g.json():y==="application/octet-stream"||y==="application/pdf"?j=yield g.blob():y==="text/event-stream"?j=g:y==="multipart/form-data"?j=yield g.formData():j=yield g.text(),{data:j,error:null,response:g}}catch(l){return{data:null,error:l,response:l instanceof em||l instanceof Zp?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var cN=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},uN=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=e.urlLengthLimit)!==null&&r!==void 0?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var h,f;if(n.method!=="HEAD"){var p;const g=await i.text();g===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((p=n.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=g:l=JSON.parse(g))}const v=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),k=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");v&&k&&k.length>1&&(c=parseInt(k[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var x;const v=await i.text();try{o=JSON.parse(v),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,d="OK")}catch{i.status===404&&v===""?(u=204,d="No Content"):o={message:v}}if(o&&n.isMaybeSingle&&(!(o==null||(x=o.details)===null||x===void 0)&&x.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&n.shouldThrowOnError)throw new cN(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let l="",c="",u="";const d=i==null?void 0:i.cause;if(d){var h,f,p,x;const g=(h=d==null?void 0:d.message)!==null&&h!==void 0?h:"",m=(f=d==null?void 0:d.code)!==null&&f!==void 0?f:"";l=`${(p=i==null?void 0:i.name)!==null&&p!==void 0?p:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(x=d==null?void 0:d.name)!==null&&x!==void 0?x:"Error"}: ${g}`,m&&(l+=` (${m})`),d!=null&&d.stack&&(l+=`
${d.stack}`)}else{var v;l=(v=i==null?void 0:i.stack)!==null&&v!==void 0?v:""}const k=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(u="",c="Request was aborted (timeout or manual cancellation)",k>this.urlLengthLimit&&(c+=`. Note: Your request URL is ${k} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((d==null?void 0:d.name)==="HeadersOverflowError"||(d==null?void 0:d.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",c="HTTP headers exceeded server limits (typically 16KB)",k>this.urlLengthLimit&&(c+=`. Your request URL is ${k} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:c,code:u},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},dN=class extends uN{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const tm=new RegExp("[,()]");var Cr=class extends dN{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&tm.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&tm.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},hN=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),r&&c.append("Prefer",`count=${r}`),new Cr({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new Cr({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),r&&c.append("Prefer",`count=${r}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);l.searchParams.set("columns",d.join(","))}}return new Cr({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Cr({method:r,url:s,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Cr({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Pi(e){"@babel/helpers - typeof";return Pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pi(e)}function fN(e,t){if(Pi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Pi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pN(e){var t=fN(e,"string");return Pi(t)=="symbol"?t:t+""}function mN(e,t,n){return(t=pN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ma(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nm(Object(n),!0).forEach(function(r){mN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var gN=class tv{constructor(t,{headers:n={},schema:r,fetch:s,timeout:i,urlLengthLimit:o=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=o;const l=s??globalThis.fetch;i!==void 0&&i>0?this.fetch=(c,u)=>{const d=new AbortController,h=setTimeout(()=>d.abort(),i),f=u==null?void 0:u.signal;if(f){if(f.aborted)return clearTimeout(h),l(c,u);const p=()=>{clearTimeout(h),d.abort()};return f.addEventListener("abort",p,{once:!0}),l(c,ma(ma({},u),{},{signal:d.signal})).finally(()=>{clearTimeout(h),f.removeEventListener("abort",p)})}return l(c,ma(ma({},u),{},{signal:d.signal})).finally(()=>clearTimeout(h))}:this.fetch=l}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new hN(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new tv(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(d)),h=r&&Object.values(n).some(d);h?(l="POST",u=n):r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([p,x])=>x!==void 0).map(([p,x])=>[p,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([p,x])=>{c.searchParams.append(p,x)})):(l="POST",u=n);const f=new Headers(this.headers);return h?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new Cr({method:l,url:c,headers:f,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class xN{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const yN="2.97.0",vN=`realtime-js/${yN}`,wN="1.0.0",nv="2.0.0",rm=nv,xu=1e4,bN=1e3,kN=100;var mn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(mn||(mn={}));var we;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(we||(we={}));var Et;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Et||(Et={}));var yu;(function(e){e.websocket="websocket"})(yu||(yu={}));var Qn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Qn||(Qn={}));class jN{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var s,i;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+h.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let x=new DataView(p),v=0;x.setUint8(v++,this.KINDS.userBroadcastPush),x.setUint8(v++,c.length),x.setUint8(v++,l.length),x.setUint8(v++,o.length),x.setUint8(v++,u.length),x.setUint8(v++,h.length),x.setUint8(v++,n),Array.from(c,g=>x.setUint8(v++,g.charCodeAt(0))),Array.from(l,g=>x.setUint8(v++,g.charCodeAt(0))),Array.from(o,g=>x.setUint8(v++,g.charCodeAt(0))),Array.from(u,g=>x.setUint8(v++,g.charCodeAt(0))),Array.from(h,g=>x.setUint8(v++,g.charCodeAt(0)));var k=new Uint8Array(p.byteLength+r.byteLength);return k.set(new Uint8Array(p),0),k.set(new Uint8Array(r),p.byteLength),k.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,o,l,c]=r;return n({join_ref:s,ref:i,topic:o,event:l,payload:c})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(t.slice(c,c+s));c=c+s;const d=r.decode(t.slice(c,c+i));c=c+i;const h=r.decode(t.slice(c,c+o));c=c+o;const f=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,x={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(x.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class rv{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Z;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Z||(Z={}));const sm=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=_N(o,e,t,s),i),{}):{}},_N=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?sv(i,o):vu(o)},sv=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return CN(t,n)}switch(e){case Z.bool:return SN(t);case Z.float4:case Z.float8:case Z.int2:case Z.int4:case Z.int8:case Z.numeric:case Z.oid:return NN(t);case Z.json:case Z.jsonb:return EN(t);case Z.timestamp:return TN(t);case Z.abstime:case Z.date:case Z.daterange:case Z.int4range:case Z.int8range:case Z.money:case Z.reltime:case Z.text:case Z.time:case Z.timestamptz:case Z.timetz:case Z.tsrange:case Z.tstzrange:return vu(t);default:return vu(t)}},vu=e=>e,SN=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},NN=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},EN=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},CN=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>sv(t,l))}return e},TN=e=>typeof e=="string"?e.replace(" ","T"):e,iv=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ql{constructor(t,n,r={},s=xu){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var im;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(im||(im={}));class ni{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ni.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=ni.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ni.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(k=>k.presence_ref),p=h.map(k=>k.presence_ref),x=d.filter(k=>p.indexOf(k.presence_ref)<0),v=h.filter(k=>f.indexOf(k.presence_ref)<0);x.length>0&&(l[u]=x),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);t[l].unshift(...f)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var am;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(am||(am={}));var ri;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ri||(ri={}));var Wt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Wt||(Wt={}));class Yr{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=we.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ql(this,Et.join,this.params,this.timeout),this.rejoinTimer=new rv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=we.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=we.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Et.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new ni(this),this.broadcastEndpointURL=iv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==we.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[ri.PRESENCE]&&this.bindings[ri.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Wt.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Wt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(Wt.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,k=(x=v==null?void 0:v.length)!==null&&x!==void 0?x:0,g=[];for(let m=0;m<k;m++){const y=v[m],{filter:{event:j,schema:_,table:b,filter:S}}=y,E=p&&p[m];if(E&&E.event===j&&Yr.isFilterValueEqual(E.schema,_)&&Yr.isFilterValueEqual(E.table,b)&&Yr.isFilterValueEqual(E.filter,S))g.push(Object.assign(Object.assign({},y),{id:E.id}));else{this.unsubscribe(),this.state=we.errored,t==null||t(Wt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Wt.SUBSCRIBED);return}}).receive("error",p=>{this.state=we.errored,t==null||t(Wt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Wt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===we.joined&&t===ri.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=we.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Et.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new ql(this,Et.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=we.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ql(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>kN){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Et;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var x,v,k;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((k=(v=p.filter)===null||v===void 0?void 0:v.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var x,v,k,g,m,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const j=p.id,_=(x=p.filter)===null||x===void 0?void 0:x.event;return j&&((v=n.ids)===null||v===void 0?void 0:v.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const j=(m=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return j==="*"||j===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:v,table:k,commit_timestamp:g,type:m,errors:y}=x;f=Object.assign(Object.assign({},{schema:v,table:k,commit_timestamp:g,eventType:m,new:{},old:{},errors:y}),this._getPayloadRecords(x))}p.callback(f,r)})}_isClosed(){return this.state===we.closed}_isJoined(){return this.state===we.joined}_isJoining(){return this.state===we.joining}_isLeaving(){return this.state===we.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Yr.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Et.close,{},t)}_onError(t){this._on(Et.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=we.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=sm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=sm(t.columns,t.old_record)),n}}const Hl=()=>{},ga={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},PN=[1e3,2e3,5e3,1e4],AN=1e4,RN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ON{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=xu,this.transport=null,this.heartbeatIntervalMs=ga.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hl,this.ref=0,this.reconnectTimer=null,this.vsn=rm,this.logger=Hl,this.conn=null,this.sendBuffer=[],this.serializer=new jN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${yu.websocket}`,this.httpEndpoint=iv(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=xN.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case mn.connecting:return Qn.Connecting;case mn.open:return Qn.Open;case mn.closing:return Qn.Closing;default:return Qn.Closed}}isConnected(){return this.connectionState()===Qn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Yr(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(bN,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ga.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===mn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===mn.open||this.conn.readyState===mn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Et.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([RN],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:vN};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Et.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new rv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ga.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,l,c,u,d,h,f,p;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:xu,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:ga.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Hl,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:rm,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:x=>PN[x-1]||AN,this.vsn){case wN:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(x,v)=>v(JSON.stringify(x)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(x,v)=>v(JSON.parse(x));break;case nv:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Ai=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function IN(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function LN(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function DN(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:o}){const l=IN(e.baseUrl,r,s),c=await LN(e.auth),u=await t(l,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){const p=h?f:void 0,x=p==null?void 0:p.error;throw new Ai((x==null?void 0:x.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:p})}return{status:u.status,headers:u.headers,data:f}}}}function xa(e){return e.join("")}var MN=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:xa(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xa(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xa(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xa(e.namespace)}`}),!0}catch(t){if(t instanceof Ai&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Ai&&n.status===409)return;throw n}}};function vr(e){return e.join("")}var $N=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vr(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vr(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vr(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vr(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vr(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vr(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Ai&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Ai&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},UN=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=DN({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new MN(this.client,t),this.tableOps=new $N(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},el=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function tl(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var ya=class extends el{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},av=class extends el{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const zN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),FN=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},wu=e=>{if(Array.isArray(e))return e.map(n=>wu(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=wu(r)}),t},VN=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Ri(e){"@babel/helpers - typeof";return Ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ri(e)}function BN(e,t){if(Ri(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ri(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WN(e){var t=BN(e,"string");return Ri(t)=="symbol"?t:t+""}function qN(e,t,n){return(t=WN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function om(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?om(Object(n),!0).forEach(function(r){qN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):om(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const lm=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},HN=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new ya(lm(o),i,l,r))}).catch(()=>{if(r==="vectors"){const o=i+"";t(new ya(s.statusText||`HTTP ${i} error`,i,o,r))}else{const o=i+"";t(new ya(s.statusText||`HTTP ${i} error`,i,o,r))}});else{const o=i+"";t(new ya(s.statusText||`HTTP ${i} error`,i,o,r))}}else t(new av(lm(e),e,r))},KN=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!r?M(M({},s),n):(FN(r)?(s.headers=M({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),M(M({},s),n))};async function Rs(e,t,n,r,s,i,o){return new Promise((l,c)=>{e(n,KN(t,r,s,i)).then(u=>{if(!u.ok)throw u;if(r!=null&&r.noResolveJson)return u;if(o==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>HN(u,c,r,o))})}function ov(e="storage"){return{get:async(t,n,r,s)=>Rs(t,"GET",n,r,s,void 0,e),post:async(t,n,r,s,i)=>Rs(t,"POST",n,s,i,r,e),put:async(t,n,r,s,i)=>Rs(t,"PUT",n,s,i,r,e),head:async(t,n,r,s)=>Rs(t,"HEAD",n,M(M({},r),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,n,r,s,i)=>Rs(t,"DELETE",n,s,i,r,e)}}const GN=ov("storage"),{get:Oi,post:St,put:bu,head:YN,remove:hh}=GN,nt=ov("vectors");var bs=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=zN(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=M(M({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(tl(n))return{data:null,error:n};throw n}}},JN=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(tl(t))return{data:null,error:t};throw t}}};let lv;lv=Symbol.toStringTag;var QN=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[lv]="BlobDownloadBuilder",this.promise=null}asStream(){return new JN(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(tl(t))return{data:null,error:t};throw t}}};const XN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var ZN=class extends bs{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var s=this;return s.handleOperation(async()=>{let i;const o=M(M({},cm),r);let l=M(M({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(l=M(M({},l),r.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),h=await(e=="PUT"?bu:St)(s.fetch,`${s.url}/object/${d}`,i,M({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:h.Id,fullPath:h.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),s.handleOperation(async()=>{let c;const u=M({upsert:cm.upsert},r),d=M(M({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await bu(s.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const s=M({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await St(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(n.url+i.url),l=o.searchParams.get("token");if(!l)throw new el("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await St(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await St(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(e),i=await St(r.fetch,`${r.url}/object/sign/${s}`,M({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const s=await St(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(o=>M(M({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${i}`):null}))})}download(e,t,n){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=s?`?${s}`:"",o=this._getFinalPath(e),l=()=>Oi(this.fetch,`${this.url}/${r}/${o}${i}`,{headers:this.headers,noResolveJson:!0},n);return new QN(l,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>wu(await Oi(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await YN(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(tl(r)&&r instanceof av){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&r.push(o);let l=r.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await hh(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const s=M(M(M({},XN),t),{},{prefix:e||""});return await St(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=M({},e);return await St(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const e5="2.97.0",Ki={"X-Client-Info":`storage-js/${e5}`};var t5=class extends bs{constructor(e,t={},n,r){const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),o=M(M({},Ki),t);super(i,o,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await Oi(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Oi(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await St(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await bu(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await St(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await hh(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},n5=class extends bs{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=M(M({},Ki),t);super(r,s,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await St(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await Oi(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await hh(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!VN(e))throw new el("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new UN({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}},r5=class extends bs{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=M(M({},Ki),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await nt.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await nt.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await nt.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await nt.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},s5=class extends bs{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=M(M({},Ki),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await nt.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await nt.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await nt.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await nt.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await nt.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},i5=class extends bs{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=M(M({},Ki),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await nt.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await nt.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await nt.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await nt.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},a5=class extends i5{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new o5(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},o5=class extends r5{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,M(M({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,M(M({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new l5(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},l5=class extends s5{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,M(M({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,M(M({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,M(M({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,M(M({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,M(M({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},c5=class extends t5{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new ZN(this.url,this.headers,e,this.fetch)}get vectors(){return new a5(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new n5(this.url+"/iceberg",this.headers,this.fetch)}};const cv="2.97.0",Tr=30*1e3,ku=3,Kl=ku*Tr,u5="http://localhost:9999",d5="supabase.auth.token",h5={"X-Client-Info":`gotrue-js/${cv}`},ju="X-Supabase-Api-Version",uv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},f5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,p5=10*60*1e3;class Ii extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function L(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class m5 extends Ii{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function g5(e){return L(e)&&e.name==="AuthApiError"}class Xn extends Ii{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ln extends Ii{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class et extends ln{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Gl(e){return L(e)&&e.name==="AuthSessionMissingError"}class wr extends ln{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class va extends ln{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class wa extends ln{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function x5(e){return L(e)&&e.name==="AuthImplicitGrantRedirectError"}class um extends ln{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class y5 extends ln{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class _u extends ln{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Yl(e){return L(e)&&e.name==="AuthRetryableFetchError"}class dm extends ln{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Su extends ln{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const jo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),hm=` 	
\r=`.split(""),v5=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<hm.length;t+=1)e[hm[t].charCodeAt(0)]=-2;for(let t=0;t<jo.length;t+=1)e[jo[t].charCodeAt(0)]=t;return e})();function fm(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(jo[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(jo[r]),t.queuedBits-=6}}function dv(e,t,n){const r=v5[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function pm(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{k5(o,r,n)};for(let o=0;o<e.length;o+=1)dv(e.charCodeAt(o),s,i);return t.join("")}function w5(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function b5(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}w5(r,t)}}function k5(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ns(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)dv(e.charCodeAt(s),n,r);return new Uint8Array(t)}function j5(e){const t=[];return b5(e,n=>t.push(n)),new Uint8Array(t)}function rr(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>fm(s,n,r)),fm(null,n,r),t.join("")}function _5(e){return Math.round(Date.now()/1e3)+e}function S5(){return Symbol("auth-callback")}const Ee=()=>typeof window<"u"&&typeof document<"u",Wn={tested:!1,writable:!1},hv=()=>{if(!Ee())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wn.tested)return Wn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Wn.tested=!0,Wn.writable=!0}catch{Wn.tested=!0,Wn.writable=!1}return Wn.writable};function N5(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const fv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),E5=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Pr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},qn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ne=async(e,t)=>{await e.removeItem(t)};class nl{constructor(){this.promise=new nl.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}nl.promiseConstructor=Promise;function ba(e){const t=e.split(".");if(t.length!==3)throw new Su("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!f5.test(t[r]))throw new Su("JWT not in base64url format");return{header:JSON.parse(pm(t[0])),payload:JSON.parse(pm(t[1])),signature:ns(t[2]),raw:{header:t[0],payload:t[1]}}}async function C5(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function T5(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function P5(e){return("0"+e.toString(16)).substr(-2)}function A5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,P5).join("")}async function R5(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function O5(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await R5(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function br(e,t,n=!1){const r=A5();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Pr(e,`${t}-code-verifier`,s);const i=await O5(r);return[i,r===i?"plain":"s256"]}const I5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function L5(e){const t=e.headers.get(ju);if(!t||!t.match(I5))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function D5(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function M5(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const $5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function kr(e){if(!$5.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Jl(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function U5(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function mm(e){return JSON.parse(JSON.stringify(e))}const Jn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),z5=[502,503,504];async function gm(e){var t;if(!E5(e))throw new _u(Jn(e),0);if(z5.includes(e.status))throw new _u(Jn(e),e.status);let n;try{n=await e.json()}catch(i){throw new Xn(Jn(i),i)}let r;const s=L5(e);if(s&&s.getTime()>=uv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new dm(Jn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new et}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new dm(Jn(n),e.status,n.weak_password.reasons);throw new m5(Jn(n),e.status||500,r)}const F5=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function $(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[ju]||(i[ju]=uv["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await V5(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function V5(e,t,n,r,s,i){const o=F5(t,r,s,i);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new _u(Jn(c),0)}if(l.ok||await gm(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await gm(c)}}function kt(e){var t;let n=null;q5(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=_5(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function xm(e){const t=kt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function yn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function B5(e){return{data:e,error:null}}function W5(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=Zo(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function ym(e){return e}function q5(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ql=["global","local","others"];class H5{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=fv(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Ql[0]){if(Ql.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ql.join(", ")}`);try{return await $(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await $(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:yn})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Zo(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await $(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:W5,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(L(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await $(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:yn})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await $(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ym});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(x.split(";")[1].split("=")[1]);u[`${k}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(L(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){kr(t);try{return await $(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:yn})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){kr(t);try{return await $(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:yn})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){kr(t);try{return await $(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:yn})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){kr(t.userId);try{const{data:n,error:r}=await $(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _deleteFactor(t){kr(t.userId),kr(t.id);try{return{data:await $(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await $(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ym});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(x.split(";")[1].split("=")[1]);u[`${k}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(L(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await $(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await $(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await $(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await $(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await $(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}}function vm(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const jr={debug:!!(globalThis&&hv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class wm extends pv{}async function K5(e,t,n){jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;t>0&&setTimeout(()=>{r.abort(),jr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new wm(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(jr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}catch(s){throw(s==null?void 0:s.name)==="AbortError"?new wm(`Acquiring an exclusive Navigator LockManager lock "${e}" timed out waiting ${t}ms`):s}}function G5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function mv(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Y5(e){return parseInt(e,16)}function J5(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function Q5(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=mv(e.address),x=d?`${d}://${r}`:r,v=e.statement?`${e.statement}
`:"",k=`${x} wants you to sign in with your Ethereum account:
${p}

${v}`;let g=`URI: ${h}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),c&&(g+=`
Request ID: ${c}`),u){let m=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);m+=`
- ${y}`}g+=m}return`${k}
${g}`}class ye extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class _o extends ye{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function X5({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ye({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ye({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ye({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ye({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ye({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ye({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new ye({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ye({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(gv(o)){if(i.rp.id!==o)return new ye({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ye({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ye({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ye({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ye({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Z5({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ye({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ye({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(gv(r)){if(n.rpId!==r)return new ye({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ye({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ye({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ye({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class eE{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const tE=new eE;function nE(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Zo(e,["challenge","user","excludeCredentials"]),i=ns(t).buffer,o=Object.assign(Object.assign({},n),{id:ns(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:ns(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function rE(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Zo(e,["challenge","allowCredentials"]),s=ns(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:ns(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function sE(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:rr(new Uint8Array(e.response.attestationObject)),clientDataJSON:rr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function iE(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:rr(new Uint8Array(s.authenticatorData)),clientDataJSON:rr(new Uint8Array(s.clientDataJSON)),signature:rr(new Uint8Array(s.signature)),userHandle:s.userHandle?rr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function gv(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function bm(){var e,t;return!!(Ee()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function aE(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _o("Browser returned unexpected credential type",t)}:{data:null,error:new _o("Empty credential response",t)}}catch(t){return{data:null,error:X5({error:t,options:e})}}}async function oE(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _o("Browser returned unexpected credential type",t)}:{data:null,error:new _o("Empty credential response",t)}}catch(t){return{data:null,error:Z5({error:t,options:e})}}}const lE={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},cE={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function So(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(t(o)){const l=r[i];t(l)?r[i]=So(l,o):r[i]=So(o)}else r[i]=o}return r}function uE(e,t){return So(lE,e,t||{})}function dE(e,t){return So(cE,e,t||{})}class hE{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){var o;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:c};const u=s??tE.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const h=r;if(h)d.name=`${d.id}:${h}`;else{const p=(await this.client.getUser()).data.user,x=((o=p==null?void 0:p.user_metadata)===null||o===void 0?void 0:o.name)||(p==null?void 0:p.email)||(p==null?void 0:p.id)||"User";d.name=`${d.id}:${x}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=uE(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:f}=await aE({publicKey:d,signal:u});return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{const d=dE(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:f}=await oE(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(l){return L(l)?{data:null,error:l}:{data:null,error:new Xn("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Ii("rpId is required for WebAuthn authentication")};try{if(!bm())return{data:null,error:new Xn("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(o){return L(o)?{data:null,error:o}:{data:null,error:new Xn("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Ii("rpId is required for WebAuthn registration")};try{if(!bm())return{data:null,error:new Xn("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return L(o)?{data:null,error:o}:{data:null,error:new Xn("Unexpected error in register",o)}}}}G5();const fE={url:u5,storageKey:d5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:h5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function km(e,t,n){return await n()}const _r={};class Li{get jwks(){var t,n;return(n=(t=_r[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){_r[this.storageKey]=Object.assign(Object.assign({},_r[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=_r[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){_r[this.storageKey]=Object.assign(Object.assign({},_r[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},fE),t);if(this.storageKey=i.storageKey,this.instanceID=(n=Li.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Li.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ee()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new H5({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=fv(i.fetch),this.lock=i.lock||km,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Ee()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=K5:this.lock=km,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new hE(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:hv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=vm(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=vm(this.memoryStorage)),Ee()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}i.skipAutoInitialize||this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${cv}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Ee()&&(n=N5(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Ee()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),x5(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return L(n)?this._returnResult({error:n}):this._returnResult({error:new Xn("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:kt}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(L(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await br(this.storage,this.storageKey)),i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:x},xform:kt})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:kt})}else throw new va("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await Ne(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await Ne(this.storage,`${this.storageKey}-code-verifier`),L(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:xm})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:xm})}else throw new va("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new wr;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(L(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,l,c,u,d,h,f;let p,x;if("message"in t)p=t.message,x=t.signature;else{const{chain:v,wallet:k,statement:g,options:m}=t;let y;if(Ee())if(typeof k=="object")y=k;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")y=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=k}const j=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href),_=await y.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=mv(_[0]);let S=(r=m==null?void 0:m.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!S){const T=await y.request({method:"eth_chainId"});S=Y5(T)}const E={domain:j.host,address:b,statement:g,uri:j.href,version:"1",chainId:S,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=Q5(E),x=await y.request({method:"personal_sign",params:[J5(p),b]})}try{const{data:v,error:k}=await $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:x},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:kt});if(k)throw k;if(!v||!v.session||!v.user){const g=new wr;return this._returnResult({data:{user:null,session:null},error:g})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:k})}catch(v){if(L(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var n,r,s,i,o,l,c,u,d,h,f,p;let x,v;if("message"in t)x=t.message,v=t.signature;else{const{chain:k,wallet:g,statement:m,options:y}=t;let j;if(Ee())if(typeof g=="object")j=g;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))j=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=g}const _=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in j&&j.signIn){const b=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),m?{statement:m}:null));let S;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")S=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)S=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)x=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),v=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=y==null?void 0:y.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const b=await j.signMessage(new TextEncoder().encode(x),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=b}}try{const{data:k,error:g}=await $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:rr(v)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:kt});if(g)throw g;if(!k||!k.session||!k.user){const m=new wr;return this._returnResult({data:{user:null,session:null},error:m})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:g})}catch(k){if(L(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(t){const n=await qn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new y5;const{data:i,error:o}=await $(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:kt});if(await Ne(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new wr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await Ne(this.storage,`${this.storageKey}-code-verifier`),L(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,l=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:kt}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new wr;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(L(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await br(this.storage,this.storageKey));const{error:h}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new va("You must provide either an email or phone number.")}catch(l){if(await Ne(this.storage,`${this.storageKey}-code-verifier`),L(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await $(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:kt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(L(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await br(this.storage,this.storageKey));const u=await $(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:B5});return!((i=u.data)===null||i===void 0)&&i.url&&Ee()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Ne(this.storage,`${this.storageKey}-code-verifier`),L(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new et;const{error:s}=await $(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(L(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await $(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:l}=await $(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new va("You must provide either an email or phone number and a type")}catch(n){if(L(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await qn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Kl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await qn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Jl()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=U5(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:yn}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new et}:await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:yn})})}catch(n){if(L(n))return Gl(n)&&(await this._removeSession(),await Ne(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new et;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await br(this.storage,this.storageKey));const{data:u,error:d}=await $(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:yn});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await Ne(this.storage,`${this.storageKey}-code-verifier`),L(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new et;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=ba(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(L(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new et;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(L(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Ee())throw new wa("No browser detected.");if(t.error||t.error_description||t.error_code)throw new wa(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new um("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wa("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new um("No code detected.");const{data:m,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new wa("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const p=f-d;p*1e3<=Tr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const x=f-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,d);const{data:v,error:k}=await this._getUser(i);if(k)throw k;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(r){if(L(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await qn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i&&!Gl(i))return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(g5(l)&&(l.status===404||l.status===401||l.status===403)||Gl(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Ne(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=S5(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await br(this.storage,this.storageKey,!0));try{return await $(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await Ne(this.storage,`${this.storageKey}-code-verifier`),L(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await $(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ee()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(L(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,h=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:kt}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new wr}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(s){if(await Ne(this.storage,`${this.storageKey}-code-verifier`),L(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await $(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await T5(async s=>(s>0&&await C5(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await $(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:kt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Yl(i)&&Date.now()+o-r<Tr})}catch(r){if(this._debug(n,"error",r),L(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Ee()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await qn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await qn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Pr(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Jl()}else if(s&&!s.user&&!s.user){const o=await qn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Ne(this.storage,this.storageKey+"-user"),await Pr(this.storage,this.storageKey,s)):s.user=Jl()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Kl;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Kl}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Yl(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new et;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new nl;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new et;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),L(i)){const o={data:null,error:i};return Yl(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ne(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Pr(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=mm(s);await Pr(this.storage,this.storageKey,i)}else{const s=mm(n);await Pr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ne(this.storage,this.storageKey),await Ne(this.storage,this.storageKey+"-code-verifier"),await Ne(this.storage,this.storageKey+"-user"),this.userStorage&&await Ne(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ee()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Tr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Tr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Tr}ms, refresh threshold is ${ku} ticks`),s<=ku&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof pv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ee()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await br(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await $(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await $(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?sE(t.webauthn.credential_response):iE(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await $(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await $(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:nE(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:rE(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,s,i;if(t)try{const{payload:p}=ba(t);let x=null;p.aal&&(x=p.aal);let v=x;const{data:{user:k},error:g}=await this.getUser(t);if(g)return this._returnResult({data:null,error:g});((r=(n=k==null?void 0:k.factors)===null||n===void 0?void 0:n.filter(j=>j.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(v="aal2");const y=p.amr||[];return{data:{currentLevel:x,nextLevel:v,currentAuthenticationMethods:y},error:null}}catch(p){if(L(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=ba(o.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((i=(s=o.user.factors)===null||s===void 0?void 0:s.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const f=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await $(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new et})})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new et});const o=await $(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Ee()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new et});const o=await $(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Ee()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await $(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new et})})}catch(t){if(L(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await $(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new et})})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+p5>s)return r;const{data:i,error:o}=await $(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:x}=await this.getSession();if(x||!p.session)return this._returnResult({data:null,error:x});r=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=ba(r);n!=null&&n.allowExpired||D5(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const d=M5(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,j5(`${l}.${c}`)))throw new Su("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}}Li.nextInstanceID={};const pE=Li,mE="2.97.0";let Fs="";typeof Deno<"u"?Fs="deno":typeof document<"u"?Fs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fs="react-native":Fs="node";const gE={"X-Client-Info":`supabase-js-${Fs}/${mE}`},xE={headers:gE},yE={schema:"public"},vE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wE={};function Di(e){"@babel/helpers - typeof";return Di=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Di(e)}function bE(e,t){if(Di(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Di(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kE(e){var t=bE(e,"string");return Di(t)=="symbol"?t:t+""}function jE(e,t,n){return(t=kE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jm(Object(n),!0).forEach(function(r){jE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const _E=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),SE=()=>Headers,NE=(e,t,n)=>{const r=_E(n),s=SE();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,he(he({},o),{},{headers:u}))}};function EE(e){return e.endsWith("/")?e:e+"/"}function CE(e,t){var n,r;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:he(he({},c),s),auth:he(he({},u),i),realtime:he(he({},d),o),storage:{},global:he(he(he({},h),l),{},{headers:he(he({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function TE(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(EE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var PE=class extends pE{constructor(e){super(e)}},AE=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=TE(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:yE,realtime:wE,auth:he(he({},vE),{},{storageKey:o}),global:xE},c=CE(n??{},l);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=NE(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(he({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new gN(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch,timeout:c.db.timeout,urlLengthLimit:c.db.urlLengthLimit}),this.storage=new c5(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new lN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new PE({url:this.authUrl.href,headers:he(he({},f),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new ON(this.realtimeUrl.href,he(he({},e),{},{params:he(he({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const RE=(e,t,n)=>new AE(e,t,n);function OE(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}OE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const IE="https://gsfftgzbmxqyhkpxwrrs.supabase.co",LE="sb_publishable_B3s-0QUAUWAIaJqWsPhmAQ_QeVX1jAl",V=RE(IE,LE),wt=ev((e,t)=>({cartItems:[],isOpen:!1,appliedCoupon:null,discount:0,openCart:()=>e({isOpen:!0}),closeCart:()=>e({isOpen:!1}),loadFromDb:async n=>{if(!n)return;const{data:r,error:s}=await V.from("cart_items").select("*").eq("user_id",n);if(s){console.error("Cart load error:",s);return}if(r&&r.length>0){const i=r.map(o=>({id:o.product_id,name:o.name,price:o.price,image:o.image,category:o.category,size:o.size,quantity:o.quantity,cartItemId:o.cart_item_id}));e({cartItems:i})}},_upsertItem:async(n,r)=>{n&&await V.from("cart_items").upsert({user_id:n,product_id:String(r.id),name:r.name,price:r.price,image:r.image||null,category:r.category||null,size:r.size,quantity:r.quantity,cart_item_id:r.cartItemId},{onConflict:"user_id,cart_item_id"})},_deleteItem:async(n,r)=>{n&&await V.from("cart_items").delete().eq("user_id",n).eq("cart_item_id",r)},clearFromDb:async n=>{n&&await V.from("cart_items").delete().eq("user_id",n)},addItem:(n,r)=>e(s=>{const i=n.size||"M",o=`${n.id}-${i}`,l=s.cartItems.find(d=>d.cartItemId===o);let c;l?c=s.cartItems.map(d=>d.cartItemId===o?{...d,quantity:d.quantity+(n.quantity||1)}:d):c=[...s.cartItems,{...n,size:i,cartItemId:o,quantity:n.quantity||1}];const u=c.find(d=>d.cartItemId===o);return t()._upsertItem(r,u),{cartItems:c,isOpen:!0}}),removeItem:(n,r)=>e(s=>(t()._deleteItem(r,n),{cartItems:s.cartItems.filter(i=>i.cartItemId!==n)})),updateQuantity:(n,r,s)=>e(i=>{const o=i.cartItems.map(c=>c.cartItemId===n?{...c,quantity:Math.max(1,r)}:c),l=o.find(c=>c.cartItemId===n);return t()._upsertItem(s,l),{cartItems:o}}),clearCart:()=>e({cartItems:[],appliedCoupon:null,discount:0}),applyCoupon:(n,r)=>e({appliedCoupon:n,discount:r}),removeCoupon:()=>e({appliedCoupon:null,discount:0})})),Ve=ev(e=>({user:null,isAdmin:!1,loading:!0,setUser:t=>e({user:t,loading:!1}),initialize:async()=>{const{data:{session:t}}=await V.auth.getSession(),n=(t==null?void 0:t.user)??null;if(e({user:n,loading:!1}),n){const{data:s}=await V.from("profiles").select("is_admin").eq("id",n.id).single();e({isAdmin:!!(s!=null&&s.is_admin)})}const{data:{subscription:r}}=V.auth.onAuthStateChange(async(s,i)=>{const o=(i==null?void 0:i.user)??null;if(e({user:o,isAdmin:!1}),o){await wt.getState().loadFromDb(o.id);const{data:l}=await V.from("profiles").select("is_admin").eq("id",o.id).single();e({isAdmin:!!(l!=null&&l.is_admin)})}else wt.getState().clearCart()});return()=>r.unsubscribe()},signOut:async()=>{try{await V.auth.signOut()}catch(t){console.error("Signout failed:",t)}finally{e({user:null,isAdmin:!1})}}})),No="/assets/logo-BwLpzzWy.jpeg";function DE(){const[e,t]=w.useState(!1),[n,r]=w.useState(!1),{cartItems:s,openCart:i}=wt(),{user:o,isAdmin:l,signOut:c}=Ve(),u=Ft(),d=Fn(),h=s.reduce((x,v)=>x+v.quantity,0);w.useEffect(()=>{const x=()=>t(window.scrollY>50);return window.addEventListener("scroll",x),()=>window.removeEventListener("scroll",x)},[]);const f=async()=>{try{await c()}catch(x){console.error("Sign out error:",x)}finally{r(!1),u("/")}},p=[{to:"/",label:"HOME",activeColor:"text-pink-500"},{to:"/shop",label:"SHOP",activeColor:"text-cyan-400"},{to:"/customize",label:"CUSTOMIZE",activeColor:"text-pink-500"}];return a.jsxs("nav",{className:`fixed top-0 w-full z-[60] transition-all duration-500 ${e?"bg-black/80 backdrop-blur-xl py-4 border-b border-white/5":"bg-transparent py-4"}`,children:[a.jsxs("div",{className:"max-w-[1400px] mx-auto px-6 md:px-12 flex justify-between md:grid md:grid-cols-3 items-center text-white",children:[a.jsx("div",{className:"flex justify-start",children:a.jsx(Q,{to:"/",className:"group flex items-center",children:a.jsx("img",{src:No,alt:"Vybe Threads",className:"h-10 md:h-14 w-auto object-contain mix-blend-screen"})})}),a.jsx("div",{className:"hidden md:flex justify-center space-x-10 text-[13px] uppercase tracking-widest font-sans font-semibold",children:p.map(x=>a.jsx(Q,{to:x.to,className:`transition-colors ${d.pathname===x.to?x.activeColor:`hover:${x.activeColor}`}`,children:x.label},x.to))}),a.jsxs("div",{className:"flex justify-end items-center gap-3",children:[a.jsxs("button",{onClick:i,className:"p-3 bg-white/5 hover:bg-white/10 border border-white/10 transition-all group relative",children:[a.jsx(on,{size:20,strokeWidth:1.5,className:"group-hover:text-pink-500 transition-all"}),h>0&&a.jsx("div",{className:"absolute -top-1 -right-1 bg-pink-500 text-white text-[8px] w-4 h-4 flex items-center justify-center font-bold",children:h})]}),o&&l&&a.jsxs(Q,{to:"/admin",className:"hidden md:flex items-center gap-1.5 px-3 py-2 text-[11px] font-semibold uppercase tracking-widest font-sans text-purple-400 hover:text-white border border-purple-500/30 hover:border-purple-400 transition-all rounded",children:[a.jsx(Ed,{size:14})," Admin"]}),o?a.jsxs("button",{onClick:f,className:"hidden md:flex items-center gap-1.5 px-3 py-2 text-[11px] font-semibold uppercase tracking-widest font-sans text-gray-300 hover:text-pink-500 border border-white/10 hover:border-pink-500/40 transition-all rounded",children:[a.jsx(px,{size:14})," Logout"]}):a.jsxs(Q,{to:"/auth",className:"hidden md:flex items-center gap-1.5 px-3 py-2 text-[11px] font-semibold uppercase tracking-widest font-sans text-cyan-400 hover:text-white border border-cyan-500/30 hover:border-cyan-400 transition-all rounded",children:[a.jsx(ek,{size:14})," Login"]}),a.jsx("button",{className:"md:hidden text-white",onClick:()=>r(!0),children:a.jsx(tk,{size:24})})]})]}),a.jsx(je,{children:n&&a.jsxs(z.div,{initial:{opacity:0,x:"100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"100%"},className:"fixed inset-0 bg-black z-[100] flex flex-col p-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-20",children:[a.jsx("img",{src:No,alt:"Vybe Threads",className:"h-10 w-auto object-contain mix-blend-screen"}),a.jsx("button",{className:"text-pink-500",onClick:()=>r(!1),children:a.jsx(Rt,{size:32})})]}),a.jsxs("div",{className:"flex flex-col space-y-10 text-xl md:text-2xl tracking-[0.2em] uppercase font-sans font-semibold items-center justify-center mt-10",children:[a.jsx(Q,{to:"/",onClick:()=>r(!1),className:"hover:text-pink-500 transition-colors",children:"HOME"}),a.jsx(Q,{to:"/shop",onClick:()=>r(!1),className:"hover:text-cyan-400 transition-colors",children:"SHOP"}),a.jsx(Q,{to:"/customize",onClick:()=>r(!1),className:"hover:text-pink-500 transition-colors",children:"CUSTOMIZE"}),o&&l&&a.jsx(Q,{to:"/admin",onClick:()=>r(!1),className:"text-purple-400 hover:text-white transition-colors",children:"ADMIN"}),o?a.jsx("button",{onClick:f,className:"text-gray-300 hover:text-pink-500 transition-colors text-base font-semibold",children:"LOGOUT"}):a.jsx(Q,{to:"/auth",onClick:()=>r(!1),className:"text-cyan-400 hover:text-white transition-colors",children:"LOGIN"})]})]})})]})}function ME(){return a.jsxs("footer",{className:"bg-cyber-dark border-t border-white/5 text-white pt-16 pb-8 px-6 md:px-12 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-cyber-purple/5 rounded-full blur-[120px] -z-10"}),a.jsxs("div",{className:"max-w-[1400px] mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-16 mb-12",children:[a.jsxs("div",{className:"space-y-8",children:[a.jsx("div",{className:"flex items-center gap-3",children:a.jsx("img",{src:No,alt:"Vybe Threads",className:"h-10 w-auto object-contain mix-blend-screen"})}),a.jsx("p",{className:"text-gray-300 text-[15px] leading-relaxed max-w-xs font-sans",children:"Pioneering the future of unisex street fashion. Premium fabrics, modern aesthetics. Wear your future."}),a.jsxs("div",{className:"flex space-x-6 text-gray-300",children:[a.jsx(hx,{size:22,className:"hover:text-cyber-pink cursor-pointer transition-colors"}),a.jsx(yx,{size:22,className:"hover:text-cyber-cyan cursor-pointer transition-colors"}),a.jsx(J1,{size:22,className:"hover:text-cyber-purple cursor-pointer transition-colors"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-[12px] font-semibold uppercase tracking-widest text-cyber-cyan mb-8 font-sans",children:"Collections"}),a.jsxs("ul",{className:"space-y-4 text-[13px] tracking-widest text-gray-300 uppercase font-sans font-medium",children:[a.jsx("li",{children:a.jsx(Q,{to:"/shop",className:"hover:text-white transition-colors underline-offset-4 hover:underline decoration-cyber-cyan/50",children:"Shop All"})}),a.jsx("li",{children:a.jsx(Q,{to:"/customize",className:"hover:text-white transition-colors underline-offset-4 hover:underline decoration-cyber-cyan/50",children:"Custom Lab"})}),a.jsx("li",{children:a.jsx(Q,{to:"/shop",className:"hover:text-white transition-colors underline-offset-4 hover:underline decoration-cyber-cyan/50",children:"New Arrivals"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-[12px] font-semibold uppercase tracking-widest text-cyber-purple mb-8 font-sans",children:"Support"}),a.jsxs("ul",{className:"space-y-4 text-[13px] tracking-widest text-gray-300 uppercase font-sans font-medium",children:[a.jsx("li",{children:a.jsx(Q,{to:"/shipping-info",className:"hover:text-white transition-colors",children:"Shipping Info"})}),a.jsx("li",{children:a.jsx(Q,{to:"/refund-policy",className:"hover:text-white transition-colors",children:"Returns & Refunds"})}),a.jsx("li",{children:a.jsx(Q,{to:"/privacy-policy",className:"hover:text-white transition-colors",children:"Privacy Policy"})})]})]}),a.jsx("div",{className:"space-y-8",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-[12px] font-semibold uppercase tracking-widest text-cyber-pink mb-8 font-sans",children:"Join Newsletter"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"email",placeholder:"YOUR@EMAIL.COM",className:"w-full bg-white/5 border border-white/10 px-4 py-3 text-[12px] uppercase tracking-widest focus:border-cyber-pink outline-none transition-all placeholder:text-gray-500 font-sans"}),a.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-cyber-pink",children:a.jsx(rk,{size:18})})]})]})})]}),a.jsxs("div",{className:"max-w-[1400px] mx-auto pt-8 border-t border-white/5 flex flex-col md:flex-row justify-between items-center text-[11px] font-sans font-medium uppercase tracking-widest text-gray-400",children:[a.jsx("p",{children:" 2026 VYBE THREADS // ALL RIGHTS RESERVED"}),a.jsx("p",{className:"mt-4 md:mt-0",children:"DESIGNED BY VYBE THREADS TEAM"})]})]})}const _m=[{key:"placed",label:"Order Placed",icon:qo},{key:"confirmed",label:"Confirmed",icon:Of},{key:"shipped",label:"In Transit",icon:Yt},{key:"delivered",label:"Delivered",icon:Of}],$E={pending:0,confirmed:1,shipped:2,delivered:3},ka=[{key:"bag",label:"Items in Bag",icon:on},{key:"address",label:"Add Address",icon:Cd},{key:"payment",label:"Pay & Order",icon:Nd}],UE="rgba(103,232,249,0.4)";function Xl({icon:e,active:t,done:n,pulse:r}){const s=n?"linear-gradient(135deg,#34d399,#059669)":t?"linear-gradient(135deg,#22d3ee,#a855f7,#ec4899)":"rgba(255,255,255,0.07)";return a.jsx(z.div,{animate:r?{scale:[1,1.12,1]}:{},transition:{duration:1.2,repeat:1/0,ease:"easeInOut"},className:"relative flex-shrink-0 w-9 h-9 rounded-full flex items-center justify-center",style:{background:s,border:`2px solid ${n?"rgba(52,211,153,0.6)":t?UE:"rgba(255,255,255,0.12)"}`,boxShadow:t?"0 0 18px rgba(103,232,249,0.35)":"none"},children:a.jsx(e,{size:15,className:n||t?"text-white":"text-white/30",strokeWidth:2})})}function Zl({done:e}){return a.jsx("div",{className:"flex-1 h-[2px] mx-1 rounded-full overflow-hidden",style:{background:"rgba(255,255,255,0.08)"},children:a.jsx(z.div,{className:"h-full rounded-full",initial:{width:"0%"},animate:{width:e?"100%":"0%"},transition:{duration:.6,ease:"easeOut"},style:{background:"linear-gradient(to right,#34d399,#22d3ee)"}})})}function zE(){var y,j;const{cartItems:e,openCart:t}=wt(),n=Ve(_=>_.user),[r,s]=w.useState([]),[i,o]=w.useState([]),[l,c]=w.useState(!0),[u,d]=w.useState(!1),h=Ft(),f=Fn(),p=e.reduce((_,b)=>_+b.quantity,0);if(w.useEffect(()=>{const _=()=>d(window.scrollY>50);return window.addEventListener("scroll",_),()=>window.removeEventListener("scroll",_)},[]),w.useEffect(()=>{if(!n){s([]),o([]),c(!1);return}c(!0),Promise.allSettled([V.from("orders").select("id, status, total, created_at, order_items(product_name, quantity)").eq("user_id",n.id).order("created_at",{ascending:!1}).limit(3),V.from("user_addresses").select("id").eq("user_id",n.id).limit(1)]).then(([_,b])=>{var T,O;const S=_.status==="fulfilled"?((T=_.value)==null?void 0:T.data)||[]:[];s(S);const E=b.status==="fulfilled"?((O=b.value)==null?void 0:O.data)||[]:[];o(E),c(!1)}).catch(()=>{c(!1)})},[n]),f.pathname==="/checkout"||!n||l||u)return null;const x=r.find(_=>["pending","confirmed","shipped"].includes(_.status));r.filter(_=>_.status==="delivered");const v=r.length>0&&r.every(_=>_.status==="delivered"),k=!!x,g=!x&&p>0,m=v&&p>0;if(!k&&!g&&!m)return null;if(k){const _=$E[x.status]??0,b=((y=x.order_items)==null?void 0:y.slice(0,2).map(E=>E.product_name).join(", "))||"Your order",S=(((j=x.order_items)==null?void 0:j.length)||0)-2;return a.jsxs(ec,{children:[a.jsxs("div",{className:"flex-shrink-0 mr-4 hidden sm:block",children:[a.jsx("p",{className:"text-[10px] font-bold text-white/40 uppercase tracking-widest",children:"Order Update"}),a.jsxs("p",{className:"text-[12px] font-bold text-white truncate max-w-[150px]",children:[b,S>0?` +${S}`:""]})]}),a.jsx("div",{className:"flex items-center flex-1 min-w-0",children:_m.map((E,T)=>a.jsxs(kn.Fragment,{children:[a.jsxs("div",{className:"flex flex-col items-center gap-1 flex-shrink-0",children:[a.jsx(Xl,{icon:E.icon,active:T===_,done:T<_,pulse:T===_}),a.jsx("span",{className:`text-[9px] md:text-[10px] font-bold tracking-wide whitespace-nowrap ${T===_?"text-cyan-300":T<_?"text-emerald-400":"text-white/25"}`,children:E.label})]}),T<_m.length-1&&a.jsx(Zl,{done:T<_})]},E.key))}),a.jsxs("div",{className:"flex-shrink-0 ml-4 hidden md:flex flex-col items-end",children:[a.jsxs("span",{className:"text-[10px] text-white/30 flex items-center gap-1",children:[a.jsx(lx,{size:10}),new Date(x.created_at).toLocaleDateString("en-IN",{day:"numeric",month:"short"})]}),a.jsxs("span",{className:"text-[11px] font-black mt-0.5",style:{background:"linear-gradient(to right,#22d3ee,#ec4899)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:["",Math.floor(x.total/100).toLocaleString("en-IN")]})]})]})}if(g){const _=i.length>0?1:0;return a.jsxs(ec,{children:[a.jsxs("div",{className:"flex-shrink-0 mr-4 hidden sm:block",children:[a.jsx("p",{className:"text-[10px] font-bold text-white/40 uppercase tracking-widest",children:"Your Bag"}),a.jsxs("p",{className:"text-[12px] font-bold text-white",children:[p," item",p>1?"s":""," ready"]})]}),a.jsx("div",{className:"flex items-center flex-1 min-w-0",children:ka.map((b,S)=>a.jsxs(kn.Fragment,{children:[a.jsxs("div",{className:"flex flex-col items-center gap-1 flex-shrink-0",children:[a.jsx(Xl,{icon:b.icon,active:S===_,done:S<_,pulse:S===_}),a.jsx("span",{className:`text-[9px] md:text-[10px] font-bold tracking-wide whitespace-nowrap ${S===_?"text-cyan-300":S<_?"text-emerald-400":"text-white/25"}`,children:b.label})]}),S<ka.length-1&&a.jsx(Zl,{done:S<_})]},b.key))}),a.jsx("button",{onClick:()=>h("/checkout"),className:"flex-shrink-0 ml-4 px-5 py-2 rounded-full text-white text-[11px] font-black uppercase tracking-widest transition-all hover:opacity-85 active:scale-[0.97] whitespace-nowrap",style:{background:"linear-gradient(to right,#22d3ee,#a855f7,#ec4899)"},children:i.length>0?"Pay Now ":"Checkout "})]})}if(m){const _=i.length>0?1:0;return a.jsxs(ec,{children:[a.jsxs("div",{className:"flex-shrink-0 mr-4 hidden sm:block",children:[a.jsx("p",{className:"text-[10px] font-bold text-emerald-400 uppercase tracking-widest",children:"Order Delivered "}),a.jsxs("p",{className:"text-[12px] font-bold text-white",children:[p," new item",p>1?"s":""," ready to order"]})]}),a.jsx("div",{className:"flex items-center flex-1 min-w-0",children:ka.map((b,S)=>a.jsxs(kn.Fragment,{children:[a.jsxs("div",{className:"flex flex-col items-center gap-1 flex-shrink-0",children:[a.jsx(Xl,{icon:b.icon,active:S===_,done:S<_,pulse:S===_}),a.jsx("span",{className:`text-[9px] md:text-[10px] font-bold tracking-wide whitespace-nowrap ${S===_?"text-cyan-300":S<_?"text-emerald-400":"text-white/25"}`,children:b.label})]}),S<ka.length-1&&a.jsx(Zl,{done:S<_})]},b.key))}),a.jsx("button",{onClick:()=>h("/checkout"),className:"flex-shrink-0 ml-4 px-5 py-2 rounded-full text-white text-[11px] font-black uppercase tracking-widest transition-all hover:opacity-85 active:scale-[0.97] whitespace-nowrap",style:{background:"linear-gradient(to right,#22d3ee,#a855f7,#ec4899)"},children:i.length>0?"Pay Now ":"Order Again "})]})}return null}function ec({children:e}){return a.jsx(z.div,{initial:{opacity:0,y:-12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{duration:.4,ease:[.16,1,.3,1]},className:"fixed top-[70px] left-0 right-0 z-40",style:{background:"rgba(15,15,22,0.92)",backdropFilter:"blur(16px)",borderBottom:"1px solid rgba(255,255,255,0.07)"},children:a.jsx("div",{className:"max-w-[1400px] mx-auto px-6 md:px-12 py-2.5 flex items-center",children:e})})}function FE(){const{isOpen:e,closeCart:t,cartItems:n,removeItem:r,updateQuantity:s}=wt(),i=Ve(u=>u.user),o=Ft(),l=n.reduce((u,d)=>{const h=parseInt(d.price.replace(/,/g,""));return u+h*d.quantity},0);w.useEffect(()=>(e?(document.body.classList.add("cart-drawer-open"),document.body.style.overflow="hidden"):(document.body.classList.remove("cart-drawer-open"),document.body.classList.contains("product-modal-open")||(document.body.style.overflow="")),()=>{document.body.classList.remove("cart-drawer-open"),document.body.classList.contains("product-modal-open")||(document.body.style.overflow="")}),[e]);const c=()=>{t(),o("/checkout")};return a.jsx(je,{children:e&&a.jsxs(a.Fragment,{children:[a.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[90]"}),a.jsxs(z.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed top-0 right-0 h-full w-full max-w-md z-[100] flex flex-col font-sans text-white shadow-2xl overflow-hidden border-l border-white/10 bg-[#1A1A24]",children:[a.jsxs("div",{className:"flex items-center justify-between px-8 py-8 pt-8",children:[a.jsxs("h2",{className:"text-xl font-bold tracking-wide flex items-center gap-2",children:["Your Bag ",a.jsxs("span",{className:"text-white/50 text-base font-medium",children:["(",n.length,")"]})]}),a.jsx("button",{onClick:t,className:"w-10 h-10 flex items-center justify-center transition-colors rounded-full text-white/60 hover:text-white",style:{background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.12)"},children:a.jsx(Rt,{size:18,strokeWidth:1.5})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden min-h-0 flex flex-col scrollbar-thin scrollbar-thumb-[#444] scrollbar-track-transparent",children:[a.jsx("div",{className:"flex-1 px-6 space-y-4",children:n.length===0?a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center space-y-4 pb-20",children:[a.jsx("p",{className:"text-gray-300 font-semibold tracking-wide",children:"Your bag is currently empty."}),a.jsx("button",{onClick:t,className:"text-sm font-bold text-white hover:text-gray-300 transition-colors underline decoration-white/30 underline-offset-4 tracking-wide",children:"Continue Shopping"})]}):a.jsx("div",{className:"space-y-4 pb-4",children:n.map(u=>a.jsxs(z.div,{layout:!0,className:"relative p-4 rounded-3xl flex gap-5 overflow-hidden group border transition-all duration-300 shadow-md",style:{background:"rgba(255,255,255,0.07)",backdropFilter:"blur(12px)",border:"1px solid rgba(255,255,255,0.12)"},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500/0 via-purple-500/0 to-pink-500/0 group-hover:from-indigo-500/10 group-hover:via-purple-500/5 group-hover:to-pink-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),a.jsx("div",{className:"w-[100px] h-[120px] bg-[#1A1A24] border border-white/5 relative overflow-hidden flex-shrink-0 rounded-2xl",children:a.jsx("img",{src:u.image,alt:u.name,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex-1 flex flex-col justify-between py-1",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-start mb-1",children:[a.jsx("h3",{className:"text-sm font-bold tracking-widest uppercase leading-tight pr-4",children:u.name}),a.jsx("button",{onClick:()=>r(u.cartItemId,i==null?void 0:i.id),className:"text-gray-400 hover:text-red-400 transition-colors flex-shrink-0 mt-0.5 mr-1",children:a.jsx(hr,{size:16,strokeWidth:1.5})})]}),a.jsxs("div",{className:"text-[11px] text-gray-400 font-bold uppercase tracking-[0.2em] mt-2",children:[u.category.split("|")[0],"  SIZE: ",u.size]})]}),a.jsxs("div",{className:"flex items-center justify-between mt-4 border-t border-transparent",children:[a.jsxs("div",{className:"flex items-center justify-between bg-[#1a1a1a] rounded-full px-3 py-1.5 w-[90px]",children:[a.jsx("button",{onClick:()=>s(u.cartItemId,Math.max(1,u.quantity-1),i==null?void 0:i.id),className:"text-gray-300 hover:text-white transition-colors",children:a.jsx(gx,{size:14})}),a.jsx("span",{className:"text-xs font-bold w-4 text-center",children:u.quantity}),a.jsx("button",{onClick:()=>s(u.cartItemId,u.quantity+1,i==null?void 0:i.id),className:"text-gray-300 hover:text-white transition-colors",children:a.jsx(Vi,{size:14})})]}),a.jsxs("p",{className:"text-[15px] font-black mr-1 tracking-wide",children:["",(parseInt(u.price.replace(/,/g,""))*u.quantity).toLocaleString("en-IN")]})]})]})]},u.cartItemId))})}),n.length>0&&a.jsx("div",{className:"px-6 pb-6 pt-6 shrink-0 z-10",children:a.jsxs("div",{className:"rounded-[2rem] p-6 pb-6 shadow-[0_-10px_40px_rgba(0,0,0,0.3)] relative overflow-hidden",style:{background:"rgba(255,255,255,0.07)",backdropFilter:"blur(12px)",border:"1px solid rgba(255,255,255,0.12)"},children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-cyan-500/10 rounded-full blur-3xl opacity-50"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-pink-500/10 rounded-full blur-3xl opacity-50"}),a.jsxs("div",{className:"space-y-4 font-bold mb-12 relative z-10",children:[a.jsxs("div",{className:"flex justify-between items-center text-white/60 text-sm tracking-wide",children:[a.jsx("span",{children:"Subtotal"}),a.jsxs("span",{className:"text-white",children:["",l.toLocaleString("en-IN")]})]}),a.jsxs("div",{className:"flex justify-between items-center text-white/60 text-sm tracking-wide",children:[a.jsx("span",{children:"Shipping"}),a.jsx("span",{className:"text-emerald-400 font-bold",children:"Complimentary"})]})]}),a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("span",{className:"text-[12px] text-white/50 font-bold uppercase tracking-widest",children:"Estimated Total"}),a.jsxs("span",{className:"text-2xl font-black tracking-tight",children:["",l.toLocaleString("en-IN")]})]}),a.jsxs("button",{onClick:c,className:"w-full py-4 font-bold uppercase tracking-widest transition-all rounded-full flex justify-center items-center gap-3 text-sm text-white",style:{background:"linear-gradient(to right, #22d3ee, #a855f7, #ec4899)"},children:[a.jsx("span",{children:"Secure Checkout"}),a.jsx(Gt,{size:18,strokeWidth:2})]})]})})]})]})]})})}function VE(){const{pathname:e}=Fn();return w.useEffect(()=>{window.scrollTo(0,0)},[e]),null}function BE({products:e}){const t=wt(S=>S.addItem),n=Ve(S=>S.user),r=Ft(),s=w.useRef(null),i=e.length,o=9,l=Array(o).fill(e).flat().map((S,E)=>({...S,uniqueIndex:`prod-${S.id}-${E}`})),c=Math.floor(o/2)*i,[u,d]=w.useState(c),h=w.useRef(c),[f,p]=w.useState(window.innerWidth);w.useEffect(()=>{const S=()=>p(window.innerWidth);return window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]);const x=w.useCallback(()=>{if(!s.current)return;const S=s.current,E=S.scrollLeft+S.clientWidth/2,T=Array.from(S.children).filter(q=>q.hasAttribute("data-carousel-item"));if(T.length===0)return;let O=1/0,H=h.current;const C=window.innerWidth<640?260:320;T.forEach((q,se)=>{const ie=q.offsetLeft+q.offsetWidth/2,B=Math.abs(E-ie),N=C;let A=Math.min(B/N,1);const D=1-A*.15,Y=1-A*.6,de=A*4,cn=50-Math.round(A*10),Ue=q.querySelector(".transform-wrapper");Ue&&(Ue.style.transform=`scale(${D})`,Ue.style.opacity=B>N*2?0:Y,Ue.style.zIndex=cn);const Vt=q.querySelector(".blur-target");Vt&&(Vt.style.filter=`blur(${de}px)`);const qe=q.querySelector(".add-to-bag-btn");if(qe){const gr=Math.min(B/(N*.5),1);qe.style.opacity=1-gr,qe.style.transform=`translateY(${gr*16}px) scale(${1-gr*.05})`,qe.style.pointerEvents=gr<.5?"auto":"none"}const Re=q.querySelector(".inner-card");Re&&(B<N*.5?(Re.classList.add("bg-neon-gradient","shadow-[0_20px_40px_rgba(0,0,0,0.15)]"),Re.classList.remove("bg-transparent","hover:bg-white/5"),Re.style.transform="translateY(-8px)",Re.style.cursor="default"):(Re.classList.remove("bg-neon-gradient","shadow-[0_20px_40px_rgba(0,0,0,0.15)]"),Re.classList.add("bg-transparent","hover:bg-white/5"),Re.style.transform="none",Re.style.cursor="pointer")),B<O&&(O=B,H=se)}),H!==h.current&&(h.current=H,d(H))},[]),v=w.useRef(!1);w.useEffect(()=>{if(!s.current||v.current||i===0)return;const S=s.current,E=S.children[c];if(E){S.style.scrollBehavior="auto";const T=E.offsetLeft-S.clientWidth/2+E.offsetWidth/2;S.scrollLeft=T,x(),requestAnimationFrame(()=>{S.style.scrollBehavior="smooth",v.current=!0})}},[c,x,i]),w.useEffect(()=>{const S=s.current;if(!S||i===0)return;let E;const T=()=>{x(),clearTimeout(E),E=setTimeout(()=>{O()},150)},O=()=>{if(!S)return;const H=h.current;if(H<3*i||H>=(o-3)*i){const X=H%i,C=c+X,q=S.children[C];if(q){S.style.scrollBehavior="auto";const se=q.offsetLeft-S.clientWidth/2+q.offsetWidth/2;S.scrollLeft=se,x(),requestAnimationFrame(()=>{S.style.scrollBehavior="smooth"})}}};return S.addEventListener("scroll",T,{passive:!0}),()=>{S.removeEventListener("scroll",T),clearTimeout(E)}},[x,i,c,o]);const k=S=>{if(!s.current)return;const E=s.current,T=h.current;let O=S,H=1/0;for(let C=0;C<o;C++){const q=C*i+S,se=Math.abs(q-T);se<H&&(H=se,O=q)}const X=E.children[O];if(X){const C=X.offsetLeft-E.clientWidth/2+X.offsetWidth/2;E.scrollTo({left:C,behavior:"smooth"})}},g=S=>{if(h.current!==S){if(!s.current)return;const E=s.current,T=E.children[S];if(T){const O=T.offsetLeft-E.clientWidth/2+T.offsetWidth/2;E.scrollTo({left:O,behavior:"smooth"})}}else r("/shop")},m=f<640,y=m?260:320,j=m?400:460,_=m?-40:-50,b=u%i;return a.jsxs("div",{className:"relative w-full h-[550px] md:h-[600px] flex justify-center items-center overflow-hidden",children:[a.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[70%] h-[70%] bg-white/5 rounded-full blur-[120px] pointer-events-none"}),a.jsx("div",{ref:s,className:"w-full h-full flex items-center overflow-x-auto snap-x snap-mandatory scroll-smooth [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none] z-20",style:{paddingLeft:`calc(50vw - ${y/2}px)`,paddingRight:`calc(50vw - ${y/2}px)`},children:l.map((S,E)=>a.jsx("div",{"data-carousel-item":!0,className:"shrink-0 snap-center relative outline-none",style:{width:`${y}px`,height:`${j}px`,marginLeft:E===0?"0":`${_}px`},children:a.jsx("div",{className:"transform-wrapper w-full h-full relative will-change-transform",children:a.jsx("div",{className:"inner-card w-full h-full rounded-[24px] p-[2px] transition-[background,box-shadow,transform] duration-300",onClick:()=>g(E),children:a.jsxs("div",{className:"blur-target bg-[#FAFAFA] w-full h-full rounded-[22px] flex flex-col p-5 md:p-6 overflow-hidden",children:[a.jsxs("div",{className:"w-full h-[55%] relative mb-5 overflow-hidden rounded-[16px] bg-gray-100 flex items-center justify-center",children:[a.jsx("img",{src:S.image,alt:S.name,className:"w-full h-full object-cover",draggable:!1,onError:T=>{T.target.style.display="none",T.target.parentElement.style.background="#f3f4f6"}}),a.jsx("div",{className:"absolute top-3 left-3 bg-white/95 backdrop-blur-sm shadow-sm text-gray-800 text-[10px] font-bold px-3 py-1 rounded-full uppercase tracking-widest z-10",children:"NEW"})]}),a.jsxs("div",{className:"flex flex-col flex-1 pb-1 text-left",children:[a.jsx("span",{className:"text-gray-400 text-[10px] uppercase font-bold tracking-widest mb-1.5",children:S.category.split("|")[0]}),a.jsx("h3",{className:"text-lg md:text-xl font-semibold text-gray-900 tracking-tight leading-tight mb-auto font-sans",children:S.name}),a.jsxs("div",{className:"flex justify-between items-end mt-4",children:[a.jsxs("p",{className:"text-lg md:text-xl font-bold text-gray-900 font-sans",children:["",S.price]}),a.jsx(z.button,{whileTap:{scale:.95},onClick:T=>{T.stopPropagation(),t(S,n==null?void 0:n.id)},className:"add-to-bag-btn bg-[#050505] text-white px-5 py-2.5 rounded-full text-[11px] font-bold uppercase tracking-widest shadow-[0_4px_15px_rgba(0,0,0,0.2)] hover:bg-gray-800 transition-colors",children:"Add to Bag"})]})]})]})})})},S.uniqueIndex))}),i>0&&a.jsx("div",{className:"absolute bottom-6 flex gap-3 z-30 pointer-events-auto",children:e.map((S,E)=>a.jsx("button",{onClick:()=>k(E),className:`transition-all duration-300 rounded-full ${E===b?"w-8 h-2 bg-white":"w-2 h-2 bg-white/30 hover:bg-white/50"}`,"aria-label":`Go to slide ${E+1}`},E))})]})}function WE(){const[e,t]=w.useState([]),[n,r]=w.useState(!0);return w.useEffect(()=>{async function s(){const{data:i}=await V.from("products").select("*").eq("is_featured",!0).eq("is_active",!0).order("id",{ascending:!0}),o=(i||[]).map(l=>({...l,price:Math.floor(l.price/100).toLocaleString("en-IN")}));t(o),r(!1)}s()},[]),a.jsxs("div",{className:"overflow-hidden bg-black min-h-screen",children:[a.jsxs("section",{className:"relative flex flex-col items-center pt-24 pb-0",children:[a.jsxs("div",{className:"absolute inset-0 z-0",children:[a.jsx("img",{src:"https://images.unsplash.com/photo-1627163439134-7a8c47ee8020?auto=format&fit=crop&q=100&w=2000",alt:"Cyberpunk Background",className:"w-full h-full object-cover opacity-60 grayscale-[0.5]"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/80 via-transparent to-black"}),a.jsx("div",{className:"absolute inset-0 bg-black/40"})]}),a.jsx("div",{className:"relative z-10 text-center px-6 max-w-4xl mx-auto pb-0",children:a.jsxs(z.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8},children:[a.jsxs("div",{className:"inline-flex items-center gap-3 px-6 py-2 border border-pink-500/30 rounded-full bg-pink-500/5 mb-6 backdrop-blur-sm",children:[a.jsx(_i,{size:14,className:"text-pink-500 animate-pulse"}),a.jsx("span",{className:"text-[12px] uppercase font-semibold tracking-widest font-sans text-pink-500",children:"New Collection 2026"})]}),a.jsxs("h1",{className:"text-5xl md:text-8xl font-cyber mb-6 leading-[1] font-black tracking-tight mt-2",children:[a.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-purple-500 drop-shadow-[0_0_15px_rgba(236,72,153,0.4)]",children:"WEAR"}),a.jsx("span",{className:"block text-white drop-shadow-md",children:"YOUR"}),a.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-cyan-300 to-blue-400 drop-shadow-[0_0_15px_rgba(34,211,238,0.4)]",children:"FUTURE"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center pb-0 mt-10",children:[a.jsx(Q,{to:"/shop",children:a.jsxs("button",{className:"min-w-[240px] py-4 text-[15px] font-semibold bg-pink-500 text-white font-sans tracking-widest uppercase hover:bg-pink-600 hover:scale-105 shadow-[0_0_20px_rgba(236,72,153,0.6)] transition-all duration-300 flex items-center justify-center gap-3 group",children:["SHOP NOW ",a.jsx(Gt,{size:18,className:"group-hover:translate-x-2 transition-transform"})]})}),a.jsx(Q,{to:"/customize",children:a.jsxs("button",{className:"min-w-[240px] py-4 text-[15px] font-semibold border-2 border-pink-500 text-pink-400 font-sans tracking-widest uppercase hover:bg-pink-500/10 hover:text-pink-300 transition-all duration-300 flex items-center justify-center gap-3 group bg-black/50 backdrop-blur-md",children:["CUSTOMIZE NOW ",a.jsx(_i,{size:18,className:"group-hover:rotate-12 transition-transform"})]})})]})]})})]}),a.jsx("section",{className:"py-10 border-y border-white/5 relative z-10",style:{background:"linear-gradient(to right, #0d0d0f, #111116, #0d0d0f)"},children:a.jsx("div",{className:"max-w-[1400px] mx-auto px-6",children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[{value:"10,000+",label:"Happy Customers"},{value:"500+",label:"Unique Designs"},{value:"4.9",label:"Average Rating"},{value:"48hrs",label:"Custom Delivery"}].map((s,i)=>a.jsxs(z.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:i*.1},className:"flex flex-col gap-1",children:[a.jsx("span",{className:"text-3xl md:text-4xl font-cyber font-black text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-cyan-300 drop-shadow-sm",children:s.value}),a.jsx("span",{className:"text-[13px] text-gray-300 uppercase font-semibold tracking-widest font-sans",children:s.label})]},i))})})}),a.jsxs("section",{className:"py-24 relative z-10 w-full overflow-hidden",style:{background:"linear-gradient(to bottom, #0B0B0F, #111111)"},children:[a.jsxs("div",{className:"flex flex-col justify-center items-center text-center mb-6 md:mb-12 relative z-20 px-4",children:[a.jsx("h3",{className:"text-3xl md:text-5xl font-sans mb-3 tracking-wide font-medium text-white drop-shadow-md",children:"Featured Collections"}),a.jsx("p",{className:"text-[15px] text-gray-300 font-sans tracking-wide max-w-md mx-auto leading-relaxed",children:"Discover piece-unique luxury streetwear crafted for the modern individual."})]}),n?a.jsx("div",{className:"flex justify-center items-center h-[400px]",children:a.jsx(fx,{size:36,className:"text-pink-500 animate-spin"})}):e.length>0?a.jsx(BE,{products:e}):a.jsx("div",{className:"text-center text-gray-400 py-20 text-[15px] font-sans",children:"No featured products yet."})]}),a.jsxs("section",{className:"py-20 px-6 md:px-12 max-w-[1400px] mx-auto relative z-10",children:[a.jsxs("div",{className:"text-center mb-14",children:[a.jsx("p",{className:"text-[12px] font-semibold uppercase tracking-widest text-pink-400 font-sans mb-3",children:"Browse by Style"}),a.jsxs("h2",{className:"text-3xl md:text-5xl font-cyber font-black text-white uppercase drop-shadow-sm",children:["Shop by ",a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-cyan-300",children:"Category"})]})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{title:"Hoodies",tag:"BESTSELLER",img:"https://images.unsplash.com/photo-1556821840-3a63f15732ce?auto=format&fit=crop&q=80&w=600",link:"/shop",border:"border-cyan-500/50",shadow:"shadow-[0_0_15px_rgba(6,182,212,0.15)]",hoverBorder:"hover:border-cyan-400"},{title:"T-Shirts",tag:"NEW",img:"https://images.unsplash.com/photo-1503342217505-b0a15ec3261c?auto=format&fit=crop&q=80&w=600",link:"/shop",border:"border-pink-500/50",shadow:"shadow-[0_0_15px_rgba(236,72,153,0.15)]",hoverBorder:"hover:border-pink-400"},{title:"Custom",tag:"YOUR DESIGN",img:"https://images.unsplash.com/photo-1529374255404-311a2a4f1fd9?auto=format&fit=crop&q=80&w=600",link:"/customize",border:"border-purple-500/50",shadow:"shadow-[0_0_15px_rgba(168,85,247,0.15)]",hoverBorder:"hover:border-purple-400"},{title:"Cargos",tag:"LIMITED",img:"https://images.unsplash.com/photo-1624378439575-d1ead6bb2d50?auto=format&fit=crop&q=80&w=600",link:"/shop",border:"border-yellow-500/50",shadow:"shadow-[0_0_15px_rgba(234,179,8,0.15)]",hoverBorder:"hover:border-yellow-400"}].map((s,i)=>a.jsx(z.div,{whileHover:{scale:1.02},transition:{duration:.3},className:`relative overflow-hidden rounded-lg group cursor-pointer border ${s.border} ${s.shadow} ${s.hoverBorder} transition-colors`,style:{minHeight:260},children:a.jsxs(Q,{to:s.link,className:"block w-full h-full absolute inset-0",children:[a.jsx("img",{src:s.img,alt:s.title,className:"w-full h-full object-cover opacity-60 group-hover:opacity-80 group-hover:scale-105 transition-all duration-500"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent"}),a.jsxs("div",{className:"absolute bottom-0 left-0 p-5",children:[a.jsx("span",{className:"text-[11px] font-bold uppercase tracking-widest text-pink-400 font-sans drop-shadow-md",children:s.tag}),a.jsx("h3",{className:"text-xl md:text-2xl font-cyber font-black text-white uppercase mt-1 drop-shadow-md",children:s.title})]}),a.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx("div",{className:"w-8 h-8 bg-pink-500 rounded-full flex items-center justify-center shadow-[0_0_10px_rgba(236,72,153,0.8)]",children:a.jsx(Gt,{size:14,className:"text-white"})})})]})},i))})]}),a.jsx("section",{className:"py-20 px-6 md:px-12 relative z-10",style:{background:"linear-gradient(to bottom, #0a0a0e, #0d0d12)"},children:a.jsxs("div",{className:"max-w-[1400px] mx-auto",children:[a.jsxs("div",{className:"text-center mb-14",children:[a.jsx("p",{className:"text-[12px] font-semibold uppercase tracking-widest text-cyan-400 font-sans mb-3",children:"Why Us"}),a.jsxs("h2",{className:"text-3xl md:text-5xl font-cyber font-black text-white uppercase drop-shadow-sm",children:["Built Different.",a.jsx("br",{}),a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-300 to-purple-400",children:"Crafted Different."})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[{icon:"",title:"Ultra-Fast Delivery",desc:"We ship your order within 48 hours. Custom prints completed in just 3-5 days  no waiting forever.",color:"from-pink-500/20 to-transparent",border:"border-pink-500/40"},{icon:"",title:"Custom Printing",desc:"Upload your own art, logo, or design. Our DTG print tech brings your vision to life with vibrant precision.",color:"from-cyan-500/20 to-transparent",border:"border-cyan-500/40"},{icon:"",title:"Premium Fabric",desc:"Every piece uses 280gsm combed cotton. Soft, structured, and built to last wash after wash.",color:"from-purple-500/20 to-transparent",border:"border-purple-500/40"},{icon:"",title:"Secure Payments",desc:"Shop with confidence. We support UPI, cards & net banking via Razorpay with end-to-end encryption.",color:"from-pink-500/20 to-transparent",border:"border-pink-500/40"},{icon:"",title:"Eco-Conscious",desc:"Packaging made from recycled materials. We print on demand to reduce overproduction and waste.",color:"from-green-500/20 to-transparent",border:"border-green-500/40"},{icon:"",title:"Easy Returns",desc:"7-day hassle-free returns on all non-custom orders. Your satisfaction is our highest priority.",color:"from-yellow-500/20 to-transparent",border:"border-yellow-500/40"}].map((s,i)=>a.jsxs(z.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:i*.08},className:`bg-[#111116] border ${s.border} rounded-xl p-7 relative overflow-hidden hover:scale-[1.02] transition-transform duration-300 shadow-sm`,children:[a.jsx("div",{className:`absolute inset-x-0 top-0 h-32 bg-gradient-to-b ${s.color} opacity-40`}),a.jsx("div",{className:"text-4xl mb-4 relative z-10 drop-shadow-md",children:s.icon}),a.jsx("h3",{className:"font-sans text-white font-bold text-lg uppercase tracking-wide mb-2 relative z-10 drop-shadow-sm",children:s.title}),a.jsx("p",{className:"text-gray-300 text-[15px] font-sans leading-relaxed relative z-10",children:s.desc})]},i))})]})}),a.jsxs("section",{className:"relative py-24 px-6 overflow-hidden z-10",children:[a.jsxs("div",{className:"absolute inset-0 z-0",children:[a.jsx("img",{src:"https://images.unsplash.com/photo-1536440136628-849c177e76a1?auto=format&fit=crop&q=80&w=2000",alt:"Brand Banner",className:"w-full h-full object-cover opacity-30"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black via-black/80 to-black"})]}),a.jsxs("div",{className:"relative z-10 max-w-3xl mx-auto text-center",children:[a.jsx("p",{className:"text-[12px] font-semibold uppercase tracking-widest text-pink-400 font-sans mb-5 drop-shadow-md",children:"Our Philosophy"}),a.jsxs("h2",{className:"text-4xl md:text-6xl font-cyber font-black text-white uppercase leading-tight mb-6 drop-shadow-lg",children:["Fashion Is Not",a.jsx("br",{}),a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-pink-400 via-purple-400 to-cyan-300",children:"Just Clothing."}),a.jsx("br",{}),"It's Identity."]}),a.jsx("p",{className:"text-gray-200 font-sans text-[16px] leading-relaxed max-w-xl mx-auto mb-8 drop-shadow-md",children:"We design for those who refuse to blend in. Every stitch, every print, every drop is a statement  crafted for rebels, creators, and dreamers who wear their future on their sleeves."}),a.jsx(Q,{to:"/shop",children:a.jsxs("button",{className:"px-10 py-4 text-[15px] font-semibold bg-black/50 backdrop-blur-md border-2 border-cyan-400/80 text-cyan-300 font-sans tracking-widest uppercase hover:bg-cyan-400/20 hover:text-cyan-200 transition-all duration-300 flex items-center gap-3 mx-auto group",children:["EXPLORE THE DROP ",a.jsx(Gt,{size:18,className:"group-hover:translate-x-2 transition-transform"})]})})]})]}),a.jsxs("section",{className:"py-24 px-6 md:px-12 max-w-[1400px] mx-auto relative z-10 w-full",children:[a.jsx("div",{className:"flex justify-center items-center text-center mb-16",children:a.jsxs("h2",{className:"text-3xl md:text-5xl font-cyber mb-4 tracking-wide font-black uppercase drop-shadow-md",children:[a.jsx("span",{className:"text-white",children:"WHAT THE "}),a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-cyan-300",children:"COMMUNITY"}),a.jsx("span",{className:"text-white",children:" SAYS"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"bg-[#111116] border border-cyan-500/50 rounded-lg p-8 shadow-[0_4px_20px_rgba(6,182,212,0.2)] hover:border-cyan-400 transition-colors",children:[a.jsx("div",{className:"flex gap-1 mb-6",children:[1,2,3,4,5].map(s=>a.jsx(Qs,{size:18,fill:"#22d3ee",className:"text-cyan-400"},s))}),a.jsx("p",{className:"text-gray-200 font-sans text-[15px] tracking-wide leading-relaxed mb-8",children:'"The quality is insane. Wore the Neon Circuit Tee to a tech event and got so many compliments. Truly futuristic fashion."'}),a.jsx("p",{className:"text-cyan-400 font-sans font-bold text-[13px] tracking-widest uppercase",children:"- Akira M."})]}),a.jsxs("div",{className:"bg-[#111116] border border-pink-500/50 rounded-lg p-8 shadow-[0_4px_20px_rgba(236,72,153,0.2)] hover:border-pink-400 transition-colors",children:[a.jsx("div",{className:"flex gap-1 mb-6",children:[1,2,3,4,5].map(s=>a.jsx(Qs,{size:18,fill:"#f472b6",className:"text-pink-400"},s))}),a.jsx("p",{className:"text-gray-200 font-sans text-[15px] tracking-wide leading-relaxed mb-8",children:'"Custom print feature is a game changer! I uploaded my own glitch art and it came out perfectly on the hoodie."'}),a.jsx("p",{className:"text-pink-400 font-sans font-bold text-[13px] tracking-widest uppercase",children:"- Zara K."})]}),a.jsxs("div",{className:"bg-[#111116] border border-purple-500/50 rounded-lg p-8 shadow-[0_4px_20px_rgba(168,85,247,0.2)] hover:border-purple-400 transition-colors",children:[a.jsx("div",{className:"flex gap-1 mb-6",children:[1,2,3,4,5].map(s=>a.jsx(Qs,{size:18,fill:"#c084fc",className:"text-purple-400"},s))}),a.jsx("p",{className:"text-gray-200 font-sans text-[15px] tracking-wide leading-relaxed mb-8",children:`"Best streetwear brand I've found. The cyberpunk aesthetic is authentic, not just surface-level. Amazing materials too."`}),a.jsx("p",{className:"text-purple-400 font-sans font-bold text-[13px] tracking-widest uppercase",children:"- Devon R."})]})]})]}),a.jsx("section",{className:"py-20 px-6 relative z-10 border-t border-white/5",children:a.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[a.jsx("p",{className:"text-[12px] font-semibold uppercase tracking-widest text-pink-400 font-sans mb-4 drop-shadow-md",children:"Stay Ahead of the Drop"}),a.jsxs("h2",{className:"text-3xl md:text-5xl font-cyber font-black text-white uppercase mb-4 drop-shadow-lg",children:["Join the ",a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-purple-400",children:"Collective"})]}),a.jsx("p",{className:"text-gray-300 text-[15px] font-sans mb-8 leading-relaxed",children:"Get early access to new drops, exclusive discounts, and behind-the-scenes looks  straight to your inbox."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto",children:[a.jsx("input",{type:"email",placeholder:"your@email.com",className:"flex-1 px-5 py-4 bg-[#111116] border border-white/20 text-white text-[15px] font-sans focus:outline-none focus:border-pink-500/80 placeholder:text-gray-500 transition-colors rounded-sm"}),a.jsxs("button",{className:"px-8 py-4 bg-pink-500 text-white text-[15px] font-bold font-sans tracking-widest uppercase hover:bg-pink-600 shadow-[0_0_20px_rgba(236,72,153,0.6)] transition-all duration-300 whitespace-nowrap flex items-center gap-2 justify-center group rounded-sm",children:["JOIN ",a.jsx(Gt,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})]})]})}),a.jsx("div",{className:"fixed bottom-8 right-8 z-[60]",children:a.jsx(z.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"w-16 h-16 bg-[#25D366] rounded-full flex items-center justify-center shadow-lg text-white hover:shadow-[#25D366]/50 transition-shadow",children:a.jsx(nk,{size:32})})})]})}const qE={NEW:"bg-emerald-500 text-white",HOT:"bg-red-500 text-white",SALE:"bg-pink-500 text-white",LIMITED:"bg-amber-500 text-white",BESTSELLER:"bg-violet-600 text-white","OUT OF STOCK":"bg-red-600 text-white","STOCK LIMITED":"bg-amber-600 text-white"},Os=e=>Math.floor(e/100).toLocaleString("en-IN");function HE({product:e,isOpen:t,onClose:n}){const r=wt(m=>m.addItem),s=Ve(m=>m.user),i=Array.isArray(e.sizes)&&e.sizes.length>0?e.sizes:[],[o,l]=w.useState(i[0]||""),[c,u]=w.useState(!1),[d,h]=w.useState(null);w.useEffect(()=>(u(!0),t?(document.body.classList.add("product-modal-open"),document.body.style.overflow="hidden"):(document.body.classList.remove("product-modal-open"),document.body.classList.contains("cart-drawer-open")||(document.body.style.overflow="")),()=>{document.body.classList.remove("product-modal-open"),document.body.classList.contains("cart-drawer-open")||(document.body.style.overflow="")}),[t]),w.useEffect(()=>{d||V.from("shipping_settings").select("*").eq("id",1).single().then(({data:m})=>{m&&h(m)})},[]);const f=typeof e.price=="number"?e.price:null,p=e.mrp&&typeof e.mrp=="number"?e.mrp:null,x=f&&p&&p>f,v=x?Math.round((1-f/p)*100):0,k=f!=null?`${Os(f)}`:`${e.price}`,g=[];if(d){if(d.free_shipping_enabled){const m=d.free_shipping_threshold;if(!m||m===0)g.push({icon:Yt,text:"Free Shipping",color:"text-emerald-400"});else{const y=Os(m),j=f&&f>=m;g.push({icon:Yt,text:j?"Free Shipping Applied!":`Free Shipping on orders above ${y}`,color:j?"text-emerald-400":"text-gray-300"})}}else g.push({icon:Yt,text:`Standard Delivery ${Os(d.standard_charge)}`,color:"text-gray-300"});d.express_enabled&&g.push({icon:_i,text:`Express Delivery ${Os(d.express_charge)}`,color:"text-amber-400"})}else g.push({icon:Yt,text:"Shipping calculated at checkout",color:"text-gray-400"});return c?Qg.createPortal(a.jsx(je,{children:t&&a.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6 shadow-2xl",children:[a.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:n,className:"absolute inset-0 bg-black/60 backdrop-blur-md"}),a.jsxs(z.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"relative w-full max-w-4xl bg-[#1A1A24] border border-white/10 rounded-2xl overflow-hidden flex flex-col shadow-[0_20px_60px_rgba(0,0,0,0.8)] z-10 max-h-[90vh]",children:[a.jsx("button",{onClick:n,className:"absolute top-4 right-4 z-20 w-8 h-8 flex items-center justify-center bg-black/50 hover:bg-white text-white hover:text-black rounded-full backdrop-blur-md transition-colors",children:a.jsx(Rt,{size:16})}),a.jsxs("div",{className:"flex flex-col md:flex-row w-full flex-1 overflow-y-auto overflow-x-hidden md:overflow-hidden",children:[a.jsx("div",{className:"w-full md:w-1/2 h-[350px] sm:h-[400px] md:h-auto relative shrink-0",children:a.jsx("div",{className:"absolute inset-0 bg-neon-gradient sm:p-[2px] p-0 md:border-r-0",children:a.jsxs("div",{className:"w-full h-full bg-gray-900 overflow-hidden relative sm:rounded-l-[14px] rounded-none md:rounded-r-none md:rounded-t-none",children:[a.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"}),e.label&&a.jsx("div",{className:"absolute top-4 left-4 z-20",children:a.jsx("span",{className:`text-[12px] font-bold px-3 py-1.5 rounded-[4px] shadow tracking-widest uppercase ${qE[e.label]||"bg-black text-white border border-white/20"}`,children:e.label})}),x&&a.jsx("div",{className:"absolute top-4 right-4 z-20",children:a.jsxs("span",{className:"text-[12px] font-bold px-3 py-1.5 rounded-full bg-black/80 text-pink-400 shadow tracking-wider",children:["-",v,"%"]})})]})})}),a.jsxs("div",{className:"w-full md:w-1/2 p-6 md:p-8 flex flex-col shrink-0 md:shrink md:flex-1 md:min-h-0 md:overflow-y-auto",children:[a.jsx("span",{className:"text-[12px] text-cyan-400 font-sans font-bold tracking-widest uppercase mb-2 mt-4 md:mt-0",children:e.category}),a.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-sans font-black tracking-tight text-white mb-4 leading-tight uppercase",children:e.name}),a.jsxs("div",{className:"flex items-baseline gap-3 mb-6",children:[a.jsx("p",{className:"text-2xl font-bold text-white font-sans",children:k}),x&&a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-base text-gray-400 font-bold line-through font-sans",children:["",Os(p)]}),a.jsxs("span",{className:"text-[11px] font-bold text-pink-400 bg-pink-400/10 px-2 py-1 rounded-full",children:[v,"% OFF"]})]})]}),a.jsx("p",{className:"text-gray-300 text-[15px] font-sans mb-6 leading-relaxed max-w-md",children:e.description||"Premium quality materials engineered for the modern individual. Features a relaxed fit with structurally reinforced seams and a soft, breathable finish."}),i.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-200 font-sans font-bold",children:"Select Size"}),a.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-400 hover:text-white cursor-pointer underline underline-offset-4 transition-colors font-sans",children:"Size Guide"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(m=>a.jsx("button",{onClick:()=>l(m),className:`px-4 py-3 text-sm font-sans font-bold rounded-lg border transition-all duration-200 min-w-[52px] ${o===m?"bg-white border-white text-black":"bg-transparent border-white/20 text-white hover:border-white/60"}`,children:m},m))})]}),a.jsxs("div",{className:"mt-auto space-y-4",children:[a.jsx("button",{onClick:()=>{r({...e,size:o},s==null?void 0:s.id),n()},className:"w-full bg-white text-black py-4 rounded-full font-sans text-[13px] font-bold uppercase tracking-widest hover:bg-gray-200 transition-colors shadow-lg",children:"Add to Bag"}),a.jsxs("div",{className:"pt-4 border-t border-white/5 space-y-2",children:[g.map((m,y)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(m.icon,{size:15,className:m.color}),a.jsx("span",{className:`text-[11px] font-bold uppercase tracking-widest font-sans ${m.color}`,children:m.text})]},y)),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(In,{size:15,className:"text-gray-400"}),a.jsx("span",{className:"text-[11px] font-bold uppercase tracking-widest font-sans text-gray-400",children:"Authentic Product Guarantee"})]})]})]})]})]})]})]})}),document.body):null}const KE={NEW:"bg-emerald-500 text-white",HOT:"bg-red-500 text-white",SALE:"bg-pink-500 text-white",LIMITED:"bg-amber-500 text-white",BESTSELLER:"bg-violet-600 text-white","OUT OF STOCK":"bg-red-600 text-white","STOCK LIMITED":"bg-amber-600 text-white"};function GE({product:e}){wt(l=>l.addItem);const[t,n]=w.useState(!1),r=e.mrp&&e.mrp>e.price,s=r?Math.round((1-e.price/e.mrp)*100):0,i=l=>{const c=typeof l=="number"?Math.floor(l/100):parseInt(String(l).replace(/,/g,""),10);return isNaN(c)?l:c.toLocaleString("en-IN")},o=Array.isArray(e.sizes)?e.sizes:[];return a.jsxs(z.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.4},className:"group relative flex flex-col w-full bg-neon-gradient rounded-[18px] p-[2px] transition-all duration-300 hover:shadow-[0_15px_40px_rgba(255,255,255,0.06)]",children:[a.jsxs("div",{className:"w-full h-full bg-[#FAFAFA] rounded-[16px] p-4 flex flex-col",children:[a.jsxs("div",{className:"relative aspect-[4/5] mb-4 bg-gray-100 rounded-xl overflow-hidden shadow-inner cursor-pointer",onClick:()=>n(!0),children:[a.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover transition-transform duration-700 xl:group-hover:scale-[1.03]",onError:l=>{l.target.style.display="none",l.target.parentElement.style.background="#f3f4f6"}}),e.label&&a.jsx("div",{className:"absolute top-3 left-3 z-20",children:a.jsx("span",{className:`text-[10px] font-bold px-3 py-1.5 rounded-[4px] shadow tracking-widest uppercase ${KE[e.label]||"bg-black text-white"}`,children:e.label})}),r&&a.jsx("div",{className:"absolute top-3 right-3 z-20",children:a.jsxs("span",{className:"text-[10px] font-bold px-2 py-1.5 rounded-full bg-black/80 text-pink-400 shadow tracking-wider",children:["-",s,"%"]})}),a.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1/2 bg-gradient-to-t from-black/20 to-transparent opacity-100 lg:opacity-0 lg:group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"}),a.jsx("div",{className:"absolute bottom-4 left-4 right-4 z-20 translate-y-0 lg:translate-y-4 opacity-100 lg:opacity-0 lg:group-hover:translate-y-0 lg:group-hover:opacity-100 transition-all duration-300",children:a.jsx("button",{onClick:l=>{l.preventDefault(),l.stopPropagation(),n(!0)},className:"w-full bg-[#111111] text-white py-3.5 rounded-full font-sans text-[12px] font-bold uppercase tracking-widest hover:bg-black transition-colors shadow-lg",children:"Add to Bag"})})]}),a.jsxs("div",{className:"flex flex-col space-y-1.5 px-1",children:[a.jsxs("div",{className:"flex justify-between items-start gap-2",children:[a.jsxs("div",{className:"flex flex-col min-w-0",children:[a.jsx("span",{className:"text-[11px] text-gray-400 font-sans font-bold tracking-widest uppercase mb-0.5",children:e.category.split("|")[0].trim()}),a.jsx("h3",{className:"text-[15px] font-sans font-bold tracking-tight text-gray-900 leading-tight truncate",children:e.name})]}),a.jsxs("div",{className:"shrink-0 text-right",children:[a.jsxs("p",{className:"text-[19px] font-bold text-gray-900 font-sans leading-tight",children:["",i(e.price)]}),r&&a.jsxs("p",{className:"text-[13px] text-gray-400 font-bold line-through leading-none mt-0.5",children:["",i(e.mrp)]})]})]}),o.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:o.map(l=>a.jsx("span",{className:"text-[10px] font-bold text-gray-500 border border-gray-200 px-2 py-0.5 rounded uppercase tracking-wider",children:l},l))}),a.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-gray-500 uppercase tracking-widest font-sans font-bold mt-1",children:[a.jsx(In,{size:14,className:"text-gray-400"}),a.jsx("span",{children:"Authenticated"})]})]})]}),a.jsx(HE,{product:e,isOpen:t,onClose:()=>n(!1)})]})}const YE=["ALL","SHIRTS","HOODIES","PANTS","T-SHIRTS","OUTERWEAR","KNITWEAR","CUSTOM"];function JE(){var x;const[e,t]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState("ALL"),[o,l]=w.useState(""),[c,u]=w.useState("newest"),[d,h]=w.useState(!1);w.useEffect(()=>{async function v(){r(!0);const{data:k,error:g}=await V.from("products").select("*").eq("is_active",!0).order("id",{ascending:!1});g||t((k||[]).map(m=>({...m,price:Math.floor(m.price/100).toLocaleString("en-IN")}))),r(!1)}v()},[]);const f=[{id:"newest",label:"NEWEST"},{id:"price-low",label:"LOW PRICE"},{id:"price-high",label:"HIGH PRICE"}],p=w.useMemo(()=>e.filter(v=>{if(s==="ALL")return!0;const k=v.category.split(" | ")[0];return k.includes(s.replace(/S$/,""))||s.includes(k.replace(/S$/,""))}).filter(v=>v.name.toLowerCase().includes(o.toLowerCase())).sort((v,k)=>{const g=parseInt(v.price.replace(/,/g,"")),m=parseInt(k.price.replace(/,/g,""));return c==="price-low"?g-m:c==="price-high"?m-g:0}),[e,s,o,c]);return a.jsxs("div",{className:"pt-16 pb-24 px-6 md:px-8 max-w-[1400px] mx-auto min-h-screen relative overflow-hidden bg-black text-white",children:[a.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-cyan-900/10 rounded-full blur-[150px] -z-10"}),a.jsxs("div",{className:"mb-8 flex flex-col items-center text-center px-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(_i,{className:"text-cyan-400",size:16}),a.jsx("h2",{className:"text-[12px] uppercase tracking-widest text-cyan-400 font-bold font-sans",children:"Latest Drops"})]}),a.jsxs("h1",{className:"text-4xl md:text-6xl font-cyber mb-6 tracking-wide font-black uppercase",children:[a.jsx("span",{className:"text-white drop-shadow-md",children:"THE "}),a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-pink-400 via-purple-400 to-cyan-300 drop-shadow-sm",children:"COLLECTION"})]}),a.jsx("p",{className:"text-gray-300 text-[15px] tracking-wide max-w-xl mx-auto font-sans leading-relaxed",children:"Discover piece-unique luxury streetwear crafted for the modern individual. Curated essentials designed to elevate your everyday syntax."})]}),a.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-center gap-8 mb-16 border-b border-white/10 pb-6 sticky top-20 z-30 bg-black/80 backdrop-blur-xl px-4 py-4 rounded-xl shadow-[0_10px_30px_rgba(0,0,0,0.5)]",children:[a.jsx("div",{className:"flex flex-wrap gap-4 md:gap-8 w-full xl:w-auto",children:YE.map(v=>a.jsxs("button",{onClick:()=>i(v),className:`text-[12px] uppercase tracking-widest font-sans font-semibold transition-all relative pb-2 whitespace-nowrap ${s===v?"text-white":"text-gray-400 hover:text-gray-200"}`,children:[v,s===v&&a.jsx(z.div,{layoutId:"activeCat",className:"absolute bottom-0 left-0 right-0 h-[2px] bg-gradient-to-r from-cyan-400 to-purple-500"})]},v))}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full xl:w-auto shrink-0",children:[a.jsxs("div",{className:"relative w-full sm:w-64 group bg-white/5 rounded-full px-4 py-2 border border-white/10 focus-within:border-cyan-500/50 transition-colors",children:[a.jsx(Td,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-300 group-focus-within:text-cyan-400 transition-colors",size:16}),a.jsx("input",{type:"text",placeholder:"SEARCH...",value:o,onChange:v=>l(v.target.value),className:"w-full bg-transparent border-none pl-8 outline-none text-[12px] uppercase tracking-widest font-sans font-semibold text-white placeholder-gray-400"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>h(!d),className:"flex items-center gap-3 text-[12px] uppercase tracking-widest text-gray-300 font-sans font-semibold bg-[#111111] rounded-full px-5 py-3 border border-white/10 hover:border-cyan-500/50 hover:text-cyan-400 transition-colors",children:[a.jsx("span",{children:"Sort:"}),a.jsx("span",{className:"text-white font-bold w-[90px] text-left",children:(x=f.find(v=>v.id===c))==null?void 0:x.label}),a.jsx(ji,{size:16,className:`transition-transform duration-300 ${d?"rotate-180 text-cyan-400":"text-gray-300"}`})]}),a.jsx(je,{children:d&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>h(!1)}),a.jsx(z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute right-0 top-full mt-2 w-full min-w-[160px] bg-[#111111] border border-white/10 rounded-xl overflow-hidden shadow-[0_10px_40px_rgba(0,0,0,0.8)] z-50 py-2",children:f.map(v=>a.jsx("button",{onClick:()=>{u(v.id),h(!1)},className:`w-full text-left px-5 py-3 text-[12px] uppercase tracking-widest font-sans font-bold transition-colors ${c===v.id?"text-cyan-400 bg-white/5":"text-gray-300 hover:text-white hover:bg-white/5"}`,children:v.label},v.id))})]})})]})]})]}),n?a.jsx("div",{className:"flex justify-center items-center py-32",children:a.jsx(fx,{size:36,className:"text-cyan-400 animate-spin"})}):p.length>0?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 gap-y-12 pb-12",children:p.map(v=>a.jsx(GE,{product:v},v.id))}):a.jsxs("div",{className:"py-32 text-center rounded-2xl border border-white/5 bg-white/5 space-y-6 mx-4",children:[a.jsx(mo,{size:48,className:"mx-auto text-cyan-500/20"}),a.jsx("p",{className:"text-gray-300 tracking-widest uppercase text-[14px] font-sans font-semibold",children:"No items matched your search."}),a.jsx("button",{onClick:()=>{i("ALL"),l("")},className:"text-white text-[12px] uppercase tracking-widest font-sans font-bold hover:text-cyan-400 transition-colors border-b border-cyan-400/30 pb-1",children:"Reset Filters"})]})]})}function QE(){const{id:e}=w1(),t=wt(b=>b.addItem),n=Ve(b=>b.user),[r,s]=w.useState(null),[i,o]=w.useState(!0),[l,c]=w.useState(""),[u,d]=w.useState(0),[h,f]=w.useState("description"),p=["IT 38","IT 40","IT 42","IT 44","IT 46","IT 48","IT 50","IT 52"];w.useEffect(()=>{x(),window.scrollTo(0,0)},[e]);async function x(){o(!0);const{data:b}=await V.from("products").select("*").eq("id",e).single();s(b),o(!1)}if(i)return a.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:a.jsx("div",{className:"w-10 h-10 border border-black border-t-transparent rounded-full animate-spin"})});if(!r)return a.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center font-sans",children:[a.jsx("h1",{className:"text-2xl font-light tracking-wide mb-4",children:"Product Not Found"}),a.jsx(Q,{to:"/shop",className:"text-sm border-b border-black pb-1 hover:text-gray-500 hover:border-gray-500 transition-colors",children:"Return to Shop"})]});const v=b=>"$"+Math.floor(b/100).toLocaleString("en-US"),k=[r.image,r.image,r.image],g=r.price*1.54,m=Math.round((1-r.price/g)*100),y=b=>{f(h===b?null:b)},j=b=>b?b.split(/(refund policy|return policy)/i).map((E,T)=>E.toLowerCase()==="refund policy"||E.toLowerCase()==="return policy"?a.jsx(Q,{to:"/refund-policy",className:"text-black border-b border-black font-medium hover:text-gray-500 hover:border-gray-500 transition-colors",children:E},T):E):null,_="Brunello Cucinelli";return a.jsx("div",{className:"min-h-screen bg-white text-black font-sans selection:bg-black selection:text-white",children:a.jsxs("div",{className:"pt-28 pb-32 px-6 md:px-12 max-w-[1600px] mx-auto",children:[a.jsxs("nav",{className:"text-[11px] uppercase tracking-widest text-gray-500 mb-12 flex items-center gap-2",children:[a.jsx(Q,{to:"/",className:"hover:text-black transition-colors",children:"Home"}),a.jsx("span",{children:""}),a.jsx(Q,{to:"/shop",className:"hover:text-black transition-colors",children:"Designers"}),a.jsx("span",{children:""}),a.jsx(Q,{to:`/shop?brand=${_}`,className:"hover:text-black transition-colors",children:_.toLowerCase()}),a.jsx("span",{children:""}),a.jsx("span",{className:"text-black",children:r.name.toLowerCase()})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12 lg:gap-20",children:[a.jsxs("div",{className:"lg:col-span-7 flex flex-col-reverse md:flex-row gap-6",children:[a.jsx("div",{className:"flex md:flex-col gap-4 overflow-x-auto md:overflow-visible w-full md:w-20 shrink-0",children:k.map((b,S)=>a.jsx("button",{onClick:()=>d(S),className:`relative w-20 aspect-[3/4] overflow-hidden transition-all ${u===S?"border border-black":"border border-transparent opacity-60 hover:opacity-100"}`,children:a.jsx("img",{src:b,alt:`${r.name} view ${S+1}`,className:"w-full h-full object-cover object-center"})},S))}),a.jsx("div",{className:"flex-1 bg-[#f9f9f9] aspect-[3/4] relative overflow-hidden group",children:a.jsx(je,{mode:"wait",children:a.jsx(z.img,{src:k[u],alt:r.name,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"absolute inset-0 w-full h-full object-cover object-center"},u)})})]}),a.jsxs("div",{className:"lg:col-span-5 flex flex-col pt-4 lg:pr-10",children:[a.jsxs("div",{className:"mb-10",children:[a.jsx("h2",{className:"text-xl md:text-2xl font-normal tracking-wide mb-2 font-serif",children:_}),a.jsx("h1",{className:"text-sm text-gray-600 font-light tracking-wider capitalize mb-8",children:r.name.toLowerCase()}),a.jsxs("div",{className:"flex items-baseline gap-3 mb-2 font-sans font-medium",children:[a.jsx("span",{className:"text-sm line-through text-gray-400",children:v(g)}),a.jsx("span",{className:"text-xl",children:v(r.price)}),a.jsxs("span",{className:"text-[11px] text-[#A02020] ml-2",children:["(",m,"% OFF)"]})]}),a.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-widest leading-relaxed",children:"Duties and Taxes calculated at shipping page"})]}),a.jsxs("div",{className:"mb-12",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"relative w-full mr-4",children:[a.jsxs("select",{value:l,onChange:b=>c(b.target.value),className:"w-full appearance-none border border-black rounded-none py-3 px-4 text-xs tracking-wider outline-none focus:ring-1 focus:ring-black bg-transparent cursor-pointer",children:[a.jsx("option",{value:"",disabled:!0,children:"Select Size - Italian Sizing"}),p.map(b=>a.jsx("option",{value:b,children:b},b))]}),a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:a.jsx(ji,{size:14,className:"text-black"})})]}),a.jsx("button",{className:"text-[10px] uppercase font-medium border-b border-black tracking-widest shrink-0 hover:text-gray-500 hover:border-gray-500 transition-colors",children:"Size Guide"})]}),a.jsxs("div",{className:"flex gap-4 mt-6",children:[a.jsx("button",{onClick:()=>{if(!l)return alert("Please select a size");t({...r,quantity:1,size:l},n==null?void 0:n.id)},className:"flex-1 bg-black text-white hover:bg-gray-900 py-4 text-[11px] uppercase tracking-[0.2em] font-medium transition-colors cursor-pointer",children:"ADD TO BAG"}),a.jsx("button",{className:"w-14 shrink-0 flex items-center justify-center border border-transparent hover:border-gray-200 transition-colors","aria-label":"Add to Wishlist",children:a.jsx(Q1,{size:18,strokeWidth:1,className:"text-gray-400 hover:text-black transition-colors"})})]})]}),a.jsx("div",{className:"border-t border-gray-200 w-full mb-10",children:[{id:"description",title:"Description",content:r.description||"No description available for this item. Please contact our concierge for specific details regarding material and fit."},{id:"payment",title:"Payment Options",content:r.payment_options||"We accept all major credit cards, Apple Pay, PayPal, and Klarna financing."},{id:"shipping",title:"Delivery and Return Timeline",content:r.delivery_info||"Free express global shipping on all orders over $500. Returns accepted within 14 days of delivery provided the security tag remains intact."},{id:"authenticity",title:"Authenticity Guarantee",content:r.authenticity_guarantee||"Every item is verified by our team of luxury experts to ensure total authenticity before shipping to you."},{id:"offers",title:"Special Offers",content:r.special_offers||"Automatically applied at checkout when using an eligible premium credit card."}].map(b=>a.jsxs("div",{className:"border-b border-gray-200",children:[a.jsxs("button",{onClick:()=>y(b.id),className:"w-full flex items-center justify-between text-left focus:outline-none group py-5",children:[a.jsx("span",{className:`text-[10px] font-medium uppercase tracking-[0.15em] transition-colors ${h===b.id?"text-black":"text-gray-600 group-hover:text-black"}`,children:b.title}),a.jsx(ji,{size:14,className:`text-gray-400 transition-transform duration-300 ${h===b.id?"rotate-180 text-black":""}`})]}),a.jsx(je,{children:h===b.id&&a.jsx(z.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:a.jsx("div",{className:"pt-4 text-xs font-light text-gray-500 leading-relaxed whitespace-pre-line tracking-wide",children:j(b.content)})})})]},b.id))}),a.jsxs("div",{className:"mt-8 flex items-center gap-4",children:[a.jsx("span",{className:"text-[10px] font-medium tracking-widest uppercase",children:"Share:"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{className:"hover:opacity-60 transition-opacity",children:a.jsx(Y1,{size:12,fill:"currentColor"})}),a.jsx("button",{className:"hover:opacity-60 transition-opacity",children:a.jsx(hx,{size:12})}),a.jsx("button",{className:"hover:opacity-60 transition-opacity",children:a.jsx(yx,{size:12,fill:"currentColor"})})]})]})]})]})]})})}function XE({isOpen:e,onClose:t,userName:n}){return w.useEffect(()=>{if(!e)return;const r=setTimeout(t,4e3);return()=>clearTimeout(r)},[e,t]),a.jsx(je,{children:e&&a.jsxs(a.Fragment,{children:[a.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 z-[200] bg-black/60 backdrop-blur-sm"},"backdrop"),a.jsx(z.div,{initial:{opacity:0,scale:.88,y:30},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.92,y:20},transition:{duration:.45,ease:[.16,1,.3,1]},className:"fixed inset-0 z-[201] flex items-center justify-center px-6 pointer-events-none",children:a.jsxs("div",{className:"relative w-full max-w-[420px] rounded-3xl overflow-hidden pointer-events-auto shadow-[0_40px_100px_rgba(0,0,0,0.7)]",style:{background:"rgba(255,255,255,0.07)",backdropFilter:"blur(28px)",border:"1px solid rgba(255,255,255,0.13)"},children:[a.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-cyan-400 via-purple-500 to-pink-500"}),a.jsx("div",{className:"absolute top-0 left-0 w-48 h-48 bg-cyan-500/10 rounded-full blur-[80px] pointer-events-none"}),a.jsx("div",{className:"absolute bottom-0 right-0 w-48 h-48 bg-pink-500/10 rounded-full blur-[80px] pointer-events-none"}),a.jsxs("div",{className:"relative z-10 p-8 text-white",children:[a.jsx("button",{onClick:t,className:"absolute top-5 right-5 w-8 h-8 flex items-center justify-center rounded-full text-white/50 hover:text-white transition-colors",style:{background:"rgba(255,255,255,0.08)"},children:a.jsx(Rt,{size:16})}),a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center shadow-lg",style:{background:"linear-gradient(135deg, #22d3ee, #a855f7, #ec4899)"},children:a.jsx(on,{size:28,strokeWidth:1.8,className:"text-white"})})}),a.jsxs("div",{className:"text-center mb-5",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[a.jsx(mo,{size:14,className:"text-cyan-400"}),a.jsx("span",{className:"text-[11px] font-bold uppercase tracking-[0.3em] text-white/50",children:"Welcome Back"}),a.jsx(mo,{size:14,className:"text-pink-400"})]}),a.jsxs("h2",{className:"text-3xl font-black tracking-tight uppercase leading-tight",children:[a.jsx("span",{className:"text-white",children:"Welcome to "}),a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-300 via-purple-400 to-pink-400",children:"Vybe Threads"})]}),n&&a.jsx("p",{className:"text-white/60 text-sm mt-1 font-medium",children:n})]}),a.jsx("div",{className:"h-px w-full my-5",style:{background:"rgba(255,255,255,0.1)"}}),a.jsx("p",{className:"text-center text-white/70 text-sm leading-relaxed font-medium",children:"This is your wardrobe. Explore our latest drops, exclusive styles, and premium streetwear crafted for you."}),a.jsx("button",{onClick:t,className:"w-full mt-6 py-3.5 rounded-xl font-bold uppercase tracking-widest text-[13px] text-white transition-all hover:opacity-90 active:scale-[0.98]",style:{background:"linear-gradient(to right, #22d3ee, #a855f7, #ec4899)"},children:"Let's Shop "}),a.jsx("p",{className:"text-center text-white/25 text-[11px] mt-3 tracking-wide",children:"Closes automatically in a moment"})]})]})},"modal")]})})}function ZE(){const[e,t]=w.useState(!0),[n,r]=w.useState(!1),[s,i]=w.useState(""),[o,l]=w.useState(""),[c,u]=w.useState(""),[d,h]=w.useState(""),[f,p]=w.useState(!1),[x,v]=w.useState(""),k=Ft(),g=async m=>{m.preventDefault(),u(""),h(""),r(!0);try{if(e){const{error:y}=await V.auth.signInWithPassword({email:s,password:o});if(y){y.message.toLowerCase().includes("email not confirmed")?u("Your email is not confirmed yet. Please check your inbox and click the confirmation link."):y.message.toLowerCase().includes("invalid login")?u("Incorrect email or password. Please try again."):u(y.message);return}v(s),p(!0)}else{const{error:y}=await V.auth.signUp({email:s,password:o});if(y){u(y.message);return}h("Account created! Please check your email to confirm your account before logging in.")}}catch(y){u(y.message||"Something went wrong. Please try again.")}finally{r(!1)}};return a.jsxs(a.Fragment,{children:[a.jsx(XE,{isOpen:f,onClose:()=>{p(!1),k("/")},userName:x?x.split("@")[0]:""}),a.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden text-white bg-[#1A1A24] pt-24 pb-16",children:[a.jsx("div",{className:"absolute top-[-5%] left-[-5%] w-[500px] h-[500px] bg-cyan-500/10 rounded-full blur-[130px] pointer-events-none"}),a.jsx("div",{className:"absolute bottom-[-5%] right-[-5%] w-[600px] h-[600px] bg-pink-500/10 rounded-full blur-[130px] pointer-events-none"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[300px] h-[300px] bg-purple-600/10 rounded-full blur-[100px] pointer-events-none"}),a.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#ffffff06_1px,transparent_1px),linear-gradient(to_bottom,#ffffff06_1px,transparent_1px)] bg-[size:50px_50px] pointer-events-none"}),a.jsx(z.div,{initial:{opacity:0,y:20,scale:.97},animate:{opacity:1,y:0,scale:1},transition:{duration:.5,ease:"easeOut"},className:"w-full max-w-[430px] mx-6 relative z-10 rounded-3xl overflow-hidden shadow-[0_30px_80px_rgba(0,0,0,0.6)]",style:{background:"rgba(255,255,255,0.07)",backdropFilter:"blur(24px)",border:"1px solid rgba(255,255,255,0.12)"},children:a.jsxs("div",{className:"p-10 md:p-12",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("img",{src:No,alt:"Vybe Threads",className:"h-14 w-auto object-contain mix-blend-screen"})}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-black tracking-tight uppercase mb-2",children:e?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-white",children:"WELCOME "}),a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-300 to-purple-400",children:"BACK"})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-white",children:"CREATE "}),a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-pink-300 to-cyan-300",children:"ACCOUNT"})]})}),a.jsx("p",{className:"text-white/60 text-sm tracking-wide",children:e?"Enter your details to access your account.":"Join us to experience premium streetwear."})]}),c&&a.jsx("div",{className:"mb-4 p-3 rounded-xl text-sm font-medium bg-red-500/15 border border-red-500/30 text-red-300",children:c}),d&&a.jsx("div",{className:"mb-4 p-3 rounded-xl text-sm font-medium bg-emerald-500/15 border border-emerald-500/30 text-emerald-300",children:d}),a.jsxs("form",{onSubmit:g,className:"space-y-4",children:[a.jsxs("div",{className:"relative group",children:[a.jsx(mx,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/40 group-focus-within:text-cyan-400 transition-colors",size:18}),a.jsx("input",{type:"email",placeholder:"Email Address",value:s,onChange:m=>i(m.target.value),className:"w-full rounded-xl py-4 pl-12 pr-4 text-sm text-white outline-none transition-all placeholder:text-white/30",style:{background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.15)"},onFocus:m=>{m.target.style.background="rgba(255,255,255,0.13)",m.target.style.borderColor="rgba(103,232,249,0.5)"},onBlur:m=>{m.target.style.background="rgba(255,255,255,0.08)",m.target.style.borderColor="rgba(255,255,255,0.15)"},required:!0})]}),a.jsxs("div",{className:"relative group",children:[a.jsx(po,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/40 group-focus-within:text-pink-400 transition-colors",size:18}),a.jsx("input",{type:"password",placeholder:"Password",value:o,onChange:m=>l(m.target.value),className:"w-full rounded-xl py-4 pl-12 pr-4 text-sm text-white outline-none transition-all placeholder:text-white/30",style:{background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.15)"},onFocus:m=>{m.target.style.background="rgba(255,255,255,0.13)",m.target.style.borderColor="rgba(236,72,153,0.5)"},onBlur:m=>{m.target.style.background="rgba(255,255,255,0.08)",m.target.style.borderColor="rgba(255,255,255,0.15)"},required:!0})]}),a.jsx("button",{type:"submit",disabled:n,className:"w-full py-4 mt-2 font-bold text-[13px] uppercase tracking-widest rounded-xl transition-all flex items-center justify-center gap-3 disabled:opacity-60",style:{background:"linear-gradient(to right, #22d3ee, #a855f7, #ec4899)"},children:n?"Processing...":e?a.jsxs(a.Fragment,{children:["Sign In ",a.jsx(If,{size:16})]}):a.jsxs(a.Fragment,{children:["Create Account ",a.jsx(If,{size:16})]})})]}),a.jsx("div",{className:"mt-8 pt-6 border-t text-center",style:{borderColor:"rgba(255,255,255,0.1)"},children:a.jsxs("p",{className:"text-white/50 text-sm",children:[e?"Don't have an account?":"Already have an account?"," ",a.jsx("button",{onClick:()=>t(!e),className:"text-cyan-300 font-bold hover:text-white transition-colors",children:e?"Sign Up":"Log In"})]})})]})})]})]})}const Sm={background:"rgba(255,255,255,0.07)",backdropFilter:"blur(24px)",border:"1px solid rgba(255,255,255,0.12)"},dt=["w-full text-white px-5 py-4 rounded-2xl text-[15px] font-sans font-semibold tracking-wide","outline-none transition-all placeholder:text-white/30","focus:shadow-[0_0_0_3px_rgba(103,232,249,0.25)]"].join(" "),ft={background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.15)"},Ar={background:"rgba(255,255,255,0.13)",borderColor:"rgba(103,232,249,0.5)"},Nu="block text-[12px] font-bold text-white/50 uppercase tracking-widest mb-2 ml-1",Nm=[{label:"DETAILS",icon:Cd},{label:"DELIVERY",icon:Yt},{label:"PAYMENT",icon:Nd}];function eC(){const{cartItems:e,appliedCoupon:t,discount:n,applyCoupon:r,removeCoupon:s}=wt(),i=Ve(R=>R.user),[o,l]=w.useState(1),[c,u]=w.useState({email:"",firstName:"",lastName:"",address:"",city:"",state:"",pincode:"",phone:""}),[d,h]=w.useState(""),[f,p]=w.useState(!1),[x,v]=w.useState(""),[k,g]=w.useState(""),[m,y]=w.useState("standard"),[j,_]=w.useState([]),[b,S]=w.useState(null),[E,T]=w.useState(!0),[O,H]=w.useState(!1),[X,C]=w.useState("Home"),[q,se]=w.useState(!0);w.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[o]),w.useEffect(()=>{if(!i){T(!0),se(!1);return}V.from("user_addresses").select("*").eq("user_id",i.id).order("created_at",{ascending:!1}).then(({data:R,error:W})=>{W||!R||R.length===0?(T(!0),_([])):(_(R),S(R[0].id),u(Ot=>({...Ot,...R[0].data})),T(!1)),se(!1)}).catch(()=>{T(!0),se(!1)})},[i]);const ie=e.reduce((R,W)=>R+parseInt(String(W.price).replace(/,/g,""))*W.quantity,0),B=m==="express"?149:0,N=Math.max(0,ie+B-n),A=R=>u(W=>({...W,[R.target.name]:R.target.value})),D=()=>l(R=>Math.min(R+1,3)),Y=()=>l(R=>Math.max(R-1,1)),de=R=>{S(R.id),T(!1),u(W=>({...W,...R.data}))},cn=async()=>{E&&O&&i&&c.address&&await V.from("user_addresses").insert({user_id:i.id,label:X||"Home",data:{email:c.email,firstName:c.firstName,lastName:c.lastName,address:c.address,city:c.city,state:c.state,pincode:c.pincode,phone:c.phone}}),D()};async function Ue(){const R=d.trim().toUpperCase();if(!R)return;p(!0),v(""),g("");const{data:W,error:Ot}=await V.from("coupons").select("*").eq("code",R).single();if(Ot||!W){console.error("Coupon fetch error:",Ot),v("INVALID CODE"),p(!1);return}if(!W.is_active){v("INACTIVE CODE"),p(!1);return}if(W.expires_at&&new Date(W.expires_at)<new Date){v("EXPIRED CODE"),p(!1);return}if(W.min_order&&ie*100<W.min_order){v(`MIN. ORDER ${Math.floor(W.min_order/100)} REQUIRED`),p(!1);return}if(W.max_uses!=null&&W.uses_count>=W.max_uses){v("LIMIT REACHED"),p(!1);return}const xr=Math.min(W.type==="percent"?Math.round(ie*W.value/100):Math.floor(W.value/100),ie);r({id:W.id,code:W.code,type:W.type,value:W.value},xr),g(W.type==="percent"?`${W.value}% OFF APPLIED!`:`${xr} OFF APPLIED!`),p(!1)}function Vt(){s(),h(""),v(""),g("")}const qe=a.jsxs("div",{className:"space-y-6",children:[a.jsx(tc,{icon:Cd,n:1,children:"Delivery Address"}),!q&&j.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:Nu,children:"Your Saved Addresses"}),j.map(R=>{const W=b===R.id&&!E;return a.jsx("button",{type:"button",onClick:()=>de(R),className:"w-full text-left p-4 rounded-2xl transition-all",style:{background:W?"rgba(34,211,238,0.08)":"rgba(255,255,255,0.05)",border:`1px solid ${W?"rgba(34,211,238,0.5)":"rgba(255,255,255,0.1)"}`,boxShadow:W?"0 0 0 3px rgba(34,211,238,0.15)":"none"},children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"mt-0.5 flex-shrink-0 w-5 h-5 rounded-full border-2 flex items-center justify-center",style:{borderColor:W?"#22d3ee":"rgba(255,255,255,0.2)"},children:W&&a.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-cyan-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(X1,{size:12,className:"text-cyan-400 flex-shrink-0"}),a.jsx("span",{className:"text-[11px] font-black uppercase tracking-widest text-cyan-300",children:R.label})]}),a.jsxs("p",{className:"text-white text-[14px] font-semibold",children:[R.data.firstName," ",R.data.lastName]}),a.jsxs("p",{className:"text-white/50 text-[12px] mt-0.5 truncate",children:[R.data.address,", ",R.data.city,", ",R.data.state,"  ",R.data.pincode]}),a.jsx("p",{className:"text-white/40 text-[11px]",children:R.data.phone})]})]})},R.id)}),a.jsxs("button",{type:"button",onClick:()=>{T(!0),S(null)},className:"w-full flex items-center justify-center gap-2 py-3.5 rounded-2xl text-white/60 hover:text-white text-[12px] font-bold uppercase tracking-widest transition-all",style:{background:E?"rgba(168,85,247,0.08)":"rgba(255,255,255,0.04)",border:`1px dashed ${E?"rgba(168,85,247,0.5)":"rgba(255,255,255,0.15)"}`},children:[a.jsx(Vi,{size:14})," Add New Address"]})]}),a.jsx(je,{children:E&&a.jsxs(z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-5",children:[a.jsx(dn,{l:"Email Address",children:a.jsx("input",{type:"email",name:"email",placeholder:"sweet@example.com",value:c.email,onChange:A,className:dt})}),a.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[a.jsx(dn,{l:"First Name",children:a.jsx("input",{type:"text",name:"firstName",placeholder:"Arjun",value:c.firstName,onChange:A,className:dt})}),a.jsx(dn,{l:"Last Name",children:a.jsx("input",{type:"text",name:"lastName",placeholder:"Sharma",value:c.lastName,onChange:A,className:dt})})]}),a.jsx(dn,{l:"Street Address",children:a.jsx("input",{type:"text",name:"address",placeholder:"123 Peach Avenue",value:c.address,onChange:A,className:dt})}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx(dn,{l:"City",children:a.jsx("input",{type:"text",name:"city",placeholder:"Mumbai",value:c.city,onChange:A,className:dt})}),a.jsx(dn,{l:"State",children:a.jsx("input",{type:"text",name:"state",placeholder:"MH",value:c.state,onChange:A,className:dt})}),a.jsx(dn,{l:"PIN",children:a.jsx("input",{type:"text",name:"pincode",placeholder:"400001",value:c.pincode,onChange:A,className:dt})})]}),a.jsx(dn,{l:"Phone Number",children:a.jsx("input",{type:"tel",name:"phone",placeholder:"+91 00000 00000",value:c.phone,onChange:A,className:dt})}),i&&a.jsxs("div",{className:"pt-2",children:[a.jsxs("button",{type:"button",onClick:()=>H(R=>!R),className:"flex items-center gap-3 group w-fit",children:[a.jsx("div",{className:"w-5 h-5 rounded-md flex items-center justify-center transition-all flex-shrink-0",style:{background:O?"linear-gradient(135deg,#22d3ee,#a855f7)":"rgba(255,255,255,0.08)",border:`1px solid ${O?"transparent":"rgba(255,255,255,0.2)"}`},children:O&&a.jsx(Pl,{size:12,className:"text-white"})}),a.jsx("span",{className:"text-[12px] font-bold text-white/60 group-hover:text-white/90 transition-colors uppercase tracking-wide",children:"Save this address to my account"})]}),a.jsx(je,{children:O&&a.jsxs(z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 overflow-hidden",children:[a.jsx("label",{className:Nu,children:"Address Label"}),a.jsx("div",{className:"flex gap-2",children:["Home","Work","Other"].map(R=>a.jsx("button",{type:"button",onClick:()=>C(R),className:"px-4 py-2 rounded-xl text-[12px] font-bold uppercase tracking-wide transition-all",style:{background:X===R?"linear-gradient(135deg,#22d3ee,#a855f7)":"rgba(255,255,255,0.07)",border:`1px solid ${X===R?"transparent":"rgba(255,255,255,0.12)"}`,color:X===R?"#fff":"rgba(255,255,255,0.5)"},children:R},R))})]})})]})]},"new-addr-form")}),a.jsx("div",{className:"pt-4",children:a.jsxs(nc,{onClick:cn,children:["PROCEED TO DELIVERY ",a.jsx(Gt,{size:16})]})})]}),Re=a.jsxs("div",{className:"space-y-6",children:[a.jsx(tc,{icon:Yt,n:2,children:"Shipping Method"}),a.jsx(Cm,{formData:c,onEdit:Y}),a.jsxs("div",{className:"space-y-4 pt-2",children:[a.jsxs("label",{onClick:()=>y("standard"),className:`flex items-center justify-between p-5 rounded-2xl cursor-pointer transition-all shadow-sm ${m==="standard"?"border border-cyan-500/50 bg-cyan-900/10":"border border-white/10 bg-[#0a0a0a] opacity-70 hover:opacity-100 hover:border-white/30"}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-5 h-5 rounded-full flex-shrink-0 flex items-center justify-center ${m==="standard"?"border-4 border-cyan-400 bg-[#111111]":"border border-gray-600"}`}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-bold text-sm tracking-wide",children:"Standard Delivery"}),a.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"57 business days"})]})]}),a.jsx("span",{className:`font-bold text-xs px-3 py-1 rounded-full border tracking-widest ${m==="standard"?"bg-cyan-900/40 text-cyan-400 border-cyan-500/30":"text-gray-400 border-white/20"}`,children:"FREE"})]}),a.jsxs("label",{onClick:()=>y("express"),className:`flex items-center justify-between p-5 rounded-2xl cursor-pointer transition-all shadow-sm ${m==="express"?"border border-pink-500/50 bg-pink-900/10":"border border-white/10 bg-[#0a0a0a] opacity-70 hover:opacity-100 hover:border-white/30"}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-5 h-5 rounded-full flex-shrink-0 flex items-center justify-center ${m==="express"?"border-4 border-pink-400 bg-[#111111]":"border border-gray-600"}`}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-bold text-sm tracking-wide",children:"Express Delivery"}),a.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"12 business days"})]})]}),a.jsx("span",{className:`font-bold text-sm ${m==="express"?"text-pink-400":"text-gray-300"}`,children:"149"})]})]}),a.jsxs("div",{className:"flex gap-4 pt-4",children:[a.jsx(Em,{onClick:Y,children:"GO BACK"}),a.jsxs(nc,{onClick:D,flex2:!0,children:["PROCEED TO PAYMENT ",a.jsx(po,{size:15})]})]})]}),gr=a.jsxs("div",{className:"space-y-6",children:[a.jsx(tc,{icon:po,n:3,children:"Secure Payment"}),a.jsx(Cm,{formData:c,onEdit:()=>l(1),showMethod:!0}),a.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 text-xs font-bold tracking-widest uppercase bg-emerald-900/20 py-2.5 px-4 rounded-xl border border-emerald-500/20 w-fit",children:[a.jsx(In,{size:16,className:"text-emerald-400"}),"256-BIT SSL ENCRYPTED"]}),a.jsxs("div",{className:"rounded-2xl overflow-hidden",style:{border:"1px solid rgba(255,255,255,0.15)",background:"rgba(255,255,255,0.05)"},children:[a.jsx("div",{className:"flex items-center justify-between px-6 py-5 border-b",style:{borderColor:"rgba(255,255,255,0.1)",background:"rgba(255,255,255,0.05)"},children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-5 h-5 rounded-full border-4 border-cyan-400 bg-[#0a0a0a] flex-shrink-0"}),a.jsxs("span",{className:"text-white font-bold text-sm flex items-center gap-3 tracking-wide uppercase",children:[a.jsx(Nd,{size:18,className:"text-cyan-400"})," CREDIT / DEBIT CARD"]})]})}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsx("input",{type:"text",placeholder:"CARD NUMBER",maxLength:19,className:dt+" font-mono tracking-widest",style:ft,onFocus:R=>Object.assign(R.target.style,Ar),onBlur:R=>Object.assign(R.target.style,ft)}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("input",{type:"text",placeholder:"MM / YY",className:dt+" font-mono tracking-widest text-center",style:ft,onFocus:R=>Object.assign(R.target.style,Ar),onBlur:R=>Object.assign(R.target.style,ft)}),a.jsx("input",{type:"text",placeholder:"CVV",maxLength:4,className:dt+" font-mono tracking-widest text-center",style:ft,onFocus:R=>Object.assign(R.target.style,Ar),onBlur:R=>Object.assign(R.target.style,ft)})]}),a.jsx("input",{type:"text",placeholder:"NAME ON CARD",className:dt+" uppercase tracking-widest",style:ft,onFocus:R=>Object.assign(R.target.style,Ar),onBlur:R=>Object.assign(R.target.style,ft)})]})]}),a.jsx("label",{className:"flex items-center justify-between p-6 rounded-2xl cursor-pointer hover:opacity-90 transition-all",style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.12)"},children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-5 h-5 rounded-full border border-gray-600 flex-shrink-0"}),a.jsxs("span",{className:"text-white font-bold text-sm flex items-center gap-3 tracking-wide uppercase",children:[a.jsx(ak,{size:18,className:"text-gray-400"})," UPI / NET BANKING"]})]})}),a.jsxs("div",{className:"flex gap-4 pt-4",children:[a.jsx(Em,{onClick:Y,children:"BACK"}),a.jsxs(nc,{flex2:!0,children:["PAY ",N.toLocaleString("en-IN")," ",a.jsx(mo,{size:16})]})]})]});return a.jsxs("div",{className:"min-h-screen pt-28 pb-24 px-4 md:px-8 font-sans relative overflow-hidden text-white selection:bg-cyan-500/30 bg-[#1A1A24]",children:[a.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0",children:[a.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[50vw] h-[50vw] rounded-full bg-cyan-500/5 blur-[130px]"}),a.jsx("div",{className:"absolute top-[20%] right-[-5%] w-[40vw] h-[40vw] rounded-full bg-purple-500/5 blur-[120px]"}),a.jsx("div",{className:"absolute bottom-[-20%] left-[20%] w-[50vw] h-[50vw] rounded-full bg-pink-500/5 blur-[130px]"}),a.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#ffffff05_1px,transparent_1px),linear-gradient(to_bottom,#ffffff05_1px,transparent_1px)] bg-[size:50px_50px]"})]}),a.jsxs("div",{className:"max-w-[1240px] mx-auto relative z-10",children:[a.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-14 flex flex-col md:flex-row items-start md:items-end justify-between gap-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-[#111111] border border-white/10 shadow-sm rounded-full mb-6 text-cyan-400",children:[a.jsx(on,{size:14}),a.jsx("span",{className:"text-[11px] font-bold uppercase tracking-widest",children:"CHECKOUT"})]}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-black tracking-tight leading-none mb-3 text-white uppercase font-cyber",children:["Complete Your ",a.jsx("br",{}),a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-pink-400 via-purple-400 to-cyan-300",children:"Purchase"})]})]}),a.jsx("div",{className:"flex items-center gap-1 md:gap-2",children:Nm.map((R,W)=>{const Ot=W+1,xr=o===Ot,ks=o>Ot;return a.jsxs(kn.Fragment,{children:[a.jsxs("button",{onClick:()=>ks&&l(Ot),className:`flex flex-col items-center gap-2 transition-all group ${xr?"":ks?"cursor-pointer":"cursor-default opacity-50"}`,children:[a.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center transition-all duration-300 ${xr?"bg-white text-black shadow-[0_8px_20px_rgba(255,255,255,0.2)] scale-105":ks?"bg-[#111111] text-cyan-400 border border-cyan-500/30":"bg-transparent text-gray-500 border border-white/10"}`,children:ks?a.jsx(Pl,{size:20,className:"text-emerald-400"}):a.jsx(R.icon,{size:18})}),a.jsx("span",{className:`text-[11px] font-bold uppercase tracking-widest ${xr?"text-white":"text-gray-500"}`,children:R.label})]}),W<Nm.length-1&&a.jsx("div",{className:`h-[2px] w-8 md:w-16 self-start mt-6 transition-all duration-500 rounded-full ${ks?"bg-cyan-500":"bg-white/10"}`})]},R.label)})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 xl:gap-12 items-start",children:[a.jsx("div",{className:"lg:col-span-7",children:a.jsx("div",{className:"rounded-3xl p-6 md:p-10 relative overflow-hidden shadow-[0_30px_80px_rgba(0,0,0,0.4)]",style:Sm,children:a.jsx(je,{mode:"wait",children:a.jsxs(z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3,ease:"easeOut"},children:[o===1&&qe,o===2&&Re,o===3&&gr]},o)})})}),a.jsx("div",{className:"lg:col-span-5 sticky top-28",children:a.jsxs("div",{className:"rounded-3xl p-6 md:p-8 relative overflow-hidden shadow-[0_30px_80px_rgba(0,0,0,0.4)]",style:Sm,children:[a.jsxs("div",{className:"flex items-center justify-between mb-8 pb-5 border-b border-white/10",children:[a.jsx("h3",{className:"text-lg font-bold text-white tracking-wide uppercase",children:"Your Bag"}),a.jsxs("div",{className:"bg-white/5 text-gray-300 font-bold text-[11px] px-3 py-1.5 rounded-full border border-white/10 tracking-widest",children:[e.length," ITEM",e.length!==1?"S":""]})]}),a.jsx("div",{className:"space-y-5 max-h-[35vh] overflow-y-auto pr-2 mb-8 scrollbar-thin scrollbar-thumb-white/10 scrollbar-track-transparent",children:e.map(R=>{const W=parseInt(String(R.price).replace(/,/g,""));return a.jsxs("div",{className:"flex gap-4 group",children:[a.jsxs("div",{className:"relative w-24 h-28 flex-shrink-0 bg-black border border-white/10 rounded-2xl overflow-hidden p-1 shadow-sm",children:[a.jsx("img",{src:R.image,alt:R.name,className:"w-full h-full object-cover rounded-xl opacity-95 transition-transform duration-500 group-hover:scale-105",onError:Ot=>{Ot.target.style.display="none"}}),a.jsxs("div",{className:"absolute top-0 right-0 py-0.5 px-2 m-2 bg-white/90 text-black text-[10px] font-bold rounded-lg shadow-sm",children:["x",R.quantity]})]}),a.jsxs("div",{className:"flex-1 py-1 flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-white text-[15px] font-bold tracking-wide leading-snug",children:R.name}),a.jsxs("p",{className:"text-gray-400 text-[11px] uppercase tracking-widest mt-1",children:["Size: ",R.size]})]}),a.jsxs("div",{className:"text-gray-200 text-[15px] font-black tracking-widest",children:["",(W*R.quantity).toLocaleString("en-IN")]})]})]},R.cartItemId)})}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("p",{className:"text-[11px] font-bold uppercase tracking-widest text-gray-400 mb-3 flex items-center gap-2",children:[a.jsx(Pd,{size:14,className:"text-cyan-400"})," A GIFT FOR YOU"]}),t?a.jsxs(z.div,{initial:{opacity:0,scale:.96},animate:{opacity:1,scale:1},className:"flex items-center justify-between bg-emerald-900/10 border border-emerald-500/20 rounded-2xl px-5 py-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-emerald-500/10 p-2 rounded-full",children:a.jsx(Pl,{size:16,className:"text-emerald-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-emerald-400 text-sm font-black tracking-widest uppercase",children:t.code}),a.jsx("p",{className:"text-emerald-500/70 text-[10px] uppercase tracking-widest mt-0.5",children:k})]})]}),a.jsx("button",{onClick:Vt,className:"w-8 h-8 flex items-center justify-center rounded-full bg-white/5 text-gray-400 hover:bg-emerald-500 hover:text-white transition-colors",children:a.jsx(Rt,{size:14})})]}):a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:d,onChange:R=>{h(R.target.value.toUpperCase()),v("")},onKeyDown:R=>R.key==="Enter"&&Ue(),placeholder:"ENTER CODE",className:"flex-1 text-white px-5 py-3.5 rounded-2xl text-[13px] font-bold tracking-widest uppercase outline-none transition-all placeholder:text-white/30",style:ft,onFocus:R=>Object.assign(R.target.style,Ar),onBlur:R=>Object.assign(R.target.style,ft)}),a.jsx("button",{onClick:Ue,disabled:f||!d.trim(),className:"px-6 py-3.5 bg-white text-black text-[12px] font-black tracking-widest uppercase rounded-2xl hover:bg-gray-200 transition-all disabled:opacity-50 flex items-center gap-2 shadow-sm",children:f?a.jsx("div",{className:"w-4 h-4 border-2 border-black/30 border-t-black rounded-full animate-spin"}):"APPLY"})]}),a.jsx(je,{children:x&&a.jsxs(z.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0},className:"text-pink-400 text-[11px] mt-3 font-bold uppercase tracking-widest flex items-center gap-1.5 ml-1",children:[a.jsx(Rt,{size:12,className:"bg-pink-400/10 rounded-full p-0.5"})," ",x]})})]}),a.jsxs("div",{className:"space-y-4 text-sm p-6 rounded-2xl border",style:{background:"rgba(255,255,255,0.05)",borderColor:"rgba(255,255,255,0.1)"},children:[a.jsxs("div",{className:"flex justify-between text-gray-400",children:[a.jsx("span",{className:"uppercase tracking-widest text-[12px] font-bold",children:"SUBTOTAL"}),a.jsxs("span",{className:"font-sans font-semibold tracking-wide text-white",children:["",ie.toLocaleString("en-IN")]})]}),a.jsxs("div",{className:"flex justify-between text-gray-400",children:[a.jsx("span",{className:"uppercase tracking-widest text-[12px] font-bold",children:"SHIPPING"}),B===0?a.jsx("span",{className:"text-emerald-400 font-bold uppercase tracking-widest text-[12px]",children:"FREE"}):a.jsxs("span",{className:"font-sans font-semibold tracking-wide text-white",children:["",B]})]}),t&&a.jsxs(z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"flex justify-between text-emerald-400 border-t border-white/10 pt-4 mt-2",children:[a.jsxs("span",{className:"uppercase tracking-widest text-[12px] font-bold flex items-center gap-2",children:["DISCOUNT (",t.code,")"]}),a.jsxs("span",{className:"font-bold tracking-wide",children:["",n.toLocaleString("en-IN")]})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-white/10 flex items-end justify-between",children:[a.jsx("span",{className:"text-gray-400 text-[12px] font-bold uppercase tracking-widest",children:"TOTAL"}),a.jsxs("div",{className:"text-right",children:[t&&a.jsxs("p",{className:"text-gray-500 text-[12px] line-through font-sans mb-1 tracking-widest font-semibold",children:["",ie.toLocaleString("en-IN")]}),a.jsxs("span",{className:"text-4xl font-black text-white tracking-tighter",children:["",N.toLocaleString("en-IN")]})]})]})]})})]})]})]})}function tc({icon:e,n:t,children:n}){return a.jsxs("div",{className:"flex items-center gap-4 mb-4 pb-6 border-b border-white/10",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center flex-shrink-0",children:a.jsx(e,{size:20,className:"text-cyan-400"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-[11px] font-bold text-gray-500 uppercase tracking-widest mb-0.5",children:["STEP ",t," OF 3"]}),a.jsx("h2",{className:"text-xl font-bold text-white tracking-wide",children:n})]})]})}function dn({l:e,children:t}){return a.jsxs("div",{children:[a.jsx("label",{className:Nu,children:e}),kn.cloneElement(t,{style:ft,onFocus:n=>{Object.assign(n.target.style,Ar)},onBlur:n=>{Object.assign(n.target.style,ft)}})]})}function nc({onClick:e,children:t,flex2:n}){return a.jsx("button",{onClick:e,className:`${n?"flex-[2]":"w-full"} group relative overflow-hidden py-4 rounded-2xl text-white font-black text-[13px] flex items-center justify-center gap-3 uppercase tracking-widest transition-all hover:opacity-90 active:scale-[0.98]`,style:{background:"linear-gradient(to right, #22d3ee, #a855f7, #ec4899)"},children:a.jsx("span",{className:"relative z-10 flex items-center gap-2",children:t})})}function Em({onClick:e,children:t}){return a.jsx("button",{onClick:e,className:"flex-1 py-4 rounded-2xl text-white/60 font-bold text-[12px] uppercase tracking-widest hover:text-white transition-all flex items-center justify-center",style:{background:"rgba(255,255,255,0.07)",border:"1px solid rgba(255,255,255,0.12)"},children:t})}function Cm({formData:e,onEdit:t,showMethod:n}){return a.jsxs("div",{className:"rounded-2xl p-5 space-y-4 mb-2",style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[11px] font-bold uppercase tracking-widest text-gray-500 mb-1",children:"CONTACT PROFILE"}),a.jsx("p",{className:"text-gray-200 font-semibold text-[15px] tracking-wide",children:e.email||""})]}),a.jsx("button",{onClick:t,className:"text-[11px] font-bold uppercase tracking-widest text-cyan-400 hover:text-cyan-300 transition-colors border border-white/10 hover:border-white/30 bg-[#111111] rounded-xl px-4 py-2 shadow-sm",children:"EDIT"})]}),e.address&&a.jsxs("div",{className:"border-t border-white/10 pt-4",children:[a.jsx("p",{className:"text-[11px] font-bold uppercase tracking-widest text-gray-500 mb-1",children:"DELIVER TO"}),a.jsxs("p",{className:"text-gray-200 text-[15px] font-semibold tracking-wide",children:[e.address,e.city?`, ${e.city}`:""]})]}),n&&a.jsxs("div",{className:"border-t border-white/10 pt-4 flex justify-between items-end",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[11px] font-bold uppercase tracking-widest text-gray-500 mb-1",children:"METHOD"}),a.jsx("p",{className:"text-gray-200 text-[15px] tracking-wide font-bold",children:"Standard Delivery"})]}),a.jsx("span",{className:"text-cyan-400 font-bold text-[11px] tracking-widest border border-cyan-500/30 px-3 py-1 rounded-full bg-cyan-900/20 uppercase",children:"FREE"})]})]})}function tC(){const e=wt(v=>v.addItem),t=Ve(v=>v.user),n=Ft(),[r,s]=w.useState("HOODIE"),[i,o]=w.useState(null),[l,c]=w.useState(""),[u,d]=w.useState("#FFFFFF"),h=w.useRef(null),f={HOODIE:"https://images.unsplash.com/photo-1556821840-3a63f95609a7?auto=format&fit=crop&q=100&w=1000",TEE:"https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?auto=format&fit=crop&q=100&w=1000"},p=v=>{const k=v.target.files[0];if(k){const g=new FileReader;g.onload=m=>o(m.target.result),g.readAsDataURL(k)}},x=()=>{e({id:Date.now(),name:`CUSTOM ${r}`,price:r==="HOODIE"?"5,999":"3,499",category:"CUSTOM DESIGN",image:f[r],custom:{image:i,text:l,textColor:u},size:"M"},t==null?void 0:t.id),n("/cart")};return a.jsx("div",{className:"pt-32 pb-24 px-6 md:px-12 max-w-[1400px] mx-auto min-h-screen bg-[#050505] font-sans text-white",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-16 lg:gap-24 relative z-10",children:[a.jsxs("div",{className:"flex-1 space-y-10",children:[a.jsxs("div",{className:"relative aspect-square md:aspect-[4/5] bg-white/5 backdrop-blur-sm border border-white/10 flex items-center justify-center overflow-hidden rounded-lg",children:[a.jsx("img",{src:f[r],alt:"Mockup",className:"w-full h-full object-cover opacity-90 mix-blend-lighten"}),a.jsx("div",{className:"absolute top-[25%] left-[25%] right-[25%] bottom-[35%] border border-dashed border-white/20 flex items-center justify-center pointer-events-none rounded-2xl",children:a.jsx("span",{className:"absolute -top-6 left-1/2 -translate-x-1/2 text-[10px] text-gray-400 tracking-widest uppercase bg-black/50 px-3 py-1 rounded-full backdrop-blur-md",children:"Print Area"})}),a.jsx(je,{children:i&&a.jsx(z.div,{drag:!0,dragConstraints:{left:-100,right:100,top:-100,bottom:100},className:"absolute inset-x-0 inset-y-0 flex items-center justify-center cursor-move",children:a.jsxs("div",{className:"relative w-40 h-40",children:[a.jsx("img",{src:i,className:"w-full h-full object-contain drop-shadow-2xl",alt:"Custom Graphic"}),a.jsx("button",{onClick:()=>o(null),className:"absolute -top-3 -right-3 bg-red-500 text-white p-1.5 rounded-full shadow-lg hover:bg-red-600 transition-colors",children:a.jsx(hr,{size:14})})]})})}),l&&a.jsx(z.div,{drag:!0,className:"absolute inset-x-0 inset-y-0 flex items-center justify-center cursor-move pointer-events-none",children:a.jsx("h3",{className:"text-3xl font-bold drop-shadow-2xl pointer-events-auto mix-blend-difference",style:{color:u},children:l})})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>s("HOODIE"),className:`flex-1 py-4 text-xs tracking-widest uppercase transition-all rounded-full ${r==="HOODIE"?"bg-white text-black font-bold":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:"Heavy Hoodie"}),a.jsx("button",{onClick:()=>s("TEE"),className:`flex-1 py-4 text-xs tracking-widest uppercase transition-all rounded-full ${r==="TEE"?"bg-white text-black font-bold":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:"Core Tee"})]})]}),a.jsx("div",{className:"w-full lg:w-[450px]",children:a.jsxs("div",{className:"bg-[#0a0a0f] border border-indigo-500/20 rounded-[2rem] p-6 md:p-10 shadow-[0_0_30px_rgba(79,70,229,0.15)] relative overflow-hidden group flex flex-col h-full",children:[a.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500/10 rounded-full blur-3xl group-hover:bg-indigo-500/20 transition-colors duration-500 pointer-events-none"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-pink-500/10 rounded-full blur-3xl group-hover:bg-pink-500/20 transition-colors duration-500 pointer-events-none"}),a.jsx("div",{className:"absolute inset-0 border-[2px] border-transparent bg-gradient-to-br from-indigo-500/20 via-purple-500/0 to-pink-500/20 rounded-[2rem] [mask-image:linear-gradient(#fff_0_0)_content-box,linear-gradient(#fff_0_0)] [mask-composite:exclude] pointer-events-none opacity-50"}),a.jsxs("div",{className:"relative z-10 space-y-10",children:[a.jsxs("div",{className:"mb-2 border-b border-white/10 pb-8",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-light tracking-tight mb-2",children:"Studio"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Design your own premium apparel."})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("h3",{className:"text-sm tracking-wide flex items-center gap-3",children:[a.jsx("span",{className:"w-6 h-6 rounded-full bg-indigo-500/20 text-indigo-400 flex items-center justify-center text-xs font-bold border border-indigo-500/30",children:"1"})," Add Artwork"]}),a.jsxs("div",{onClick:()=>h.current.click(),className:"w-full aspect-[16/6] border-2 border-dashed border-indigo-500/30 hover:border-indigo-400 transition-all flex flex-col items-center justify-center cursor-pointer group bg-black/40 rounded-2xl shadow-[inset_0_0_20px_rgba(0,0,0,0.5)]",children:[a.jsx("input",{type:"file",ref:h,className:"hidden",accept:"image/*",onChange:p}),a.jsx(Ma,{className:"text-indigo-500/50 group-hover:text-indigo-400 transition-colors mb-3",size:24,strokeWidth:1.5}),a.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-widest group-hover:text-white transition-colors",children:"Upload Image"}),a.jsx("p",{className:"text-[10px] text-gray-500 mt-2",children:"PNG or JPG up to 10MB"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("h3",{className:"text-sm tracking-wide flex items-center gap-3",children:[a.jsx("span",{className:"w-6 h-6 rounded-full bg-indigo-500/20 text-indigo-400 flex items-center justify-center text-xs font-bold border border-indigo-500/30",children:"2"})," Add Typography"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{type:"text",placeholder:"Enter your text",value:l,onChange:v=>c(v.target.value),className:"w-full bg-black/50 border border-white/10 p-4 rounded-xl text-white focus:border-indigo-500/50 focus:bg-white/5 focus:outline-none transition-all placeholder:text-gray-500 focus:shadow-[0_0_15px_rgba(79,70,229,0.1)]"}),a.jsx("div",{className:"flex gap-4 p-4 bg-black/30 rounded-xl border border-white/5",children:["#FFFFFF","#FF0000","#0000FF","#00FF00","#000000"].map(v=>a.jsx("button",{onClick:()=>d(v),className:`w-10 h-10 rounded-full border transition-all ${u===v?"border-white scale-110 shadow-[0_0_15px_rgba(255,255,255,0.3)]":"border-white/20 hover:scale-105 opacity-80 shadow-md"}`,style:{backgroundColor:v}},v))})]})]}),a.jsxs("div",{className:"p-6 bg-black/40 border border-indigo-500/20 rounded-2xl space-y-6 mt-12 shadow-[0_10px_30px_rgba(0,0,0,0.5)]",children:[a.jsxs("div",{className:"flex justify-between items-center text-sm tracking-wide",children:[a.jsx("span",{className:"text-gray-400",children:"Customization Fee"}),a.jsx("span",{className:"text-indigo-400 font-medium tracking-wide",children:"Included"})]}),a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-widest text-gray-500",children:"Total Price"}),a.jsxs("span",{className:"text-3xl font-bold tracking-tight",children:[a.jsx("span",{className:"text-sm text-gray-500 mr-1 font-normal",children:"INR"}),"",r==="HOODIE"?"5,999":"3,499"]})]}),a.jsxs("div",{className:"pt-6 border-t border-white/10",children:[a.jsx("button",{className:"w-full py-4 bg-white text-black font-semibold hover:bg-gray-200 transition-colors rounded-full uppercase tracking-widest text-sm shadow-[0_0_20px_rgba(255,255,255,0.1)] hover:shadow-[0_0_30px_rgba(255,255,255,0.2)]",onClick:x,children:"Add to Bag"}),a.jsxs("div",{className:"flex items-center justify-center gap-2 text-[11px] tracking-wide text-gray-500 mt-4 uppercase font-semibold",children:[a.jsx(In,{size:14,className:"text-indigo-400"})," Created securely in-studio"]})]})]})]})]})})]})})}function nC(){const{cartItems:e,removeItem:t,updateQuantity:n}=wt(),r=Ve(i=>i.user),s=e.reduce((i,o)=>{const l=parseInt(o.price.replace(/,/g,""));return i+l*o.quantity},0);return e.length===0?a.jsxs("div",{className:"min-h-screen bg-black pt-40 pb-32 px-6 md:px-12 flex flex-col items-center font-sans",children:[a.jsx(on,{size:64,className:"text-gray-500 mb-8",strokeWidth:1}),a.jsx("h1",{className:"text-4xl tracking-widest uppercase text-white mb-4 font-black",children:"Your Bag is Empty"}),a.jsx("p",{className:"text-gray-400 text-center max-w-md mb-8 font-semibold tracking-wide",children:"Looks like you haven't added anything yet. Discover our latest arrivals."}),a.jsx(Q,{to:"/shop",children:a.jsxs("button",{className:"bg-white text-black py-4 px-8 uppercase tracking-widest text-sm font-black hover:bg-gray-200 transition-colors flex items-center gap-2 rounded-xl",children:["Continue Shopping ",a.jsx(Gt,{size:16})]})})]}):a.jsx("div",{className:"min-h-screen bg-black pt-32 pb-32 px-4 md:px-8 text-white font-sans selection:bg-cyan-500/30",children:a.jsxs("div",{className:"max-w-[1240px] mx-auto relative z-10",children:[a.jsxs("div",{className:"mb-14 border-b border-white/10 pb-6",children:[a.jsx("h1",{className:"text-5xl md:text-6xl font-black tracking-tight mb-3 uppercase",children:"Your Bag"}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-400 text-[13px] font-bold tracking-widest uppercase",children:[a.jsxs("span",{className:"text-cyan-400",children:[e.length," items"]}),a.jsx("span",{children:""}),a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(In,{size:16,className:"text-emerald-400"})," Secure Checkout"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-12",children:[a.jsxs("div",{className:"lg:col-span-8 space-y-4",children:[a.jsxs("div",{className:"hidden md:grid grid-cols-12 gap-6 pb-4 border-b border-white/10 text-[11px] font-bold text-gray-500 uppercase tracking-widest",children:[a.jsx("div",{className:"col-span-6",children:"Product"}),a.jsx("div",{className:"col-span-3 text-center",children:"Quantity"}),a.jsx("div",{className:"col-span-2 text-right",children:"Price"}),a.jsx("div",{className:"col-span-1"})]}),a.jsx(je,{children:e.map(i=>a.jsxs(z.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:"grid grid-cols-1 md:grid-cols-12 gap-6 items-center p-6 bg-[#0a0a0a] border border-white/10 rounded-2xl group hover:border-white/30 transition-all shadow-sm hover:shadow-cyan-500/10",children:[a.jsxs("div",{className:"md:hidden flex justify-between items-start w-full mb-2",children:[a.jsx("h3",{className:"text-sm font-bold tracking-wide text-white",children:i.name}),a.jsx("button",{onClick:()=>t(i.cartItemId,r==null?void 0:r.id),className:"text-gray-500 hover:text-pink-400 transition-colors p-1 bg-white/5 rounded-full",children:a.jsx(hr,{size:16})})]}),a.jsxs("div",{className:"col-span-6 flex items-center gap-5",children:[a.jsxs("div",{className:"w-24 md:w-28 aspect-[4/5] bg-black border border-white/10 rounded-xl relative overflow-hidden flex-shrink-0",children:[a.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-cover opacity-90 group-hover:opacity-100 transition-all group-hover:scale-105 duration-500"}),i.custom&&a.jsx("div",{className:"absolute top-2 left-2 bg-cyan-500 text-black text-[10px] font-black px-2 py-1 tracking-widest uppercase rounded",children:"Custom"})]}),a.jsxs("div",{className:"hidden md:block",children:[a.jsxs("div",{className:"flex gap-3 text-[11px] font-bold text-gray-400 uppercase tracking-widest mb-1.5",children:[a.jsx("span",{children:i.category.split("|")[0]}),a.jsxs("span",{className:"text-cyan-400",children:["Size: ",i.size]})]}),a.jsx("h3",{className:"text-lg font-bold tracking-wide text-white leading-tight",children:i.name}),i.custom&&a.jsxs("p",{className:"text-xs font-semibold text-gray-400 mt-2 line-clamp-2 bg-white/5 p-2 rounded-lg border border-white/10",children:['"',i.custom.text,'"']})]})]}),a.jsxs("div",{className:"md:hidden w-full flex justify-between items-center mb-4 bg-white/5 p-3 rounded-xl border border-white/5",children:[a.jsxs("div",{className:"text-[11px] font-bold text-gray-400 uppercase tracking-widest",children:["Size: ",a.jsx("span",{className:"text-cyan-400",children:i.size})]}),a.jsxs("div",{className:"text-lg font-black text-white tracking-widest",children:["",i.price]})]}),a.jsx("div",{className:"col-span-3 flex justify-start md:justify-center items-center",children:a.jsxs("div",{className:"flex items-center gap-4 bg-[#111111] border border-white/10 p-2 rounded-xl px-4 select-none",children:[a.jsx("button",{onClick:()=>n(i.cartItemId,Math.max(1,i.quantity-1),r==null?void 0:r.id),className:"text-gray-400 hover:text-white hover:bg-white/10 p-1 rounded-lg transition-all",children:a.jsx(gx,{size:14})}),a.jsx("span",{className:"w-6 text-center text-[15px] font-bold text-white tracking-widest",children:i.quantity}),a.jsx("button",{onClick:()=>n(i.cartItemId,i.quantity+1,r==null?void 0:r.id),className:"text-gray-400 hover:text-white hover:bg-white/10 p-1 rounded-lg transition-all",children:a.jsx(Vi,{size:14})})]})}),a.jsx("div",{className:"col-span-2 hidden md:block text-right",children:a.jsxs("span",{className:"text-lg font-black text-gray-200 tracking-widest",children:["",(parseInt(i.price.replace(/,/g,""))*i.quantity).toLocaleString("en-IN")]})}),a.jsx("div",{className:"col-span-1 hidden md:flex justify-end",children:a.jsx("button",{onClick:()=>t(i.cartItemId,r==null?void 0:r.id),className:"text-gray-500 hover:text-pink-400 bg-white/5 hover:bg-pink-400/10 p-2 rounded-full transition-all",children:a.jsx(Rt,{size:18})})})]},i.cartItemId))})]}),a.jsx("div",{className:"lg:col-span-4 w-full",children:a.jsxs("div",{className:"bg-[#111111] border border-white/10 p-8 rounded-3xl sticky top-32 shadow-[0_15px_40px_rgba(0,0,0,0.5)]",children:[a.jsx("h3",{className:"text-[15px] font-bold tracking-widest uppercase text-white mb-6 border-b border-white/10 pb-4",children:"Order Summary"}),a.jsxs("div",{className:"space-y-5 text-[15px] tracking-wide font-semibold",children:[a.jsxs("div",{className:"flex justify-between items-center text-gray-400",children:[a.jsx("span",{className:"uppercase text-[12px] tracking-widest",children:"Subtotal"}),a.jsxs("span",{className:"text-white tracking-widest",children:["",s.toLocaleString("en-IN")]})]}),a.jsxs("div",{className:"flex justify-between items-center text-gray-400",children:[a.jsx("span",{className:"uppercase text-[12px] tracking-widest",children:"Shipping"}),a.jsx("span",{className:"text-emerald-400 tracking-widest",children:"FREE"})]}),a.jsxs("div",{className:"pt-6 mt-6 border-t border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-end mb-8",children:[a.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Total"}),a.jsxs("span",{className:"text-3xl font-black tracking-tighter text-white",children:["",s.toLocaleString("en-IN")]})]}),a.jsx(Q,{to:"/checkout",className:"block w-full",children:a.jsxs("button",{className:"w-full py-5 bg-white text-black hover:bg-gray-200 text-[13px] font-black uppercase tracking-widest transition-all rounded-2xl flex justify-center items-center gap-3 group active:scale-[0.98]",children:[a.jsx("span",{children:"Proceed to Checkout"}),a.jsx(Gt,{size:16,className:"group-hover:translate-x-1 transition-transform"})]})}),a.jsxs("div",{className:"flex items-center justify-center gap-2 text-[11px] font-bold uppercase tracking-widest text-emerald-400/70 mt-6 bg-emerald-900/10 py-3 rounded-xl border border-emerald-500/10",children:[a.jsx(In,{size:14,className:"text-emerald-400"})," Secure Encrypted Payment"]})]})]})]})})]})]})})}const Tm=[{label:"Streetwear Hoodie",text:"Premium quality heavyweight hoodie crafted for the urban explorer. Features a relaxed fit, kangaroo pocket, and bold graphic print. Perfect for layering."},{label:"Graphic Tee",text:"Ultra-soft 100% cotton tee with a vibrant signature print. Lightweight, breathable fabric designed for everyday wear and maximum comfort."},{label:"Cargo Pants",text:"Multi-pocket cargo pants built for style and utility. Relaxed tapered fit with adjustable drawstring waist. Durable ripstop fabric."},{label:"Bomber Jacket",text:"Sleek satin-finish bomber with ribbed cuffs and hem. A versatile outerwear staple that transitions seamlessly from day to night."},{label:"Knitwear",text:"Cozy knit construction with a modern relaxed silhouette. Soft yarn blend that keeps you warm without the bulk. Ideal for layering."},{label:"Custom",text:""}],rC=["XS","S","M","L","XL","XXL","Free Size"],Pm=[{value:"",label:"None"},{value:"NEW",label:" NEW"},{value:"HOT",label:" HOT"},{value:"SALE",label:" SALE"},{value:"LIMITED",label:" LIMITED"},{value:"BESTSELLER",label:" BESTSELLER"},{value:"OUT OF STOCK",label:" OUT OF STOCK"},{value:"STOCK LIMITED",label:" STOCK LIMITED"},{value:"OTHER",label:" Other (Custom)"}],sC={NEW:"bg-emerald-500 text-white",HOT:"bg-red-500 text-white",SALE:"bg-pink-500 text-white",LIMITED:"bg-amber-500 text-white",BESTSELLER:"bg-violet-600 text-white","OUT OF STOCK":"bg-red-600 text-white","STOCK LIMITED":"bg-amber-600 text-white"},Am="Free express global shipping on all orders over $500. Returns accepted within 14 days of delivery provided the security tag remains intact.",Rm="We accept all major credit cards, Apple Pay, PayPal, and Klarna financing.",Om="Every item is verified by our team of luxury experts to ensure total authenticity before shipping.",Im="Automatically applied at checkout when using an eligible premium credit card.",Ze="w-full bg-slate-50 border-[1.5px] border-slate-200 text-slate-800 px-3.5 py-2.5 rounded-xl text-sm outline-none transition focus:border-pink-400 focus:bg-white placeholder:text-slate-400",He="block text-[11px] font-semibold text-slate-500 uppercase tracking-wider mb-1.5";function iC({editing:e,onClose:t,onSaved:n}){let r="",s="";e!=null&&e.label&&(Pm.some(C=>C.value===e.label)?r=e.label:(r="OTHER",s=e.label));const o=e?{name:e.name,price:String(Math.floor(e.price/100)),mrp:e.mrp?String(Math.floor(e.mrp/100)):"",category:e.category,image:e.image,description:e.description||"",is_active:e.is_active,is_featured:e.is_featured,sizes:e.sizes||[],labelSelect:r,labelCustom:s,track_stock:e.track_stock||!1,stock_quantity:e.stock_quantity!=null?String(e.stock_quantity):"",delivery_info:e.delivery_info||Am,payment_options:e.payment_options||Rm,authenticity_guarantee:e.authenticity_guarantee||Om,special_offers:e.special_offers||Im}:{name:"",price:"",mrp:"",category:"",image:"",description:"",is_active:!0,is_featured:!1,sizes:[],labelSelect:"",labelCustom:"",track_stock:!1,stock_quantity:"",delivery_info:Am,payment_options:Rm,authenticity_guarantee:Om,special_offers:Im},[l,c]=w.useState(o),[u,d]=w.useState("url"),[h,f]=w.useState(!1),[p,x]=w.useState((e==null?void 0:e.image)||""),[v,k]=w.useState("Custom"),[g,m]=w.useState(!1),[y,j]=w.useState(""),_=w.useRef(),b=(C,q)=>c(se=>({...se,[C]:q})),S=C=>{b("sizes",l.sizes.includes(C)?l.sizes.filter(q=>q!==C):[...l.sizes,C])};async function E(C){const q=C.target.files[0];if(!q)return;f(!0);const se=q.name.split(".").pop(),ie=`products/${Date.now()}.${se}`,{error:B}=await V.storage.from("product-images").upload(ie,q,{upsert:!0});if(B){j("Image upload failed: "+B.message),f(!1);return}const{data:{publicUrl:N}}=V.storage.from("product-images").getPublicUrl(ie);x(N),b("image",N),f(!1)}function T(C){k(C);const q=Tm.find(se=>se.label===C);q&&C!=="Custom"&&b("description",q.text)}async function O(C){C.preventDefault(),m(!0),j("");const q=l.labelSelect==="OTHER"?l.labelCustom.toUpperCase():l.labelSelect,se={name:l.name.trim(),price:Math.round(parseFloat(l.price)*100),mrp:l.mrp?Math.round(parseFloat(l.mrp)*100):null,category:l.category.trim(),image:l.image.trim(),description:l.description.trim(),is_active:l.is_active,is_featured:l.is_featured,sizes:l.sizes,label:q||null};let ie,B;if(e)({error:ie}=await V.from("products").update(se).eq("id",e.id)),B=e.id;else{const{data:N,error:A}=await V.from("products").insert(se).select("id").single();ie=A,B=N==null?void 0:N.id}if(ie){m(!1),j(ie.message||"Save failed  check Supabase RLS policies.");return}if(B){const N={track_stock:l.track_stock,stock_quantity:l.track_stock&&l.stock_quantity!==""?parseInt(l.stock_quantity):null,delivery_info:l.delivery_info,payment_options:l.payment_options,authenticity_guarantee:l.authenticity_guarantee,special_offers:l.special_offers},{error:A}=await V.from("products").update(N).eq("id",B);A&&console.log(A)}m(!1),n()}const H=u==="upload"?p:l.image,X=l.labelSelect==="OTHER"?l.labelCustom.toUpperCase():l.labelSelect;return a.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm",onClick:t,children:a.jsxs(z.div,{initial:{scale:.95,y:10},animate:{scale:1,y:0},exit:{scale:.95,y:10},className:"w-full max-w-4xl bg-white rounded-2xl shadow-2xl border border-slate-200 overflow-hidden max-h-[92vh] flex flex-col",onClick:C=>C.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between px-7 py-4 border-b border-slate-100 bg-gradient-to-r from-pink-50 to-violet-50 shrink-0",children:[a.jsx("h3",{className:"font-bold text-slate-800",children:e?"Edit Product":"Add New Product"}),a.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 p-1.5 hover:bg-white rounded-lg transition-colors",children:a.jsx(Rt,{size:18})})]}),y&&a.jsxs("div",{className:"mx-6 mt-4 shrink-0 flex items-start gap-3 bg-red-50 border border-red-200 text-red-700 text-sm px-4 py-3 rounded-xl",children:[a.jsx(Wo,{size:16,className:"shrink-0 mt-0.5"}),a.jsx("span",{children:y})]}),a.jsxs("div",{className:"flex flex-col md:flex-row overflow-hidden flex-1",children:[a.jsxs("form",{onSubmit:O,className:"overflow-y-auto flex-1 p-6 space-y-5 border-r border-slate-100",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:He,children:"Product Name *"}),a.jsx("input",{required:!0,value:l.name,onChange:C=>b("name",C.target.value),className:Ze,placeholder:"NEON GLITCH HOODIE"})]}),a.jsxs("div",{children:[a.jsx("label",{className:He,children:"Category *"}),a.jsx("input",{required:!0,value:l.category,onChange:C=>b("category",C.target.value),className:Ze,placeholder:"HOODIE | V2.0"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:He,children:"MRP / Original ()"}),a.jsx("input",{type:"number",min:"1",value:l.mrp,onChange:C=>b("mrp",C.target.value),className:Ze,placeholder:"5999 (optional)"}),a.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:"Crossed out visually"})]}),a.jsxs("div",{children:[a.jsx("label",{className:He,children:"Offer Price () *"}),a.jsx("input",{required:!0,type:"number",min:"1",value:l.price,onChange:C=>b("price",C.target.value),className:Ze,placeholder:"4999"}),a.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:"Final selling price"})]})]}),a.jsxs("div",{className:"border border-indigo-100 rounded-xl p-4 bg-indigo-50/50",children:[a.jsx("label",{className:He,children:"Badge / Label"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("select",{value:l.labelSelect,onChange:C=>b("labelSelect",C.target.value),className:Ze,children:Pm.map(C=>a.jsx("option",{value:C.value,children:C.label},C.value))}),l.labelSelect==="OTHER"&&a.jsx("input",{type:"text",value:l.labelCustom,onChange:C=>b("labelCustom",C.target.value),className:Ze,placeholder:"e.g. COLLAB",autoFocus:!0})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:He,children:"Product Image *"}),a.jsx("div",{className:"flex rounded-lg overflow-hidden border border-slate-200 text-xs font-semibold",children:["url","upload"].map(C=>a.jsxs("button",{type:"button",onClick:()=>d(C),className:`px-3 py-1.5 flex items-center gap-1 transition-colors ${u===C?"bg-pink-500 text-white":"bg-white text-slate-500 hover:bg-slate-50"}`,children:[C==="url"?a.jsx(Z1,{size:12}):a.jsx(Ma,{size:12}),C==="url"?"URL":"Upload"]},C))})]}),u==="url"?a.jsx("input",{required:u==="url",value:l.image,onChange:C=>b("image",C.target.value),className:Ze,placeholder:"https://"}):a.jsxs("div",{children:[a.jsx("input",{type:"file",ref:_,accept:"image/*",onChange:E,className:"hidden"}),a.jsx("button",{type:"button",onClick:()=>{var C;return(C=_.current)==null?void 0:C.click()},disabled:h,className:"w-full border-2 border-dashed border-slate-200 rounded-xl py-7 flex flex-col items-center gap-2 text-sm text-slate-400 hover:border-pink-300 hover:text-pink-500 hover:bg-pink-50 transition-all disabled:opacity-50",children:h?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-pink-500 border-t-transparent rounded-full animate-spin"}),"Uploading"]}):a.jsxs(a.Fragment,{children:[a.jsx(Ma,{size:20}),"Click to upload",a.jsx("span",{className:"text-xs",children:"PNG, JPG, WEBP"})]})})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:He,children:"Main Description"}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:v,onChange:C=>T(C.target.value),className:"text-[10px] border border-slate-200 rounded-md px-2 py-1 bg-white text-slate-600 outline-none cursor-pointer appearance-none pr-5",children:Tm.map(C=>a.jsx("option",{value:C.label,children:C.label},C.label))}),a.jsx(ji,{size:10,className:"absolute right-1.5 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]})]}),a.jsx("textarea",{rows:2,value:l.description,onChange:C=>{b("description",C.target.value),k("Custom")},className:Ze+" resize-none",placeholder:"General product description..."})]}),a.jsxs("div",{className:"border-t border-slate-200 pt-5 space-y-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-800",children:"Details Accordions"}),a.jsx("p",{className:"text-[11px] text-slate-500",children:"Customize the text that appears in the dropdown accordions for this specific product."}),a.jsxs("div",{children:[a.jsx("label",{className:He,children:"Delivery & Return Timeline"}),a.jsx("textarea",{rows:2,value:l.delivery_info,onChange:C=>b("delivery_info",C.target.value),className:Ze+" resize-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:He,children:"Payment Options"}),a.jsx("textarea",{rows:2,value:l.payment_options,onChange:C=>b("payment_options",C.target.value),className:Ze+" resize-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:He,children:"Authenticity Guarantee"}),a.jsx("textarea",{rows:2,value:l.authenticity_guarantee,onChange:C=>b("authenticity_guarantee",C.target.value),className:Ze+" resize-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:He,children:"Special Offers & Discounts"}),a.jsx("textarea",{rows:2,value:l.special_offers,onChange:C=>b("special_offers",C.target.value),className:Ze+" resize-none"})]})]}),a.jsxs("div",{className:"border border-slate-200 rounded-xl p-4 bg-slate-50/70",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Stock Management"}),a.jsx("p",{className:"text-[10px] text-slate-400 mt-0.5",children:"Track inventory for this product"})]}),a.jsx("div",{onClick:()=>b("track_stock",!l.track_stock),className:`w-10 h-5 rounded-full relative cursor-pointer transition-colors ${l.track_stock?"bg-emerald-500":"bg-slate-200"}`,children:a.jsx("div",{className:`absolute top-1 w-3 h-3 bg-white rounded-full shadow transition-all ${l.track_stock?"left-6":"left-1"}`})})]}),l.track_stock&&a.jsx("div",{className:"grid grid-cols-2 gap-3 mt-3",children:a.jsxs("div",{children:[a.jsx("label",{className:He,children:"Quantity in Stock"}),a.jsx("input",{type:"number",min:"0",value:l.stock_quantity,onChange:C=>b("stock_quantity",C.target.value),className:Ze,placeholder:"e.g. 50"})]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:He,children:"Available Sizes"}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:rC.map(C=>a.jsx("button",{type:"button",onClick:()=>S(C),className:`px-3 py-1.5 rounded-lg text-[11px] font-bold border transition-all ${l.sizes.includes(C)?"bg-black border-black text-white shadow-sm":"bg-white border-slate-200 text-slate-500 hover:border-black hover:text-black"}`,children:C},C))})]}),a.jsx("div",{className:"flex gap-8 pt-1",children:[{key:"is_featured",label:"Featured in Carousel",on:"bg-amber-400"},{key:"is_active",label:"Active / Visible",on:"bg-emerald-500"}].map(C=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{onClick:()=>b(C.key,!l[C.key]),className:`w-10 h-5 rounded-full relative cursor-pointer transition-colors ${l[C.key]?C.on:"bg-slate-200"}`,children:a.jsx("div",{className:`absolute top-1 w-3 h-3 bg-white rounded-full shadow transition-all ${l[C.key]?"left-6":"left-1"}`})}),a.jsx("p",{className:"text-xs font-medium text-slate-700",children:C.label})]},C.key))})]}),a.jsxs("div",{className:"w-full md:w-80 bg-slate-50 flex flex-col",children:[a.jsxs("div",{className:"flex-1 p-6 overflow-y-auto hidden md:block",children:[a.jsx("label",{className:He,children:"Storefront Card Preview"}),a.jsxs("div",{className:"bg-white rounded-[16px] shadow-sm p-4 w-full aspect-[4/5] flex flex-col border border-slate-200 relative mb-4 pointer-events-none mt-2",children:[a.jsxs("div",{className:"relative aspect-[4/5] mb-4 bg-gray-100 rounded-xl overflow-hidden shadow-inner",children:[H?a.jsx("img",{src:H,alt:"preview",className:"w-full h-full object-cover"}):a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-slate-400 bg-slate-100",children:[a.jsx(Ma,{size:24,className:"mb-2 opacity-50"}),a.jsx("span",{className:"text-[10px] uppercase tracking-widest",children:"No Image"})]}),X&&a.jsx("div",{className:"absolute top-3 left-3 z-20",children:a.jsx("span",{className:`text-[9px] font-bold px-2 py-1 rounded-[4px] shadow tracking-widest uppercase ${sC[X]||"bg-black text-white"}`,children:X})})]}),a.jsxs("div",{className:"flex flex-col space-y-1 px-1",children:[a.jsx("span",{className:"text-[10px] text-gray-400 font-sans font-bold tracking-widest uppercase truncate",children:l.category||"CATEGORY"}),a.jsx("h3",{className:"text-[13px] font-sans font-bold tracking-tight text-gray-900 leading-tight truncate",children:l.name||"Product Name"}),a.jsxs("p",{className:"text-[15px] font-bold text-gray-900 font-sans leading-tight mt-1",children:["",l.price||"0"]})]})]}),a.jsx("p",{className:"text-[10px] text-slate-400 text-center uppercase tracking-widest",children:"How customers will see it"})]}),a.jsx("div",{className:"p-6 bg-white border-t border-slate-200",children:a.jsx("button",{onClick:O,disabled:g,className:"w-full py-4 bg-black text-white text-xs uppercase tracking-widest font-bold rounded-xl hover:bg-gray-900 active:scale-[0.98] transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:g?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving"]}):a.jsxs(a.Fragment,{children:[a.jsx(fo,{size:16}),e?"Update Product":"Save Product"]})})})]})]})]})})}const Sr="w-full bg-slate-50 border-[1.5px] border-slate-200 text-slate-800 px-3.5 py-2.5 rounded-xl text-sm outline-none transition focus:border-pink-400 focus:bg-white placeholder:text-slate-400",Nr="block text-[11px] font-semibold text-slate-500 uppercase tracking-wider mb-1.5",Lm={code:"",type:"percent",value:"",min_order:"",max_uses:"",expires_at:"",is_active:!0};function aC(){const[e,t]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState(!1),[o,l]=w.useState(null),[c,u]=w.useState(Lm),[d,h]=w.useState(!1),[f,p]=w.useState(null);w.useEffect(()=>{x()},[]);async function x(){r(!0);const{data:b}=await V.from("coupons").select("*").order("created_at",{ascending:!1});t(b||[]),r(!1)}const v=()=>{l(null),u(Lm),i(!0)},k=b=>{l(b),u({code:b.code,type:b.type,value:String(b.type==="flat"?Math.floor(b.value/100):b.value),min_order:b.min_order?String(Math.floor(b.min_order/100)):"",max_uses:b.max_uses?String(b.max_uses):"",expires_at:b.expires_at?b.expires_at.slice(0,10):"",is_active:b.is_active}),i(!0)},g=(b,S)=>u(E=>({...E,[b]:S}));async function m(b){b.preventDefault(),h(!0);const S={code:c.code.trim().toUpperCase(),type:c.type,value:c.type==="flat"?Math.round(parseFloat(c.value)*100):parseInt(c.value),min_order:c.min_order?Math.round(parseFloat(c.min_order)*100):0,max_uses:c.max_uses?parseInt(c.max_uses):null,expires_at:c.expires_at||null,is_active:c.is_active};o?await V.from("coupons").update(S).eq("id",o.id):await V.from("coupons").insert(S),h(!1),i(!1),x()}async function y(b){await V.from("coupons").delete().eq("id",b),p(null),x()}const j=b=>{V.from("coupons").update({is_active:!b.is_active}).eq("id",b.id),t(S=>S.map(E=>E.id===b.id?{...E,is_active:!E.is_active}:E))},_=b=>b.type==="percent"?`${b.value}% OFF`:`${Math.floor(b.value/100)} OFF`;return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Coupon Codes"}),a.jsxs("p",{className:"text-xs text-slate-400 mt-0.5",children:[e.length," coupons  ",e.filter(b=>b.is_active).length," active"]})]}),a.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-pink-500 to-violet-600 text-white text-sm font-semibold rounded-xl shadow-md shadow-pink-100 hover:opacity-90 active:scale-95 transition-all",children:[a.jsx(Vi,{size:15})," New Coupon"]})]}),n?a.jsx("div",{className:"flex justify-center py-20",children:a.jsx("div",{className:"w-8 h-8 border-2 border-pink-500 border-t-transparent rounded-full animate-spin"})}):e.length===0?a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 text-center py-20 text-slate-400 shadow-sm",children:[a.jsx(Pd,{size:32,className:"mx-auto mb-3 text-slate-300"}),a.jsx("p",{className:"text-sm",children:"No coupons yet. Create your first one!"})]}):a.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsx("tr",{className:"border-b border-slate-100 bg-slate-50",children:["Code","Discount","Min Order","Uses","Expires","Status",""].map(b=>a.jsx("th",{className:`px-5 py-3 text-[11px] font-semibold uppercase tracking-wider text-slate-500 ${b===""?"text-right":"text-left"}`,children:b},b))})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:e.map(b=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-5 py-3.5",children:a.jsx("span",{className:"font-mono font-bold text-slate-800 bg-slate-100 px-2.5 py-1 rounded-lg border border-slate-200 text-xs tracking-widest",children:b.code})}),a.jsx("td",{className:"px-5 py-3.5",children:a.jsx("span",{className:`font-bold text-sm ${b.type==="percent"?"text-violet-600":"text-emerald-600"}`,children:_(b)})}),a.jsx("td",{className:"px-5 py-3.5 text-slate-600 text-xs",children:b.min_order?`${Math.floor(b.min_order/100)}+`:"No min"}),a.jsxs("td",{className:"px-5 py-3.5 text-slate-600 text-xs",children:[b.uses_count," / ",b.max_uses??""]}),a.jsx("td",{className:"px-5 py-3.5 text-slate-600 text-xs",children:b.expires_at?new Date(b.expires_at).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"Never"}),a.jsx("td",{className:"px-5 py-3.5",children:a.jsx("button",{onClick:()=>j(b),className:`text-xs font-semibold px-2.5 py-1 rounded-lg border transition-all ${b.is_active?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-slate-100 text-slate-500 border-slate-200 hover:bg-emerald-50 hover:text-emerald-600"}`,children:b.is_active?"Active":"Inactive"})}),a.jsx("td",{className:"px-5 py-3.5",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:()=>k(b),className:"w-8 h-8 rounded-lg bg-slate-100 border border-slate-200 text-slate-500 flex items-center justify-center hover:bg-blue-50 hover:border-blue-200 hover:text-blue-600 transition-all",children:a.jsx(xx,{size:13})}),a.jsx("button",{onClick:()=>p(b.id),className:"w-8 h-8 rounded-lg bg-slate-100 border border-slate-200 text-slate-500 flex items-center justify-center hover:bg-red-50 hover:border-red-200 hover:text-red-600 transition-all",children:a.jsx(hr,{size:13})})]})})]},b.id))})]})}),a.jsx(je,{children:s&&a.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm",onClick:()=>i(!1),children:a.jsxs(z.div,{initial:{scale:.95,y:10},animate:{scale:1,y:0},exit:{scale:.95,y:10},className:"w-full max-w-md bg-white rounded-2xl shadow-2xl border border-slate-200 overflow-hidden",onClick:b=>b.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b border-slate-100 bg-gradient-to-r from-violet-50 to-pink-50",children:[a.jsx("h3",{className:"font-bold text-slate-800",children:o?"Edit Coupon":"New Coupon Code"}),a.jsx("button",{onClick:()=>i(!1),className:"text-slate-400 hover:text-slate-600 p-1.5 hover:bg-white rounded-lg transition-colors",children:a.jsx(Rt,{size:18})})]}),a.jsxs("form",{onSubmit:m,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:Nr,children:"Coupon Code *"}),a.jsx("input",{required:!0,value:c.code,onChange:b=>g("code",b.target.value.toUpperCase()),className:Sr+" font-mono tracking-widest font-bold",placeholder:"SUMMER20"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:Nr,children:"Discount Type *"}),a.jsxs("select",{value:c.type,onChange:b=>g("type",b.target.value),className:Sr,children:[a.jsx("option",{value:"percent",children:"Percentage (%)"}),a.jsx("option",{value:"flat",children:"Flat Amount ()"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:Nr,children:[c.type==="percent"?"Discount %":"Amount ()"," *"]}),a.jsx("input",{required:!0,type:"number",min:"1",max:c.type==="percent"?100:void 0,value:c.value,onChange:b=>g("value",b.target.value),className:Sr,placeholder:c.type==="percent"?"20":"200"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:Nr,children:"Min Order ()"}),a.jsx("input",{type:"number",min:"0",value:c.min_order,onChange:b=>g("min_order",b.target.value),className:Sr,placeholder:"500 (optional)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:Nr,children:"Max Uses"}),a.jsx("input",{type:"number",min:"1",value:c.max_uses,onChange:b=>g("max_uses",b.target.value),className:Sr,placeholder:"Unlimited"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:Nr,children:"Expiry Date"}),a.jsx("input",{type:"date",value:c.expires_at,onChange:b=>g("expires_at",b.target.value),className:Sr})]}),a.jsxs("div",{className:"flex items-center gap-3 pt-1",children:[a.jsx("div",{onClick:()=>g("is_active",!c.is_active),className:`w-11 h-6 rounded-full relative cursor-pointer transition-colors ${c.is_active?"bg-emerald-500":"bg-slate-200"}`,children:a.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-all ${c.is_active?"left-6":"left-1"}`})}),a.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Active (usable immediately)"})]}),a.jsx("button",{type:"submit",disabled:d,className:"w-full py-3.5 bg-gradient-to-r from-pink-500 to-violet-600 text-white font-semibold rounded-xl hover:opacity-90 transition-all disabled:opacity-50 flex items-center justify-center gap-2 shadow-md shadow-pink-100",children:d?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving"]}):a.jsxs(a.Fragment,{children:[a.jsx(fo,{size:16}),o?"Update":"Create Coupon"]})})]})]})})}),a.jsx(je,{children:f&&a.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm",children:a.jsxs(z.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white rounded-2xl p-8 max-w-xs w-full text-center shadow-2xl border border-slate-200",children:[a.jsx(hr,{size:28,className:"text-red-500 mx-auto mb-3"}),a.jsx("h3",{className:"font-bold text-slate-800 mb-1",children:"Delete Coupon?"}),a.jsx("p",{className:"text-slate-500 text-sm mb-5",children:"This cannot be undone."}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>p(null),className:"flex-1 py-2.5 border border-slate-200 rounded-xl text-sm font-semibold text-slate-600 hover:bg-slate-50 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:()=>y(f),className:"flex-1 py-2.5 bg-red-500 text-white rounded-xl text-sm font-semibold hover:bg-red-600 transition-colors",children:"Delete"})]})]})})})]})}const Er="w-full bg-slate-50 border-[1.5px] border-slate-200 text-slate-800 px-3.5 py-2.5 rounded-xl text-sm outline-none transition focus:border-pink-400 focus:bg-white placeholder:text-slate-400",rc="block text-[11px] font-semibold text-slate-500 uppercase tracking-wider mb-1.5",ja={standard_charge:99,free_shipping_enabled:!1,free_shipping_threshold:0,express_enabled:!1,express_charge:199,refund_policy_text:`Thank you for shopping with us.

We accept returns on all pristine items with tags attached within 14 days of receipt.

Please contact our concierge to initiate a return.`,shipping_info_text:`All domestic orders are shipped via premium couriers.

Standard shipping takes 3-5 business days. Express takes 1-2 business days.`,privacy_policy_text:`Your privacy is important to us.

We encrypt all payment information and will never sell your personal data.`};function oC(){const[e,t]=w.useState(null),[n,r]=w.useState(!1),[s,i]=w.useState(!1),[o,l]=w.useState("");w.useEffect(()=>{V.from("shipping_settings").select("*").eq("id",1).single().then(({data:d})=>{t(d?{standard_charge:Math.floor((d.standard_charge||9900)/100),free_shipping_enabled:!!d.free_shipping_enabled,free_shipping_threshold:Math.floor((d.free_shipping_threshold||0)/100),express_enabled:!!d.express_enabled,express_charge:Math.floor((d.express_charge||19900)/100),refund_policy_text:d.refund_policy_text||ja.refund_policy_text,shipping_info_text:d.shipping_info_text||ja.shipping_info_text,privacy_policy_text:d.privacy_policy_text||ja.privacy_policy_text}:{...ja})})},[]);const c=(d,h)=>t(f=>({...f,[d]:h}));async function u(d){d.preventDefault(),r(!0),l("");const h={id:1,standard_charge:Math.round(Number(e.standard_charge)*100),free_shipping_enabled:e.free_shipping_enabled,free_shipping_threshold:Math.round(Number(e.free_shipping_threshold)*100),express_enabled:e.express_enabled,express_charge:Math.round(Number(e.express_charge)*100),refund_policy_text:e.refund_policy_text||"",shipping_info_text:e.shipping_info_text||"",privacy_policy_text:e.privacy_policy_text||"",updated_at:new Date().toISOString()},{error:f}=await V.from("shipping_settings").upsert(h);r(!1),f?l(f.message||"Save failed  check Supabase RLS policies."):(i(!0),setTimeout(()=>i(!1),2500))}return e?a.jsxs("div",{className:"max-w-xl",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Shipping Settings"}),a.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:"Configure delivery charges for all orders"})]}),o&&a.jsxs("div",{className:"mb-4 flex items-start gap-3 bg-red-50 border border-red-200 text-red-700 text-sm px-4 py-3 rounded-xl",children:[a.jsx(Wo,{size:16,className:"shrink-0 mt-0.5"}),a.jsx("span",{children:o})]}),a.jsxs("form",{onSubmit:u,className:"space-y-5",children:[a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b border-slate-100",children:[a.jsx("div",{className:"w-9 h-9 bg-blue-50 rounded-xl flex items-center justify-center",children:a.jsx(Yt,{size:18,className:"text-blue-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-800",children:"Standard Delivery"}),a.jsx("p",{className:"text-xs text-slate-400",children:"Default shipping for all orders"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:rc,children:"Standard Shipping Charge ()"}),a.jsx("input",{type:"number",min:"0",value:e.standard_charge,onChange:d=>c("standard_charge",d.target.value),className:Er,placeholder:"99"})]}),a.jsxs("div",{className:"border border-emerald-100 bg-emerald-50 rounded-xl p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-800 text-sm",children:"Free Shipping"}),a.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Waive charges automatically"})]}),a.jsx("div",{onClick:()=>c("free_shipping_enabled",!e.free_shipping_enabled),className:`w-11 h-6 rounded-full relative cursor-pointer transition-colors ${e.free_shipping_enabled?"bg-emerald-500":"bg-slate-200"}`,children:a.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-all ${e.free_shipping_enabled?"left-6":"left-1"}`})})]}),e.free_shipping_enabled&&a.jsxs("div",{children:[a.jsx("label",{className:rc,children:"Free Shipping Above ()  0 = always free"}),a.jsx("input",{type:"number",min:"0",value:e.free_shipping_threshold,onChange:d=>c("free_shipping_threshold",d.target.value),className:Er,placeholder:"0"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-slate-100",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-9 h-9 bg-violet-50 rounded-xl flex items-center justify-center",children:a.jsx(_i,{size:18,className:"text-violet-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-800",children:"Express Delivery"}),a.jsx("p",{className:"text-xs text-slate-400",children:"Faster delivery option"})]})]}),a.jsx("div",{onClick:()=>c("express_enabled",!e.express_enabled),className:`w-11 h-6 rounded-full relative cursor-pointer transition-colors ${e.express_enabled?"bg-violet-500":"bg-slate-200"}`,children:a.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-all ${e.express_enabled?"left-6":"left-1"}`})})]}),e.express_enabled?a.jsxs("div",{children:[a.jsx("label",{className:rc,children:"Express Charge ()"}),a.jsx("input",{type:"number",min:"0",value:e.express_charge,onChange:d=>c("express_charge",d.target.value),className:Er,placeholder:"199"})]}):a.jsx("p",{className:"text-sm text-slate-400",children:"Enable express shipping to set a charge."})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-6 space-y-4 mb-4",children:[a.jsx("div",{className:"flex items-center gap-3 pb-3 border-b border-slate-100",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-800",children:"Global Refund Policy"}),a.jsx("p",{className:"text-xs text-slate-400",children:"Manage the text shown on the /refund-policy page"})]})}),a.jsx("div",{children:a.jsx("textarea",{rows:5,value:e.refund_policy_text,onChange:d=>c("refund_policy_text",d.target.value),className:Er+" resize-none leading-relaxed",placeholder:"Type your refund policy here..."})})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-6 space-y-4 mb-4",children:[a.jsx("div",{className:"flex items-center gap-3 pb-3 border-b border-slate-100",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-800",children:"Global Shipping Info"}),a.jsx("p",{className:"text-xs text-slate-400",children:"Manage the text shown on the /shipping-info page"})]})}),a.jsx("div",{children:a.jsx("textarea",{rows:5,value:e.shipping_info_text,onChange:d=>c("shipping_info_text",d.target.value),className:Er+" resize-none leading-relaxed",placeholder:"Type your shipping information here..."})})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-6 space-y-4 mb-8",children:[a.jsx("div",{className:"flex items-center gap-3 pb-3 border-b border-slate-100",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-800",children:"Global Privacy Policy"}),a.jsx("p",{className:"text-xs text-slate-400",children:"Manage the text shown on the /privacy-policy page"})]})}),a.jsx("div",{children:a.jsx("textarea",{rows:5,value:e.privacy_policy_text,onChange:d=>c("privacy_policy_text",d.target.value),className:Er+" resize-none leading-relaxed",placeholder:"Type your privacy policy here..."})})]}),a.jsx("button",{type:"submit",disabled:n,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-pink-500 to-violet-600 text-white font-semibold rounded-xl hover:opacity-90 transition-all shadow-md shadow-pink-100 disabled:opacity-50",children:n?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving"]}):s?a.jsxs(a.Fragment,{children:[a.jsx(fo,{size:16}),"Saved!"]}):a.jsxs(a.Fragment,{children:[a.jsx(fo,{size:16}),"Save Settings"]})})]})]}):a.jsx("div",{className:"flex justify-center py-20",children:a.jsx("div",{className:"w-8 h-8 border-2 border-pink-500 border-t-transparent rounded-full animate-spin"})})}const Dm=e=>""+Math.floor(e/100).toLocaleString("en-IN");function lC(){const[e,t]=w.useState({totalRevenue:0,totalOrders:0,totalUsers:0,totalProducts:0}),[n,r]=w.useState([]),[s,i]=w.useState([]),[o,l]=w.useState(!0);w.useEffect(()=>{c()},[]);async function c(){l(!0);try{const{data:d}=await V.from("orders").select("id, total, status, created_at, first_name, last_name").order("created_at",{ascending:!1}),h=(d||[]).reduce((k,g)=>k+(g.total||0),0),f=(d||[]).slice(0,5),{count:p}=await V.from("profiles").select("*",{count:"exact",head:!0}),{data:x}=await V.from("products").select("id, name, stock_quantity, track_stock, image"),v=(x||[]).filter(k=>k.track_stock&&k.stock_quantity<=5).sort((k,g)=>k.stock_quantity-g.stock_quantity).slice(0,5);t({totalRevenue:h,totalOrders:(d==null?void 0:d.length)||0,totalUsers:p||0,totalProducts:(x==null?void 0:x.length)||0}),r(f),i(v)}catch(d){console.error("Error fetching dashboard data:",d)}finally{l(!1)}}if(o)return a.jsx("div",{className:"flex justify-center items-center py-40",children:a.jsx("div",{className:"w-10 h-10 border-2 border-pink-500 border-t-transparent rounded-full animate-spin"})});const u=[{label:"Total Revenue",value:Dm(e.totalRevenue),icon:dx,color:"text-emerald-600",bg:"bg-emerald-50",border:"border-emerald-100",trend:"+12.5%"},{label:"Total Orders",value:e.totalOrders,icon:on,color:"text-blue-600",bg:"bg-blue-50",border:"border-blue-100",trend:"+5.2%"},{label:"Total Customers",value:e.totalUsers,icon:vx,color:"text-violet-600",bg:"bg-violet-50",border:"border-violet-100",trend:"+18.1%"},{label:"Total Products",value:e.totalProducts,icon:qo,color:"text-pink-600",bg:"bg-pink-50",border:"border-pink-100",trend:"Active"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:u.map((d,h)=>a.jsxs(z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:h*.05},className:`bg-white border ${d.border} rounded-2xl p-5 shadow-sm relative overflow-hidden`,children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2",children:d.label}),a.jsx("p",{className:`text-3xl font-bold ${d.color}`,children:d.value})]}),a.jsx("div",{className:`w-12 h-12 ${d.bg} rounded-xl flex items-center justify-center`,children:a.jsx(d.icon,{size:22,className:d.color})})]}),a.jsxs("div",{className:"mt-4 flex items-center gap-1.5 text-xs text-slate-500 font-medium",children:[a.jsx(sk,{size:14,className:d.color}),a.jsx("span",{children:d.trend}),a.jsx("span",{className:"text-slate-400 font-normal",children:"vs last month"})]})]},h))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs(z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"lg:col-span-2 bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center justify-between",children:a.jsxs("h2",{className:"text-sm font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(lx,{size:16,className:"text-blue-500"})," Recent Orders"]})}),n.length===0?a.jsx("div",{className:"p-8 text-center text-slate-400 text-sm",children:"No recent orders."}):a.jsx("div",{className:"divide-y divide-slate-100",children:n.map(d=>a.jsxs("div",{className:"p-4 px-6 flex items-center justify-between hover:bg-slate-50 transition-colors",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold text-slate-800 text-sm",children:[d.first_name," ",d.last_name]}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:new Date(d.created_at).toLocaleString()})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm mb-1",children:Dm(d.total)}),a.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider px-2 py-0.5 rounded-md ${d.status==="delivered"?"bg-emerald-50 text-emerald-600":d.status==="shipped"?"bg-violet-50 text-violet-600":d.status==="pending"?"bg-amber-50 text-amber-600":"bg-blue-50 text-blue-600"}`,children:d.status})]})]},d.id))})]}),a.jsxs(z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden flex flex-col",children:[a.jsx("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center justify-between bg-red-50/30",children:a.jsxs("h2",{className:"text-sm font-bold text-red-600 flex items-center gap-2",children:[a.jsx(Wo,{size:16})," Low Stock Alerts"]})}),a.jsx("div",{className:"flex-1 overflow-auto",children:s.length===0?a.jsx("div",{className:"p-8 text-center text-slate-400 text-sm h-full flex items-center justify-center",children:"All products are well stocked!"}):a.jsx("div",{className:"divide-y divide-slate-100",children:s.map(d=>a.jsxs("div",{className:"p-4 px-6 flex items-center gap-3 hover:bg-slate-50 transition-colors",children:[a.jsx("img",{src:d.image,alt:d.name,className:"w-10 h-10 rounded-lg object-cover border border-slate-200"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-semibold text-slate-800 text-sm truncate",children:d.name}),a.jsxs("p",{className:"text-xs text-slate-400 truncate",children:["ID #",d.id]})]}),a.jsx("div",{className:"text-right shrink-0",children:a.jsx("span",{className:`text-xs font-bold px-2.5 py-1 rounded-lg border ${d.stock_quantity===0?"bg-red-50 text-red-600 border-red-200":"bg-amber-50 text-amber-700 border-amber-200"}`,children:d.stock_quantity===0?"Out":`${d.stock_quantity} left`})})]},d.id))})})]})]})]})}const cC=e=>""+Math.floor(e/100).toLocaleString("en-IN");function uC(){const[e,t]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState("");w.useEffect(()=>{o()},[]);async function o(){r(!0);try{const{data:c}=await V.from("profiles").select("*").order("created_at",{ascending:!1}),{data:u}=await V.from("orders").select("user_id, total, status"),d=(c||[]).map(h=>{const f=(u||[]).filter(x=>x.user_id===h.id),p=f.reduce((x,v)=>x+(v.total||0),0);return{...h,total_orders:f.length,lifetime_value:p}});t(d)}catch(c){console.error("Error fetching customers:",c)}finally{r(!1)}}const l=e.filter(c=>c.username&&c.username.toLowerCase().includes(s.toLowerCase())||c.full_name&&c.full_name.toLowerCase().includes(s.toLowerCase())||c.role&&c.role.toLowerCase().includes(s.toLowerCase())||c.id.includes(s));return a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"px-5 py-4 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1 max-w-sm",children:[a.jsx(Td,{size:16,className:"text-slate-400"}),a.jsx("input",{value:s,onChange:c=>i(c.target.value),placeholder:"Search customers by name or ID...",className:"flex-1 bg-transparent text-sm text-slate-700 placeholder:text-slate-400 outline-none"}),s&&a.jsx("button",{onClick:()=>i(""),className:"text-slate-400 hover:text-slate-600",children:a.jsx(Rt,{size:14})})]}),a.jsxs("div",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:[l.length," ",l.length===1?"Customer":"Customers"]})]}),n?a.jsx("div",{className:"flex justify-center py-32",children:a.jsx("div",{className:"w-8 h-8 border-2 border-pink-500 border-t-transparent rounded-full animate-spin"})}):l.length===0?a.jsx("div",{className:"text-center py-20 text-slate-400 text-sm",children:s?`No customers found for "${s}"`:"No customers yet."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-slate-100 bg-slate-50",children:[a.jsx("th",{className:"px-6 py-3.5 text-xs font-semibold uppercase tracking-wider text-slate-500 text-left",children:"Customer"}),a.jsx("th",{className:"px-6 py-3.5 text-xs font-semibold uppercase tracking-wider text-slate-500 text-left",children:"Role"}),a.jsx("th",{className:"px-6 py-3.5 text-xs font-semibold uppercase tracking-wider text-slate-500 text-left",children:"Joined"}),a.jsx("th",{className:"px-6 py-3.5 text-xs font-semibold uppercase tracking-wider text-slate-500 text-right",children:"Orders"}),a.jsx("th",{className:"px-6 py-3.5 text-xs font-semibold uppercase tracking-wider text-slate-500 text-right",children:"Total Spent"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:l.map(c=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 border border-slate-200 flex items-center justify-center shrink-0",children:c.avatar_url?a.jsx("img",{src:c.avatar_url,alt:"Avatar",className:"w-10 h-10 rounded-full object-cover"}):a.jsx(ik,{size:18,className:"text-slate-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-800",children:c.full_name||c.username||"Anonymous User"}),a.jsx("p",{className:"text-[11px] text-slate-400 mt-0.5 font-mono truncate max-w-[180px]",title:c.id,children:c.id})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`text-[11px] font-bold uppercase tracking-wider px-2 py-1 rounded-md border ${c.role==="admin"?"bg-purple-50 text-purple-600 border-purple-200":"bg-slate-100 text-slate-600 border-slate-200"}`,children:c.role||"user"})}),a.jsx("td",{className:"px-6 py-4 text-slate-600",children:new Date(c.created_at).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-1.5 text-slate-600",children:[a.jsx(on,{size:14,className:c.total_orders>0?"text-blue-500":"text-slate-300"}),a.jsx("span",{className:"font-medium",children:c.total_orders})]})}),a.jsx("td",{className:"px-6 py-4 text-right font-bold text-slate-800",children:cC(c.lifetime_value)})]},c.id))})]})})]})}const _a=e=>""+Math.floor(e/100).toLocaleString("en-IN"),dC={pending:"text-amber-700  bg-amber-50    border-amber-200",confirmed:"text-blue-700   bg-blue-50     border-blue-200",shipped:"text-violet-700 bg-violet-50   border-violet-200",delivered:"text-emerald-700 bg-emerald-50 border-emerald-200"},Mm=[{id:"dashboard",label:"Dashboard",icon:Ed},{id:"products",label:"Products",icon:qo},{id:"orders",label:"Orders",icon:on},{id:"customers",label:"Customers",icon:vx},{id:"coupons",label:"Coupons",icon:Pd},{id:"shipping",label:"Shipping",icon:Yt}];function hC(){var B;const{user:e,isAdmin:t,loading:n,signOut:r}=Ve(),s=Ft(),[i,o]=w.useState("dashboard"),[l,c]=w.useState([]),[u,d]=w.useState(!0),[h,f]=w.useState(!1),[p,x]=w.useState(null),[v,k]=w.useState(null),[g,m]=w.useState([]),[y,j]=w.useState(!1),[_,b]=w.useState(null),[S,E]=w.useState("");w.useEffect(()=>{if(!e){s("/admin/login");return}t&&T()},[e,t]),w.useEffect(()=>(document.body.style.backgroundColor="#f8fafc",document.body.style.backgroundImage="none",()=>{document.body.style.backgroundColor="",document.body.style.backgroundImage=""}),[]);async function T(){d(!0);const{data:N}=await V.from("products").select("*").order("id");c(N||[]),d(!1)}async function O(){if(g.length)return;j(!0);const{data:N}=await V.from("orders").select("*, order_items(*)").order("created_at",{ascending:!1});m(N||[]),j(!1)}async function H(N){await V.from("products").delete().eq("id",N),k(null),T()}const X=N=>V.from("products").update({is_featured:!N.is_featured}).eq("id",N.id).then(T),C=N=>V.from("products").update({is_active:!N.is_active}).eq("id",N.id).then(T),q=(N,A)=>{V.from("orders").update({status:A}).eq("id",N),m(D=>D.map(Y=>Y.id===N?{...Y,status:A}:Y))};if(!e||n)return a.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:a.jsx("div",{className:"w-10 h-10 border-2 border-pink-500 border-t-transparent rounded-full animate-spin"})});if(!t)return a.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-10 max-w-sm w-full mx-4 text-center",children:[a.jsx("div",{className:"w-14 h-14 bg-red-50 border border-red-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx(G1,{size:26,className:"text-red-500"})}),a.jsx("h1",{className:"text-xl font-bold text-slate-800 mb-2",children:"Access Denied"}),a.jsx("p",{className:"text-slate-500 text-sm mb-5",children:"You don't have admin privileges."}),a.jsx("button",{onClick:()=>s("/"),className:"text-sm text-pink-600 hover:text-pink-700 font-medium transition-colors",children:" Back to store"})]})});const se=g.reduce((N,A)=>N+A.total,0),ie=l.filter(N=>N.name.toLowerCase().includes(S.toLowerCase())||N.category.toLowerCase().includes(S.toLowerCase()));return a.jsxs("div",{className:"min-h-screen bg-slate-50 flex",children:[a.jsxs("aside",{className:"fixed left-0 top-0 h-full w-60 bg-white border-r border-slate-200 flex flex-col z-30 shadow-sm",children:[a.jsx("div",{className:"px-5 py-5 border-b border-slate-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-pink-500 to-violet-600 flex items-center justify-center shadow-md shadow-pink-200",children:a.jsx(Ed,{size:18,className:"text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-slate-800 leading-none",children:"Admin Panel"}),a.jsx("p",{className:"text-[10px] text-slate-400 mt-1 truncate max-w-[120px]",children:e.email})]})]})}),a.jsxs("nav",{className:"flex-1 px-3 py-4 space-y-1",children:[a.jsx("p",{className:"text-[10px] font-semibold text-slate-400 uppercase tracking-widest px-3 mb-2",children:"Manage"}),Mm.map(N=>a.jsxs("button",{onClick:()=>{o(N.id),N.id==="orders"&&O()},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium transition-all ${i===N.id?"bg-pink-50 text-pink-700 border border-pink-100":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"}`,children:[a.jsx(N.icon,{size:16,className:i===N.id?"text-pink-500":"text-slate-400"}),a.jsx("span",{className:"flex-1 text-left",children:N.label})]},N.id))]}),a.jsx("div",{className:"px-3 py-4 border-t border-slate-100",children:a.jsxs("button",{onClick:()=>{r(),s("/")},className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium text-slate-500 hover:bg-red-50 hover:text-red-600 transition-all",children:[a.jsx(px,{size:16})," Logout"]})})]}),a.jsxs("main",{className:"ml-60 flex-1",children:[a.jsxs("header",{className:"sticky top-0 z-20 bg-white border-b border-slate-200 px-8 py-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-bold text-slate-800",children:(B=Mm.find(N=>N.id===i))==null?void 0:B.label}),a.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:i==="dashboard"?"Overview & Statistics":i==="products"?`${l.length} products  ${l.filter(N=>N.is_featured).length} featured`:i==="orders"?`${g.length} total orders`:i==="customers"?"Manage your registered users":i==="coupons"?"Manage discount coupons":"Configure delivery charges"})]}),i==="products"&&a.jsxs("button",{onClick:()=>{x(null),f(!0)},className:"flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-pink-500 to-violet-600 text-white text-sm font-semibold rounded-xl hover:opacity-90 active:scale-95 transition-all shadow-md shadow-pink-200",children:[a.jsx(Vi,{size:15})," Add Product"]})]}),a.jsxs("div",{className:"p-8",children:[(i==="products"||i==="orders")&&a.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-4 gap-4 mb-8",children:[{label:"Total Products",value:l.length,icon:qo,color:"text-violet-600",bg:"bg-violet-50",border:"border-violet-100"},{label:"Featured",value:l.filter(N=>N.is_featured).length,icon:Qs,color:"text-amber-600",bg:"bg-amber-50",border:"border-amber-100"},{label:"Total Orders",value:g.length,icon:on,color:"text-blue-600",bg:"bg-blue-50",border:"border-blue-100"},{label:"Revenue",value:g.length?_a(se):"",icon:dx,color:"text-emerald-600",bg:"bg-emerald-50",border:"border-emerald-100"}].map((N,A)=>a.jsxs(z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:A*.05},className:`bg-white border ${N.border} rounded-2xl p-5 flex items-center justify-between shadow-sm`,children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-slate-500 mb-1",children:N.label}),a.jsx("p",{className:`text-2xl font-bold ${N.color}`,children:N.value})]}),a.jsx("div",{className:`w-11 h-11 ${N.bg} rounded-xl flex items-center justify-center`,children:a.jsx(N.icon,{size:20,className:N.color})})]},A))}),i==="dashboard"&&a.jsx(lC,{}),i==="products"&&a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"px-5 py-3.5 border-b border-slate-100 flex items-center gap-3 bg-slate-50/50",children:[a.jsx(Td,{size:14,className:"text-slate-400 shrink-0"}),a.jsx("input",{value:S,onChange:N=>E(N.target.value),placeholder:"Search products",className:"flex-1 bg-transparent text-sm text-slate-700 placeholder:text-slate-400 outline-none"}),S&&a.jsx("button",{onClick:()=>E(""),className:"text-slate-400 hover:text-slate-600",children:a.jsx(Rt,{size:14})})]}),u?a.jsx("div",{className:"flex justify-center py-20",children:a.jsx("div",{className:"w-8 h-8 border-2 border-pink-500 border-t-transparent rounded-full animate-spin"})}):a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsx("tr",{className:"border-b border-slate-100 bg-slate-50",children:["Product","Category","Price","Stock","Featured","Active","Actions"].map(N=>a.jsx("th",{className:`px-5 py-3 text-[11px] font-semibold uppercase tracking-wider text-slate-500 ${N==="Actions"?"text-right":"text-left"}`,children:N},N))})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:ie.map(N=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-5 py-3.5",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:N.image,alt:N.name,className:"w-11 object-cover rounded-xl border border-slate-200 shrink-0",style:{height:52}}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-800 truncate max-w-[170px]",children:N.name}),a.jsxs("p",{className:"text-xs text-slate-400",children:["ID #",N.id]})]})]})}),a.jsx("td",{className:"px-5 py-3.5",children:a.jsx("span",{className:"text-xs font-medium text-slate-600 bg-slate-100 px-2.5 py-1 rounded-lg border border-slate-200",children:N.category.split("|")[0].trim()})}),a.jsx("td",{className:"px-5 py-3.5",children:a.jsx("span",{className:"font-bold text-slate-800",children:_a(N.price)})}),a.jsx("td",{className:"px-5 py-3.5",children:N.track_stock?a.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-lg border ${N.stock_quantity===0?"bg-red-50 text-red-600 border-red-200":N.stock_quantity<=5?"bg-amber-50 text-amber-700 border-amber-200":"bg-emerald-50 text-emerald-700 border-emerald-200"}`,children:N.stock_quantity===0?"Out of Stock":`${N.stock_quantity} left`}):a.jsx("span",{className:"text-slate-400 text-xs",children:""})}),a.jsx("td",{className:"px-5 py-3.5",children:a.jsx("button",{onClick:()=>X(N),title:N.is_featured?"Remove from featured":"Add to featured",className:`w-8 h-8 rounded-lg flex items-center justify-center border transition-all ${N.is_featured?"bg-amber-50 border-amber-200 text-amber-500":"bg-white border-slate-200 text-slate-300 hover:text-amber-400 hover:border-amber-200"}`,children:a.jsx(Qs,{size:14,fill:N.is_featured?"currentColor":"none"})})}),a.jsx("td",{className:"px-5 py-3.5",children:a.jsx("button",{onClick:()=>C(N),title:N.is_active?"Hide product":"Show product",className:`w-8 h-8 rounded-lg flex items-center justify-center border transition-all ${N.is_active?"bg-emerald-50 border-emerald-200 text-emerald-600":"bg-slate-50 border-slate-200 text-slate-300 hover:text-emerald-500"}`,children:N.is_active?a.jsx(ux,{size:14}):a.jsx(cx,{size:14})})}),a.jsx("td",{className:"px-5 py-3.5",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:()=>{x(N),f(!0)},className:"w-8 h-8 rounded-lg bg-slate-100 border border-slate-200 text-slate-500 flex items-center justify-center hover:bg-blue-50 hover:border-blue-200 hover:text-blue-600 transition-all",children:a.jsx(xx,{size:13})}),a.jsx("button",{onClick:()=>k(N.id),className:"w-8 h-8 rounded-lg bg-slate-100 border border-slate-200 text-slate-500 flex items-center justify-center hover:bg-red-50 hover:border-red-200 hover:text-red-600 transition-all",children:a.jsx(hr,{size:13})})]})})]},N.id))})]}),!u&&ie.length===0&&a.jsx("div",{className:"text-center py-16 text-slate-400 text-sm",children:S?`No results for "${S}"`:"No products yet."})]}),i==="orders"&&a.jsx("div",{className:"space-y-3",children:y?a.jsx("div",{className:"flex justify-center py-20",children:a.jsx("div",{className:"w-8 h-8 border-2 border-pink-500 border-t-transparent rounded-full animate-spin"})}):g.length===0?a.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 text-center py-20 text-slate-400 text-sm shadow-sm",children:"No orders yet."}):g.map(N=>a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow overflow-hidden",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between px-6 py-4 cursor-pointer gap-3",onClick:()=>b(_===N.id?null:N.id),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-2.5 h-2.5 rounded-full shrink-0 ${N.status==="delivered"?"bg-emerald-400":N.status==="shipped"?"bg-violet-500":N.status==="confirmed"?"bg-blue-500":"bg-amber-400"}`}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold text-slate-800",children:[N.first_name," ",N.last_name]}),a.jsxs("p",{className:"text-xs text-slate-400 mt-0.5",children:[N.email,"  ",new Date(N.created_at).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 pl-7 sm:pl-0",children:[a.jsx("span",{className:"font-bold text-slate-800",children:_a(N.total)}),a.jsx("select",{value:N.status,onClick:A=>A.stopPropagation(),onChange:A=>{A.stopPropagation(),q(N.id,A.target.value)},className:`text-xs font-semibold border px-3 py-1.5 rounded-lg cursor-pointer outline-none ${dC[N.status]||"text-slate-600 bg-slate-50 border-slate-200"}`,children:["pending","confirmed","shipped","delivered"].map(A=>a.jsx("option",{value:A,children:A.charAt(0).toUpperCase()+A.slice(1)},A))}),a.jsx(ji,{size:16,className:`text-slate-400 transition-transform shrink-0 ${_===N.id?"rotate-180":""}`})]})]}),a.jsx(je,{children:_===N.id&&a.jsx(z.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-slate-100 bg-slate-50 px-6 py-5",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-3",children:"Delivery Address"}),a.jsxs("p",{className:"text-sm text-slate-700 leading-relaxed",children:[N.address,a.jsx("br",{}),N.city,", ",N.state,"  ",N.pincode,a.jsx("br",{})," ",N.phone]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-3",children:"Items"}),a.jsx("div",{className:"space-y-2",children:(N.order_items||[]).map((A,D)=>a.jsxs("div",{className:"flex justify-between text-sm border-b border-slate-100 pb-2",children:[a.jsxs("span",{className:"text-slate-700",children:[A.product_name," ",a.jsxs("span",{className:"text-slate-400",children:["(",A.size,") ",A.quantity]})]}),a.jsx("span",{className:"font-bold text-slate-800",children:_a(A.unit_price*A.quantity)})]},D))})]})]})})})]},N.id))}),i==="coupons"&&a.jsx(aC,{}),i==="customers"&&a.jsx(uC,{}),i==="shipping"&&a.jsx(oC,{})]})]}),a.jsx(je,{children:h&&a.jsx(iC,{editing:p,onClose:()=>f(!1),onSaved:()=>{f(!1),T()}})}),a.jsx(je,{children:v&&a.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm",children:a.jsxs(z.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white rounded-2xl p-8 max-w-sm w-full text-center shadow-2xl border border-slate-200",children:[a.jsx("div",{className:"w-14 h-14 bg-red-50 border border-red-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx(hr,{size:24,className:"text-red-500"})}),a.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Delete Product?"}),a.jsx("p",{className:"text-slate-500 text-sm mb-6",children:"This action cannot be undone."}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>k(null),className:"flex-1 py-2.5 border border-slate-200 rounded-xl text-sm font-semibold text-slate-600 hover:bg-slate-50 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:()=>H(v),className:"flex-1 py-2.5 bg-red-500 text-white rounded-xl text-sm font-semibold hover:bg-red-600 transition-colors",children:"Delete"})]})]})})})]})}function fC(){const[e,t]=w.useState(""),[n,r]=w.useState(""),[s,i]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(""),d=Ft(),h=async f=>{f.preventDefault(),u(""),l(!0);try{const{error:p}=await V.auth.signInWithPassword({email:e,password:n});if(p)throw p;d("/admin")}catch(p){u(p.message||"Login failed. Please check your credentials.")}finally{l(!1)}};return a.jsxs("div",{className:"min-h-screen bg-[#020205] flex items-center justify-center relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[a.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[600px] h-[600px] rounded-full bg-gradient-radial from-pink-600/20 to-transparent blur-[120px]"}),a.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[700px] h-[700px] rounded-full bg-gradient-radial from-purple-700/15 to-transparent blur-[140px]"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[400px] h-[400px] rounded-full bg-gradient-radial from-cyan-500/10 to-transparent blur-[100px]"}),a.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(rgba(255,255,255,0.5) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.5) 1px, transparent 1px)",backgroundSize:"60px 60px"}})]}),a.jsxs("div",{className:"relative z-10 w-full max-w-[440px] mx-auto px-6",children:[a.jsxs(z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-10",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-pink-500 to-purple-600 shadow-[0_0_40px_rgba(236,72,153,0.4)] mb-5",children:a.jsx(In,{size:32,className:"text-white"})}),a.jsx("h1",{className:"text-2xl font-cyber font-black text-white uppercase tracking-widest",children:"Admin Portal"}),a.jsx("p",{className:"text-gray-500 text-sm mt-2 font-sans",children:"Sign in to manage your store"})]}),a.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"bg-white/[0.04] border border-white/10 rounded-2xl p-8 shadow-[0_25px_60px_rgba(0,0,0,0.5)] backdrop-blur-xl",children:[a.jsx(je,{children:c&&a.jsxs(z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center gap-3 bg-pink-500/10 border border-pink-500/30 text-pink-400 text-sm px-4 py-3 rounded-xl mb-6",children:[a.jsx(Wo,{size:16,className:"shrink-0"}),a.jsx("span",{children:c})]})}),a.jsxs("form",{onSubmit:h,className:"space-y-5",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[11px] uppercase tracking-widest text-gray-400 font-cyber",children:"Email"}),a.jsxs("div",{className:"relative group",children:[a.jsx(mx,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-pink-500 transition-colors pointer-events-none"}),a.jsx("input",{type:"email",value:e,onChange:f=>t(f.target.value),required:!0,placeholder:"admin@yourstore.com",className:"w-full bg-white/5 border border-white/10 focus:border-pink-500/60 text-white pl-11 pr-4 py-3.5 rounded-xl text-sm outline-none transition-all placeholder:text-gray-600"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[11px] uppercase tracking-widest text-gray-400 font-cyber",children:"Password"}),a.jsxs("div",{className:"relative group",children:[a.jsx(po,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-pink-500 transition-colors pointer-events-none"}),a.jsx("input",{type:s?"text":"password",value:n,onChange:f=>r(f.target.value),required:!0,placeholder:"",className:"w-full bg-white/5 border border-white/10 focus:border-pink-500/60 text-white pl-11 pr-12 py-3.5 rounded-xl text-sm outline-none transition-all placeholder:text-gray-600"}),a.jsx("button",{type:"button",onClick:()=>i(f=>!f),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-white transition-colors",children:s?a.jsx(cx,{size:16}):a.jsx(ux,{size:16})})]})]}),a.jsx("button",{type:"submit",disabled:o,className:"w-full mt-2 py-4 bg-gradient-to-r from-pink-500 to-purple-600 text-white font-cyber text-sm uppercase tracking-widest rounded-xl hover:opacity-90 active:scale-[0.98] shadow-[0_0_30px_rgba(236,72,153,0.35)] transition-all disabled:opacity-50 flex items-center justify-center gap-2 group",children:o?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})," Signing in"]}):a.jsxs(a.Fragment,{children:["Sign In ",a.jsx(Gt,{size:16,className:"group-hover:translate-x-1 transition-transform"})]})})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-white/5 flex items-center justify-center gap-2 text-xs text-gray-600",children:[a.jsx(In,{size:12}),a.jsx("span",{children:"Secured by Supabase Auth"})]})]}),a.jsxs(z.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-center text-gray-600 text-sm mt-6",children:["Not an admin?"," ",a.jsx(Q,{to:"/",className:"text-pink-500 hover:text-pink-400 transition-colors",children:"Back to store "})]})]})]})}function pC(){const[e,t]=w.useState(""),[n,r]=w.useState(!0);w.useEffect(()=>{window.scrollTo(0,0),s()},[]);async function s(){const{data:i}=await V.from("shipping_settings").select("refund_policy_text").eq("id",1).single();i&&i.refund_policy_text?t(i.refund_policy_text):t("Our refund policy is currently being updated. Please check back later or contact support."),r(!1)}return n?a.jsx("div",{className:"min-h-screen bg-cyber-black flex items-center justify-center pt-24 pb-32",children:a.jsx("div",{className:"w-8 h-8 border-2 border-cyber-cyan border-t-transparent rounded-full animate-spin"})}):a.jsxs("div",{className:"min-h-screen bg-cyber-black text-white font-sans selection:bg-cyber-pink selection:text-white pt-32 pb-32 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-cyber-purple/5 rounded-full blur-[120px] -z-10 pointer-events-none"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-cyber-cyan/5 rounded-full blur-[120px] -z-10 pointer-events-none"}),a.jsxs("div",{className:"max-w-[900px] mx-auto px-6 md:px-12 relative z-10",children:[a.jsxs("div",{className:"mb-16 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold tracking-[0.2em] mb-4 text-cyber-cyan uppercase font-sans",children:"Returns & Refunds"}),a.jsx("div",{className:"w-24 h-[1px] bg-gradient-to-r from-transparent via-cyber-pink to-transparent mx-auto opacity-70"})]}),a.jsx("div",{className:"bg-white/5 border border-white/10 p-8 md:p-12 rounded-xl backdrop-blur-md shadow-2xl",children:a.jsx("div",{className:"prose prose-sm md:prose-base max-w-none text-gray-300 leading-relaxed font-sans font-medium tracking-wide whitespace-pre-wrap selection:bg-cyber-pink selection:text-white",children:e})}),a.jsxs("div",{className:"mt-16 text-center text-[11px] text-gray-500 uppercase tracking-widest font-sans font-bold flex items-center justify-center gap-3",children:[a.jsx("div",{className:"w-8 h-[1px] bg-white/10"}),a.jsxs("p",{children:["LAST UPDATED: ",new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"}).toUpperCase()]}),a.jsx("div",{className:"w-8 h-[1px] bg-white/10"})]})]})]})}function mC(){const[e,t]=w.useState(""),[n,r]=w.useState(!0);w.useEffect(()=>{window.scrollTo(0,0),s()},[]);async function s(){const{data:i}=await V.from("shipping_settings").select("shipping_info_text").eq("id",1).single();i&&i.shipping_info_text?t(i.shipping_info_text):t("Our shipping information is currently being updated. Please check back later or contact support."),r(!1)}return n?a.jsx("div",{className:"min-h-screen bg-cyber-black flex items-center justify-center pt-24 pb-32",children:a.jsx("div",{className:"w-8 h-8 border-2 border-cyber-cyan border-t-transparent rounded-full animate-spin"})}):a.jsxs("div",{className:"min-h-screen bg-cyber-black text-white font-sans selection:bg-cyber-cyan selection:text-white pt-32 pb-32 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-cyber-cyan/5 rounded-full blur-[120px] -z-10 pointer-events-none"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-cyber-purple/5 rounded-full blur-[120px] -z-10 pointer-events-none"}),a.jsxs("div",{className:"max-w-[900px] mx-auto px-6 md:px-12 relative z-10",children:[a.jsxs("div",{className:"mb-16 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold tracking-[0.2em] mb-4 text-cyber-cyan uppercase font-sans",children:"Shipping Information"}),a.jsx("div",{className:"w-24 h-[1px] bg-gradient-to-r from-transparent via-cyber-cyan to-transparent mx-auto opacity-70"})]}),a.jsx("div",{className:"bg-white/5 border border-white/10 p-8 md:p-12 rounded-xl backdrop-blur-md shadow-2xl",children:a.jsx("div",{className:"prose prose-sm md:prose-base max-w-none text-gray-300 leading-relaxed font-sans font-medium tracking-wide whitespace-pre-wrap selection:bg-cyber-cyan selection:text-white",children:e})}),a.jsxs("div",{className:"mt-16 text-center text-[11px] text-gray-500 uppercase tracking-widest font-sans font-bold flex items-center justify-center gap-3",children:[a.jsx("div",{className:"w-8 h-[1px] bg-white/10"}),a.jsxs("p",{children:["LAST UPDATED: ",new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"}).toUpperCase()]}),a.jsx("div",{className:"w-8 h-[1px] bg-white/10"})]})]})]})}function gC(){const[e,t]=w.useState(""),[n,r]=w.useState(!0);w.useEffect(()=>{window.scrollTo(0,0),s()},[]);async function s(){const{data:i}=await V.from("shipping_settings").select("privacy_policy_text").eq("id",1).single();i&&i.privacy_policy_text?t(i.privacy_policy_text):t("Our privacy policy is currently being updated. Please check back later or contact support."),r(!1)}return n?a.jsx("div",{className:"min-h-screen bg-cyber-black flex items-center justify-center pt-24 pb-32",children:a.jsx("div",{className:"w-8 h-8 border-2 border-cyber-purple border-t-transparent rounded-full animate-spin"})}):a.jsxs("div",{className:"min-h-screen bg-cyber-black text-white font-sans selection:bg-cyber-purple selection:text-white pt-32 pb-32 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-cyber-purple/5 rounded-full blur-[120px] -z-10 pointer-events-none"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-cyber-pink/5 rounded-full blur-[120px] -z-10 pointer-events-none"}),a.jsxs("div",{className:"max-w-[900px] mx-auto px-6 md:px-12 relative z-10",children:[a.jsxs("div",{className:"mb-16 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold tracking-[0.2em] mb-4 text-cyber-purple uppercase font-sans",children:"Privacy Policy"}),a.jsx("div",{className:"w-24 h-[1px] bg-gradient-to-r from-transparent via-cyber-purple to-transparent mx-auto opacity-70"})]}),a.jsx("div",{className:"bg-white/5 border border-white/10 p-8 md:p-12 rounded-xl backdrop-blur-md shadow-2xl",children:a.jsx("div",{className:"prose prose-sm md:prose-base max-w-none text-gray-300 leading-relaxed font-sans font-medium tracking-wide whitespace-pre-wrap selection:bg-cyber-purple selection:text-white",children:e})}),a.jsxs("div",{className:"mt-16 text-center text-[11px] text-gray-500 uppercase tracking-widest font-sans font-bold flex items-center justify-center gap-3",children:[a.jsx("div",{className:"w-8 h-[1px] bg-white/10"}),a.jsxs("p",{children:["LAST UPDATED: ",new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"}).toUpperCase()]}),a.jsx("div",{className:"w-8 h-[1px] bg-white/10"})]})]})]})}function xC({children:e}){const t=Ve(r=>r.user);return Ve(r=>r.loading)?null:t?e:a.jsx(ox,{to:"/admin/login",replace:!0})}function yC({children:e}){const t=Ve(r=>r.user);return Ve(r=>r.loading)?null:t?e:a.jsx(ox,{to:"/auth",replace:!0})}function vC(){const e=Ve(t=>t.initialize);return w.useEffect(()=>{const t=e();return()=>{typeof(t==null?void 0:t.then)=="function"&&t.then(n=>n==null?void 0:n())}},[]),a.jsxs(V1,{children:[a.jsx(VE,{}),a.jsxs(Tf,{children:[a.jsx(Ke,{path:"/admin/login",element:a.jsx(fC,{})}),a.jsx(Ke,{path:"/admin",element:a.jsx(xC,{children:a.jsx(hC,{})})}),a.jsx(Ke,{path:"/*",element:a.jsxs("div",{className:"min-h-screen bg-cyber-black",children:[a.jsx(DE,{}),a.jsx(zE,{}),a.jsx(FE,{}),a.jsx("main",{children:a.jsxs(Tf,{children:[a.jsx(Ke,{path:"/",element:a.jsx(WE,{})}),a.jsx(Ke,{path:"/shop",element:a.jsx(JE,{})}),a.jsx(Ke,{path:"/product/:id",element:a.jsx(QE,{})}),a.jsx(Ke,{path:"/auth",element:a.jsx(ZE,{})}),a.jsx(Ke,{path:"/refund-policy",element:a.jsx(pC,{})}),a.jsx(Ke,{path:"/shipping-info",element:a.jsx(mC,{})}),a.jsx(Ke,{path:"/privacy-policy",element:a.jsx(gC,{})}),a.jsx(Ke,{path:"/customize",element:a.jsx(tC,{})}),a.jsx(Ke,{path:"/cart",element:a.jsx(nC,{})}),a.jsx(Ke,{path:"/checkout",element:a.jsx(yC,{children:a.jsx(eC,{})})})]})}),a.jsx(ME,{})]})})]})]})}sc.createRoot(document.getElementById("root")).render(a.jsx(kn.StrictMode,{children:a.jsx(vC,{})}));
